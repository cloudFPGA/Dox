<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- import the script somewhere in the head -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cloudFPGA (cF) API: repos_for_Dox/cFp_HelloThemisto/ROLE/1/hls/triangle_app/src/triangle_app.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cloudFPGA (cF) API
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The documentation of the source code of cloudFPGA (cF)</div>
  </td>
   <td style="padding-left: 0.5em;">
   <div id="projectbrief"><a href="https://cloudfpga.github.io/Doc">Return to the generic documentation of cloudFPGA</a></div>
   </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('triangle__app_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">triangle_app.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="triangle__app_8hpp_source.html">triangle_app.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for triangle_app.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp__incl.svg" width="100%" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="triangle__app_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a033fd36668741325cf3c111416e82131"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="triangle__app_8cpp.html#a033fd36668741325cf3c111416e82131">pPortAndDestionation</a> (ap_uint&lt; 32 &gt; *pi_rank, ap_uint&lt; 32 &gt; *pi_size, stream&lt; <a class="el" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> &gt; &amp;sDstNode_sig, ap_uint&lt; 32 &gt; *po_rx_ports)</td></tr>
<tr class="separator:a033fd36668741325cf3c111416e82131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fba890190acbbf51e10489492c7f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="triangle__app_8cpp.html#ae0fba890190acbbf51e10489492c7f59">pEnq</a> (stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;siNrc_meta, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;siNrc_data, stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;sRxtoTx_Meta, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;sRxpToTxp_Data)</td></tr>
<tr class="separator:ae0fba890190acbbf51e10489492c7f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997c470d682d47ead9e6fc68c4fed4a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="triangle__app_8cpp.html#a997c470d682d47ead9e6fc68c4fed4a4">pDeq</a> (stream&lt; <a class="el" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> &gt; &amp;sDstNode_sig, stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;sRxtoTx_Meta, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;sRxpToTxp_Data, stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;soNrc_meta, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;soNrc_data)</td></tr>
<tr class="separator:a997c470d682d47ead9e6fc68c4fed4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d351068d3a07703fabccb994937d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="triangle__app_8cpp.html#af0d351068d3a07703fabccb994937d4e">triangle_app</a> (ap_uint&lt; 32 &gt; *pi_rank, ap_uint&lt; 32 &gt; *pi_size, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;siNrc_data, stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;soNrc_data, stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;siNrc_meta, stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;soNrc_meta, ap_uint&lt; 32 &gt; *po_rx_ports)</td></tr>
<tr class="memdesc:af0d351068d3a07703fabccb994937d4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main process of the UDP/TCP Triangle Application. This HLS IP receives a packet and forwards it to the next node in the cluster. The last forwards it to 0.  <a href="triangle__app_8cpp.html#af0d351068d3a07703fabccb994937d4e">More...</a><br /></td></tr>
<tr class="separator:af0d351068d3a07703fabccb994937d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a997c470d682d47ead9e6fc68c4fed4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a997c470d682d47ead9e6fc68c4fed4a4">&#9670;&nbsp;</a></span>pDeq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pDeq </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sDstNode_sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sRxtoTx_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sRxpToTxp_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soNrc_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soNrc_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sRxpToTxp_Data.empty() &amp;&amp;</p>

<p class="definition">Definition at line <a class="el" href="triangle__app_8cpp_source.html#l00111">111</a> of file <a class="el" href="triangle__app_8cpp_source.html">triangle_app.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#pragma HLS INLINE off</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">//-- STATIC VARIABLES (with RESET) ------------------------------------------</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">static</span> <a class="code" href="group__MemtestHLS.html#ga57ec8b4871fe256f0f79af7c0bf3bdb8">PacketFsmType</a> <a class="code" href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a> = <a class="code" href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#pragma HLS reset variable=dequeueFSM</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">//-- STATIC DATAFLOW VARIABLES ------------------------------------------</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">//static NetworkMeta meta_out;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keyword">static</span> <a class="code" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> dst_rank;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">//-- LOCAL VARIABLES ------------------------------------------------------</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="structNetworkWord.html">NetworkWord</a> udpWordTx = <a class="code" href="structNetworkWord.html">NetworkWord</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a>:</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">if</span>(!sDstNode_sig.empty())</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        dst_rank = sDstNode_sig.read();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a> = <a class="code" href="triangle__app_8hpp.html#a2966609e224cd467a99e2496c97d4c23">WAIT_FOR_STREAM</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment">//Triangle app needs to be reset to process new rank</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="triangle__app_8hpp.html#a2966609e224cd467a99e2496c97d4c23">WAIT_FOR_STREAM</a>:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="comment">//-- Forward incoming chunk to SHELL</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">if</span> ( </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;          !sRxtoTx_Meta.empty() </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <span class="comment">//&amp;&amp; !soNrc_data.full() </span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          &amp;&amp; !soNrc_meta.full() </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        )</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment">//udpWordTx = sRxpToTxp_Data.read();</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">//soNrc_data.write(udpWordTx);</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="structNetworkMeta.html">NetworkMeta</a> meta_in = sRxtoTx_Meta.read().tdata;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="structNetworkMeta.html">NetworkMeta</a> meta_out = <a class="code" href="structNetworkMeta.html">NetworkMeta</a>();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">//meta_out_stream.tlast = 1;</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment">//meta_out_stream.tkeep = 0xFF; //just to be sure!</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">//meta_out.dst_rank = (*pi_rank + 1) % *pi_size;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        meta_out.<a class="code" href="structNetworkMeta.html#a15d9e064d4d2cca357259dcf99a10be2">dst_rank</a> = dst_rank;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">//printf(&quot;meat_out.dst_rank: %d\n&quot;, (int) meta_out_stream.tdata.dst_rank);</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        meta_out.<a class="code" href="structNetworkMeta.html#ae4a396b51e02bc2b7694cf2b1cb98d36">dst_port</a> = <a class="code" href="group__NAL.html#ga8da7d0440433cf09cfaa57ef8156c8ad">DEFAULT_TX_PORT</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">//meta_out.src_rank = (NodeId) *pi_rank;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        meta_out.<a class="code" href="structNetworkMeta.html#a5fdc5c9eac276a6beb270be0212a6d1e">src_rank</a> = <a class="code" href="network_8hpp.html#a61aae582c720c87375a441910931a9a9">NAL_THIS_FPGA_PSEUDO_NID</a>; <span class="comment">//will be ignored, it is always this FPGA...</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        meta_out.<a class="code" href="structNetworkMeta.html#a7602125b60cda6327fd893f6b169c681">src_port</a> = <a class="code" href="group__NAL.html#ga5e2f137abbfde7033bb4ba4c09372383">DEFAULT_RX_PORT</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        meta_out.<a class="code" href="structNetworkMeta.html#a12757aabec6220504f9ea06ce65b62b5">len</a> = meta_in.<a class="code" href="structNetworkMeta.html#a12757aabec6220504f9ea06ce65b62b5">len</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;       soNrc_meta.write(<a class="code" href="structNetworkMeta.html">NetworkMeta</a>(meta_out));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">//if(udpWordTx.tlast != 1)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">//{</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          <a class="code" href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a> = <a class="code" href="group__MemtestHLS.html#ga87b62f48cf193b3abe58a615d231fc7e">PROCESSING_PACKET</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">//dequeueFSM = WRITE_META;</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">//case WRITE_META:</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">//  if(!soNrc_meta.full())</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">//  {</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">//   soNrc_meta.write(NetworkMeta(meta_out));</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//   dequeueFSM = PROCESSING_PACKET;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">//  }</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">//  break;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#ga87b62f48cf193b3abe58a615d231fc7e">PROCESSING_PACKET</a>:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span>( !sRxpToTxp_Data.empty() &amp;&amp; !soNrc_data.full())</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        udpWordTx = sRxpToTxp_Data.read();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        soNrc_data.write(udpWordTx);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span>(udpWordTx.<a class="code" href="structNetworkWord.html#acea4421c2fc450f328a0f480d0542029">tlast</a> == 1)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          <a class="code" href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a> = <a class="code" href="triangle__app_8hpp.html#a2966609e224cd467a99e2496c97d4c23">WAIT_FOR_STREAM</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="ttc" id="agroup__MemtestHLS_html_ga57ec8b4871fe256f0f79af7c0bf3bdb8"><div class="ttname"><a href="group__MemtestHLS.html#ga57ec8b4871fe256f0f79af7c0bf3bdb8">PacketFsmType</a></div><div class="ttdeci">#define PacketFsmType</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00076">memtest.hpp:76</a></div></div>
<div class="ttc" id="agroup__MemtestHLS_html_ga87b62f48cf193b3abe58a615d231fc7e"><div class="ttname"><a href="group__MemtestHLS.html#ga87b62f48cf193b3abe58a615d231fc7e">PROCESSING_PACKET</a></div><div class="ttdeci">#define PROCESSING_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00073">memtest.hpp:73</a></div></div>
<div class="ttc" id="agroup__MemtestHLS_html_gae40bd19fcd887977320dcd8d776df2ad"><div class="ttname"><a href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a></div><div class="ttdeci">#define WAIT_FOR_META</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00071">memtest.hpp:71</a></div></div>
<div class="ttc" id="agroup__NAL_html_ga5e2f137abbfde7033bb4ba4c09372383"><div class="ttname"><a href="group__NAL.html#ga5e2f137abbfde7033bb4ba4c09372383">DEFAULT_RX_PORT</a></div><div class="ttdeci">#define DEFAULT_RX_PORT</div><div class="ttdef"><b>Definition:</b> <a href="nal_8hpp_source.html#l00139">nal.hpp:139</a></div></div>
<div class="ttc" id="agroup__NAL_html_ga8da7d0440433cf09cfaa57ef8156c8ad"><div class="ttname"><a href="group__NAL.html#ga8da7d0440433cf09cfaa57ef8156c8ad">DEFAULT_TX_PORT</a></div><div class="ttdeci">#define DEFAULT_TX_PORT</div><div class="ttdef"><b>Definition:</b> <a href="nal_8hpp_source.html#l00138">nal.hpp:138</a></div></div>
<div class="ttc" id="agroup__UppercaseHLS_html_ga894c1b5455d143d538aebf960b786279"><div class="ttname"><a href="group__UppercaseHLS.html#ga894c1b5455d143d538aebf960b786279">dequeueFSM</a></div><div class="ttdeci">uint8_t dequeueFSM</div><div class="ttdef"><b>Definition:</b> <a href="src_2uppercase_8cpp_source.html#l00055">uppercase.cpp:55</a></div></div>
<div class="ttc" id="anetwork_8hpp_html_a16306ff1f98de1cd1d44026952c23442"><div class="ttname"><a href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a></div><div class="ttdeci">ap_uint&lt; 8 &gt; NodeId</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00082">network.hpp:82</a></div></div>
<div class="ttc" id="anetwork_8hpp_html_a61aae582c720c87375a441910931a9a9"><div class="ttname"><a href="network_8hpp.html#a61aae582c720c87375a441910931a9a9">NAL_THIS_FPGA_PSEUDO_NID</a></div><div class="ttdeci">#define NAL_THIS_FPGA_PSEUDO_NID</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00087">network.hpp:87</a></div></div>
<div class="ttc" id="astructNetworkMeta_html"><div class="ttname"><a href="structNetworkMeta.html">NetworkMeta</a></div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00094">network.hpp:94</a></div></div>
<div class="ttc" id="astructNetworkMeta_html_a12757aabec6220504f9ea06ce65b62b5"><div class="ttname"><a href="structNetworkMeta.html#a12757aabec6220504f9ea06ce65b62b5">NetworkMeta::len</a></div><div class="ttdeci">NetworkDataLength len</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00099">network.hpp:99</a></div></div>
<div class="ttc" id="astructNetworkMeta_html_a15d9e064d4d2cca357259dcf99a10be2"><div class="ttname"><a href="structNetworkMeta.html#a15d9e064d4d2cca357259dcf99a10be2">NetworkMeta::dst_rank</a></div><div class="ttdeci">NodeId dst_rank</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00095">network.hpp:95</a></div></div>
<div class="ttc" id="astructNetworkMeta_html_a5fdc5c9eac276a6beb270be0212a6d1e"><div class="ttname"><a href="structNetworkMeta.html#a5fdc5c9eac276a6beb270be0212a6d1e">NetworkMeta::src_rank</a></div><div class="ttdeci">NodeId src_rank</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00097">network.hpp:97</a></div></div>
<div class="ttc" id="astructNetworkMeta_html_a7602125b60cda6327fd893f6b169c681"><div class="ttname"><a href="structNetworkMeta.html#a7602125b60cda6327fd893f6b169c681">NetworkMeta::src_port</a></div><div class="ttdeci">NrcPort src_port</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00098">network.hpp:98</a></div></div>
<div class="ttc" id="astructNetworkMeta_html_ae4a396b51e02bc2b7694cf2b1cb98d36"><div class="ttname"><a href="structNetworkMeta.html#ae4a396b51e02bc2b7694cf2b1cb98d36">NetworkMeta::dst_port</a></div><div class="ttdeci">NrcPort dst_port</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00096">network.hpp:96</a></div></div>
<div class="ttc" id="astructNetworkWord_html"><div class="ttname"><a href="structNetworkWord.html">NetworkWord</a></div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00048">network.hpp:48</a></div></div>
<div class="ttc" id="astructNetworkWord_html_acea4421c2fc450f328a0f480d0542029"><div class="ttname"><a href="structNetworkWord.html#acea4421c2fc450f328a0f480d0542029">NetworkWord::tlast</a></div><div class="ttdeci">ap_uint&lt; 1 &gt; tlast</div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00051">network.hpp:51</a></div></div>
<div class="ttc" id="atriangle__app_8hpp_html_a2966609e224cd467a99e2496c97d4c23"><div class="ttname"><a href="triangle__app_8hpp.html#a2966609e224cd467a99e2496c97d4c23">WAIT_FOR_STREAM</a></div><div class="ttdeci">#define WAIT_FOR_STREAM</div><div class="ttdef"><b>Definition:</b> <a href="triangle__app_8hpp_source.html#l00047">triangle_app.hpp:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp_a997c470d682d47ead9e6fc68c4fed4a4_icgraph.svg" width="442" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae0fba890190acbbf51e10489492c7f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0fba890190acbbf51e10489492c7f59">&#9670;&nbsp;</a></span>pEnq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pEnq </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siNrc_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siNrc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sRxtoTx_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sRxpToTxp_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="triangle__app_8cpp_source.html#l00066">66</a> of file <a class="el" href="triangle__app_8cpp_source.html">triangle_app.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#pragma HLS INLINE off</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">//-- STATIC VARIABLES (with RESET) ------------------------------------------</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">static</span> <a class="code" href="group__MemtestHLS.html#ga57ec8b4871fe256f0f79af7c0bf3bdb8">PacketFsmType</a> <a class="code" href="group__UppercaseHLS.html#ga0ef2ae036849b529bd8f98217a841c43">enqueueFSM</a> = <a class="code" href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#pragma HLS reset variable=enqueueFSM</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">//-- LOCAL VARIABLES ------------------------------------------------------</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="structNetworkWord.html">NetworkWord</a> udpWord = <a class="code" href="structNetworkWord.html">NetworkWord</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="structNetworkMetaStream.html">NetworkMetaStream</a> meta_tmp = <a class="code" href="structNetworkMetaStream.html">NetworkMetaStream</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="group__UppercaseHLS.html#ga0ef2ae036849b529bd8f98217a841c43">enqueueFSM</a>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a>:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">if</span> ( !siNrc_meta.empty() &amp;&amp; !sRxtoTx_Meta.full() )</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        meta_tmp = siNrc_meta.read();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="comment">//meta_tmp.tlast = 1; //just to be sure...</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        sRxtoTx_Meta.write(meta_tmp);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="group__UppercaseHLS.html#ga0ef2ae036849b529bd8f98217a841c43">enqueueFSM</a> = <a class="code" href="group__MemtestHLS.html#ga87b62f48cf193b3abe58a615d231fc7e">PROCESSING_PACKET</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#ga87b62f48cf193b3abe58a615d231fc7e">PROCESSING_PACKET</a>:</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">if</span> ( !siNrc_data.empty() &amp;&amp; !sRxpToTxp_Data.full() )</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        udpWord = siNrc_data.read();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        sRxpToTxp_Data.write(udpWord);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span>(udpWord.<a class="code" href="structNetworkWord.html#acea4421c2fc450f328a0f480d0542029">tlast</a> == 1)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          <a class="code" href="group__UppercaseHLS.html#ga0ef2ae036849b529bd8f98217a841c43">enqueueFSM</a> = <a class="code" href="group__MemtestHLS.html#gae40bd19fcd887977320dcd8d776df2ad">WAIT_FOR_META</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="ttc" id="agroup__UppercaseHLS_html_ga0ef2ae036849b529bd8f98217a841c43"><div class="ttname"><a href="group__UppercaseHLS.html#ga0ef2ae036849b529bd8f98217a841c43">enqueueFSM</a></div><div class="ttdeci">uint8_t enqueueFSM</div><div class="ttdef"><b>Definition:</b> <a href="src_2uppercase_8cpp_source.html#l00054">uppercase.cpp:54</a></div></div>
<div class="ttc" id="astructNetworkMetaStream_html"><div class="ttname"><a href="structNetworkMetaStream.html">NetworkMetaStream</a></div><div class="ttdef"><b>Definition:</b> <a href="network_8hpp_source.html#l00108">network.hpp:108</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp_ae0fba890190acbbf51e10489492c7f59_icgraph.svg" width="440" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a033fd36668741325cf3c111416e82131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033fd36668741325cf3c111416e82131">&#9670;&nbsp;</a></span>pPortAndDestionation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pPortAndDestionation </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>pi_rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>pi_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sDstNode_sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>po_rx_ports</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright 2016 &ndash; 2022 IBM Corporation</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>

<p class="definition">Definition at line <a class="el" href="triangle__app_8cpp_source.html#l00031">31</a> of file <a class="el" href="triangle__app_8cpp_source.html">triangle_app.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#pragma HLS INLINE off</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//#pragma HLS pipeline II=1 //not necessary</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">//-- STATIC VARIABLES (with RESET) ------------------------------------------</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">static</span> <a class="code" href="group__MemtestHLS.html#ga5966a26e002ce934ef000c40e2e1f5f1">PortFsmType</a> port_fsm = <a class="code" href="group__MemtestHLS.html#ga2fe53629ccfda4b9b6a4111bfcd907dc">FSM_WRITE_NEW_DATA</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#pragma HLS reset variable=port_fsm</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">switch</span>(port_fsm)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#ga2fe53629ccfda4b9b6a4111bfcd907dc">FSM_WRITE_NEW_DATA</a>:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">//Triangle app needs to be reset to process new rank</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span>(!sDstNode_sig.full())</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;          <a class="code" href="network_8hpp.html#a16306ff1f98de1cd1d44026952c23442">NodeId</a> dst_rank = (*pi_rank + 1) % *pi_size;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;          printf(<span class="stringliteral">&quot;rank: %d; size: %d; \n&quot;</span>, (<span class="keywordtype">int</span>) *pi_rank, (<span class="keywordtype">int</span>) *pi_size);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;          sDstNode_sig.write(dst_rank);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;          port_fsm = <a class="code" href="group__MemtestHLS.html#ga4b7b3b196659a962c16faa554d2289aa">FSM_DONE</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__MemtestHLS.html#ga4b7b3b196659a962c16faa554d2289aa">FSM_DONE</a>:</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        *po_rx_ports = 0x1; <span class="comment">//currently work only with default ports...</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="ttc" id="agroup__MemtestHLS_html_ga2fe53629ccfda4b9b6a4111bfcd907dc"><div class="ttname"><a href="group__MemtestHLS.html#ga2fe53629ccfda4b9b6a4111bfcd907dc">FSM_WRITE_NEW_DATA</a></div><div class="ttdeci">#define FSM_WRITE_NEW_DATA</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00078">memtest.hpp:78</a></div></div>
<div class="ttc" id="agroup__MemtestHLS_html_ga4b7b3b196659a962c16faa554d2289aa"><div class="ttname"><a href="group__MemtestHLS.html#ga4b7b3b196659a962c16faa554d2289aa">FSM_DONE</a></div><div class="ttdeci">#define FSM_DONE</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00079">memtest.hpp:79</a></div></div>
<div class="ttc" id="agroup__MemtestHLS_html_ga5966a26e002ce934ef000c40e2e1f5f1"><div class="ttname"><a href="group__MemtestHLS.html#ga5966a26e002ce934ef000c40e2e1f5f1">PortFsmType</a></div><div class="ttdeci">#define PortFsmType</div><div class="ttdef"><b>Definition:</b> <a href="memtest_8hpp_source.html#l00080">memtest.hpp:80</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp_a033fd36668741325cf3c111416e82131_icgraph.svg" width="550" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af0d351068d3a07703fabccb994937d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d351068d3a07703fabccb994937d4e">&#9670;&nbsp;</a></span>triangle_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void triangle_app </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>pi_rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>pi_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siNrc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkWord.html">NetworkWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soNrc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siNrc_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structNetworkMetaStream.html">NetworkMetaStream</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soNrc_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ap_uint&lt; 32 &gt; *&#160;</td>
          <td class="paramname"><em>po_rx_ports</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main process of the UDP/TCP Triangle Application. This HLS IP receives a packet and forwards it to the next node in the cluster. The last forwards it to 0. </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="triangle__app_8cpp_source.html#l00211">211</a> of file <a class="el" href="triangle__app_8cpp_source.html">triangle_app.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">//-- DIRECTIVES FOR THE BLOCK ---------------------------------------------</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE ap_ctrl_none port=return</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE axis register both port=siNrc_data</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE axis register both port=soNrc_data</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE axis register both port=siNrc_meta</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE axis register both port=soNrc_meta</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE ap_vld register port=po_rx_ports name=poROL_NRC_Rx_ports</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE ap_vld register port=pi_rank name=piFMC_ROL_rank</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#pragma HLS INTERFACE ap_vld register port=pi_size name=piFMC_ROL_size</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#pragma HLS DATAFLOW</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">//-- STATIC VARIABLES (with RESET) ------------------------------------------</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">//-- STATIC DATAFLOW VARIABLES ------------------------------------------</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keyword">static</span> stream&lt;NetworkWord&gt;       sBuffer_Data   (<span class="stringliteral">&quot;sBuffer_Data&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keyword">static</span> stream&lt;NetworkMetaStream&gt; sBuffer_Meta   (<span class="stringliteral">&quot;sBuffer_Meta&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keyword">static</span> stream&lt;NodeId&gt;            sDstNode_sig   (<span class="stringliteral">&quot;sDstNode_sig&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#pragma HLS STREAM variable=sBuffer_Data     depth=252</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#pragma HLS STREAM variable=sBuffer_Meta     depth=32</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#pragma HLS STREAM variable=sDstNode_sig     depth=1</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">//-- LOCAL VARIABLES ------------------------------------------------------</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="triangle__app_8cpp.html#a033fd36668741325cf3c111416e82131">pPortAndDestionation</a>(pi_rank, pi_size, sDstNode_sig, po_rx_ports);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="triangle__app_8cpp.html#ae0fba890190acbbf51e10489492c7f59">pEnq</a>(siNrc_meta, siNrc_data, sBuffer_Meta, sBuffer_Data);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="triangle__app_8cpp.html#a997c470d682d47ead9e6fc68c4fed4a4">pDeq</a>(sDstNode_sig, sBuffer_Meta, sBuffer_Data, soNrc_meta, soNrc_data);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="ttc" id="atriangle__app_8cpp_html_a033fd36668741325cf3c111416e82131"><div class="ttname"><a href="triangle__app_8cpp.html#a033fd36668741325cf3c111416e82131">pPortAndDestionation</a></div><div class="ttdeci">void pPortAndDestionation(ap_uint&lt; 32 &gt; *pi_rank, ap_uint&lt; 32 &gt; *pi_size, stream&lt; NodeId &gt; &amp;sDstNode_sig, ap_uint&lt; 32 &gt; *po_rx_ports)</div><div class="ttdef"><b>Definition:</b> <a href="triangle__app_8cpp_source.html#l00031">triangle_app.cpp:31</a></div></div>
<div class="ttc" id="atriangle__app_8cpp_html_a997c470d682d47ead9e6fc68c4fed4a4"><div class="ttname"><a href="triangle__app_8cpp.html#a997c470d682d47ead9e6fc68c4fed4a4">pDeq</a></div><div class="ttdeci">void pDeq(stream&lt; NodeId &gt; &amp;sDstNode_sig, stream&lt; NetworkMetaStream &gt; &amp;sRxtoTx_Meta, stream&lt; NetworkWord &gt; &amp;sRxpToTxp_Data, stream&lt; NetworkMetaStream &gt; &amp;soNrc_meta, stream&lt; NetworkWord &gt; &amp;soNrc_data)</div><div class="ttdef"><b>Definition:</b> <a href="triangle__app_8cpp_source.html#l00111">triangle_app.cpp:111</a></div></div>
<div class="ttc" id="atriangle__app_8cpp_html_ae0fba890190acbbf51e10489492c7f59"><div class="ttname"><a href="triangle__app_8cpp.html#ae0fba890190acbbf51e10489492c7f59">pEnq</a></div><div class="ttdeci">void pEnq(stream&lt; NetworkMetaStream &gt; &amp;siNrc_meta, stream&lt; NetworkWord &gt; &amp;siNrc_data, stream&lt; NetworkMetaStream &gt; &amp;sRxtoTx_Meta, stream&lt; NetworkWord &gt; &amp;sRxpToTxp_Data)</div><div class="ttdef"><b>Definition:</b> <a href="triangle__app_8cpp_source.html#l00066">triangle_app.cpp:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp_af0d351068d3a07703fabccb994937d4e_cgraph.svg" width="326" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="triangle__app_8cpp_af0d351068d3a07703fabccb994937d4e_icgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b7e1ac749c44ea1caea8cb543e7af8e2.html">repos_for_Dox</a></li><li class="navelem"><a class="el" href="dir_36842f88d531f78d9cf0910d4180b361.html">cFp_HelloThemisto</a></li><li class="navelem"><a class="el" href="dir_9e07b6ad2ae5b432dcd6871cd0570707.html">ROLE</a></li><li class="navelem"><a class="el" href="dir_48dd0e6a96d4070d7485baf534d4e2b1.html">1</a></li><li class="navelem"><a class="el" href="dir_75ff108b123caa46ab7713cdd3be72ea.html">hls</a></li><li class="navelem"><a class="el" href="dir_35f2d4b2bafab5cab10a62357e1ed8d0.html">triangle_app</a></li><li class="navelem"><a class="el" href="dir_d7bbce9c32c5626eaaa7a08e0b6c8613.html">src</a></li><li class="navelem"><a class="el" href="triangle__app_8cpp.html">triangle_app.cpp</a></li>
    <li class="footer">Generated on Sat Jul 15 2023 05:03:02 for cloudFPGA (cF) API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
    <!-- add the button to toggle the theme -->
    <script>
    $(document).ready(function(){
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    </script>
</html>
