<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- import the script somewhere in the head -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cloudFPGA (cF) API: UOE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cloudFPGA (cF) API
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The documentation of the source code of cloudFPGA (cF)</div>
  </td>
   <td style="padding-left: 0.5em;">
   <div id="projectbrief"><a href="https://cloudfpga.github.io/Doc">Return to the generic documentation of cloudFPGA</a></div>
   </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NTS__UOE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">UOE<div class="ingroups"><a class="el" href="group__cF.html">cF</a> &raquo; <a class="el" href="group__cFSphere.html">cFSphere</a> &raquo; <a class="el" href="group__cFDK.html">cFDK</a> &raquo; <a class="el" href="group__ShellLib.html">SHELL Library</a> &raquo; <a class="el" href="group__NTS.html">NTS</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>UDP Offload Engine (UOE) of the Network Transport Stack (NTS).  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for UOE:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE.svg" width="380" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__NTS__UOE__TEST"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE__TEST.html">UOE_TEST</a></td></tr>
<tr class="memdesc:group__NTS__UOE__TEST"><td class="mdescLeft">&#160;</td><td class="mdescRight">Testbench for the UDP Offload Engine (UOE) of the Network Transport Stack (NTS). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:test__uoe_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test__uoe_8cpp.html">test_uoe.cpp</a></td></tr>
<tr class="memdesc:test__uoe_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Testbench for the UDP Offload Engine (UOE). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:test__uoe_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test__uoe_8hpp.html">test_uoe.hpp</a></td></tr>
<tr class="memdesc:test__uoe_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Testbench for the UDP Offload Engine (UOE). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIpAddrPair.html">IpAddrPair</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9a0e1b8e8ac96ab611450c49030b25d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>&#160;&#160;&#160;&quot;UOE&quot;</td></tr>
<tr class="separator:ga9a0e1b8e8ac96ab611450c49030b25d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4551f8c4b614f71ec77825c0e5e26ca4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga4551f8c4b614f71ec77825c0e5e26ca4">TRACE_OFF</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="separator:ga4551f8c4b614f71ec77825c0e5e26ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe1e6892ad19eb430d424a3649f00bd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>&#160;&#160;&#160;1 &lt;&lt; 1</td></tr>
<tr class="separator:gafe1e6892ad19eb430d424a3649f00bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa454712ade9a73d99f85f05cf35a1c9a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>&#160;&#160;&#160;1 &lt;&lt; 2</td></tr>
<tr class="separator:gaa454712ade9a73d99f85f05cf35a1c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacddaf53f08f11ef9f5dcb902dcb0b723"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>&#160;&#160;&#160;1 &lt;&lt; 3</td></tr>
<tr class="separator:gacddaf53f08f11ef9f5dcb902dcb0b723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9b2844ae7692a505350be3f3044ba2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>&#160;&#160;&#160;1 &lt;&lt; 4</td></tr>
<tr class="separator:gaa9b2844ae7692a505350be3f3044ba2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf75cd358a5f570d5dc2b21c52cb030a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>&#160;&#160;&#160;1 &lt;&lt; 5</td></tr>
<tr class="separator:gabf75cd358a5f570d5dc2b21c52cb030a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga720f04bcc3fbe7ab9494fff05804011e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga720f04bcc3fbe7ab9494fff05804011e">TRACE_UCA</a>&#160;&#160;&#160;1 &lt;&lt; 6</td></tr>
<tr class="separator:ga720f04bcc3fbe7ab9494fff05804011e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bc49e2700b210a2754d5d5f4124694a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>&#160;&#160;&#160;1 &lt;&lt; 7</td></tr>
<tr class="separator:ga3bc49e2700b210a2754d5d5f4124694a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga961777f9f2ab521e6eb0767c92834ec5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga961777f9f2ab521e6eb0767c92834ec5">TRACE_UHA</a>&#160;&#160;&#160;1 &lt;&lt; 8</td></tr>
<tr class="separator:ga961777f9f2ab521e6eb0767c92834ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7aa2f504bd34a4a24061e6cf92ccada"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gae7aa2f504bd34a4a24061e6cf92ccada">TRACE_UPT</a>&#160;&#160;&#160;1 &lt;&lt; 9</td></tr>
<tr class="separator:gae7aa2f504bd34a4a24061e6cf92ccada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4811a3fa9574a7836b8aaa99f553800"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gae4811a3fa9574a7836b8aaa99f553800">TRACE_ALL</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="separator:gae4811a3fa9574a7836b8aaa99f553800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2d33ccaf63f5d5b66552b95426c0137"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a>&#160;&#160;&#160;(<a class="el" href="group__udp__shell__if.html#ga4551f8c4b614f71ec77825c0e5e26ca4">TRACE_OFF</a>)</td></tr>
<tr class="separator:gac2d33ccaf63f5d5b66552b95426c0137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66363019754fdc187a4f50783b681491"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga66363019754fdc187a4f50783b681491">UOE_ELASTIC_DATA_BUFFER</a>&#160;&#160;&#160;16*1024</td></tr>
<tr class="separator:ga66363019754fdc187a4f50783b681491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ad6b8501a1f57ebdb735fba3c70f06d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga4ad6b8501a1f57ebdb735fba3c70f06d">UOE_ELASTIC_HEADER_BUFF</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ga4ad6b8501a1f57ebdb735fba3c70f06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf298ae8ed051de648f02f4b2ab238ded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gaf298ae8ed051de648f02f4b2ab238ded">pIpHeaderStripper</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;siIPRX_Data, stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;soUcc_UdpDgrm, stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;soUcc_PsdHdrSum, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;soRph_Ip4Hdr, stream&lt; <a class="el" href="group__NTS.html#ga0b335b61d35849bcfae104b2eb440c31">SigBit</a> &gt; &amp;siUcc_ClearToSend, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt)</td></tr>
<tr class="separator:gaf298ae8ed051de648f02f4b2ab238ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a359e091f9f35fcd4f5564574eafc6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga2a359e091f9f35fcd4f5564574eafc6c">pUdpChecksumChecker</a> (stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;siIhs_UdpDgrm, stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;siIhs_PsdHdrSum, stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;soRph_UdpDgrm, stream&lt; <a class="el" href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a> &gt; &amp;soRph_CsumVal, stream&lt; <a class="el" href="group__NTS.html#ga0b335b61d35849bcfae104b2eb440c31">SigBit</a> &gt; &amp;soIhs_ClearToSend)</td></tr>
<tr class="separator:ga2a359e091f9f35fcd4f5564574eafc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga167bf3d28da8dec6aa2e94ca84f42131"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga167bf3d28da8dec6aa2e94ca84f42131">pRxPacketHandler</a> (stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;siUcc_UdpDgrm, stream&lt; <a class="el" href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a> &gt; &amp;siUcc_CsumVal, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;siIhs_Ip4Hdr, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;soUpt_PortStateReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;siUpt_PortStateRep, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soUAIF_DLen, stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;soICMP_Data)</td></tr>
<tr class="separator:ga167bf3d28da8dec6aa2e94ca84f42131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga097bb0a9ace9c9535590721a8151a979"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga097bb0a9ace9c9535590721a8151a979">pUdpPortTable</a> (stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soMMIO_Ready, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;siRph_PortStateReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soRph_PortStateRep, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;siUAIF_LsnReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soUAIF_LsnRep, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;siUAIF_ClsReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soUAIF_ClsRep)</td></tr>
<tr class="separator:ga097bb0a9ace9c9535590721a8151a979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f2f0d19a54d57f63fe33700654988f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga0f2f0d19a54d57f63fe33700654988f8">pRxEngine</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soMMIO_Ready, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;siIPRX_Data, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;siUAIF_LsnReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soUAIF_LsnRep, stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;siUAIF_ClsReq, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soUAIF_ClsRep, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soUAIF_DLen, stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;soICMP_Data, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt)</td></tr>
<tr class="separator:ga0f2f0d19a54d57f63fe33700654988f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d0245b447990d0689a8a76e6ac88923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga4d0245b447990d0689a8a76e6ac88923">pTxApplicationInterface</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siUAIF_DLen, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soTdh_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soTdh_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soTdh_DLen)</td></tr>
<tr class="separator:ga4d0245b447990d0689a8a76e6ac88923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7019e2dca00657e45cc22122fe8c23e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gac7019e2dca00657e45cc22122fe8c23e">pTxDatagramHandler</a> (stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siUAIF_DLen, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soUha_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soUha_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soUha_DLen, stream&lt; <a class="el" href="classAxisPsd4.html">AxisPsd4</a> &gt; &amp;soUca_Data)</td></tr>
<tr class="separator:gac7019e2dca00657e45cc22122fe8c23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga049dc0a8894b4489363d6e958fab1332"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga049dc0a8894b4489363d6e958fab1332">pUdpChecksumAccumulator</a> (stream&lt; <a class="el" href="classAxisPsd4.html">AxisPsd4</a> &gt; &amp;siTdh_Data, stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;soUha_Csum)</td></tr>
<tr class="separator:ga049dc0a8894b4489363d6e958fab1332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1c2336f90888c5efb87c411af0eb26c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gad1c2336f90888c5efb87c411af0eb26c">pUdpHeaderAdder</a> (stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siTdh_Data, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siTdh_DLen, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siTdh_Meta, stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;siUca_Csum, stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;soIha_Data, stream&lt; <a class="el" href="classIpAddrPair.html">IpAddrPair</a> &gt; &amp;soIha_IpPair, stream&lt; <a class="el" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a> &gt; &amp;soIha_UdpLen)</td></tr>
<tr class="separator:gad1c2336f90888c5efb87c411af0eb26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bfd00650e9f0cc4d8440d60e013f8be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga2bfd00650e9f0cc4d8440d60e013f8be">pIp4HeaderAdder</a> (stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;siUha_Data, stream&lt; <a class="el" href="classIpAddrPair.html">IpAddrPair</a> &gt; &amp;siUha_IpPair, stream&lt; <a class="el" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a> &gt; &amp;siUha_UdpLen, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;soIPTX_Data)</td></tr>
<tr class="separator:ga2bfd00650e9f0cc4d8440d60e013f8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga857a71b260dfd52bf76ffdcd4260aeae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga857a71b260dfd52bf76ffdcd4260aeae">pTxEngine</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siUAIF_DLen, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;soIPTX_Data)</td></tr>
<tr class="separator:ga857a71b260dfd52bf76ffdcd4260aeae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84101607ce156850e4f7426c8be83a2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga84101607ce156850e4f7426c8be83a2b">uoe</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soMMIO_Ready, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;siIPRX_Data, stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;soIPTX_Data, stream&lt; <a class="el" href="group__NTS.html#ga0dff57a39f41975eac31084df8252b5c">UdpAppLsnReq</a> &gt; &amp;siUAIF_LsnReq, stream&lt; <a class="el" href="group__NTS.html#gae3b58ab5a3b5d1e8628a2dba9e1fd374">UdpAppLsnRep</a> &gt; &amp;soUAIF_LsnRep, stream&lt; <a class="el" href="group__NTS.html#ga66e7659d20db4628f76f95de974fa272">UdpAppClsReq</a> &gt; &amp;siUAIF_ClsReq, stream&lt; <a class="el" href="group__NTS.html#ga0d23b2b3365185602492434abecb537c">UdpAppClsRep</a> &gt; &amp;soUAIF_ClsRep, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soUAIF_DLen, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siUAIF_DLen, stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;soICMP_Data)</td></tr>
<tr class="memdesc:ga84101607ce156850e4f7426c8be83a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main process of the UDP Offload Engine (UOE).  <a href="group__NTS__UOE.html#ga84101607ce156850e4f7426c8be83a2b">More...</a><br /></td></tr>
<tr class="separator:ga84101607ce156850e4f7426c8be83a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d9bd6d46b41ba8787888e1e6bfb0d41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga5d9bd6d46b41ba8787888e1e6bfb0d41">uoe_top</a> (<a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a> piMMIO_En, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt, stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;soMMIO_Ready, stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;siIPRX_Data, stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;soIPTX_Data, stream&lt; <a class="el" href="group__NTS.html#ga0dff57a39f41975eac31084df8252b5c">UdpAppLsnReq</a> &gt; &amp;siUAIF_LsnReq, stream&lt; <a class="el" href="group__NTS.html#gae3b58ab5a3b5d1e8628a2dba9e1fd374">UdpAppLsnRep</a> &gt; &amp;soUAIF_LsnRep, stream&lt; <a class="el" href="group__NTS.html#ga66e7659d20db4628f76f95de974fa272">UdpAppClsReq</a> &gt; &amp;siUAIF_ClsReq, stream&lt; <a class="el" href="group__NTS.html#ga0d23b2b3365185602492434abecb537c">UdpAppClsRep</a> &gt; &amp;soUAIF_ClsRep, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;soUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;soUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;soUAIF_DLen, stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;siUAIF_Data, stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;siUAIF_Meta, stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;siUAIF_DLen, stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;soICMP_Data)</td></tr>
<tr class="memdesc:ga5d9bd6d46b41ba8787888e1e6bfb0d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Top of UDP Offload Engine (UOE)  <a href="group__NTS__UOE.html#ga5d9bd6d46b41ba8787888e1e6bfb0d41">More...</a><br /></td></tr>
<tr class="separator:ga5d9bd6d46b41ba8787888e1e6bfb0d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga95138d2e51410ff3253d2da113f9c7bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga95138d2e51410ff3253d2da113f9c7bc">gTraceEvent</a></td></tr>
<tr class="separator:ga95138d2e51410ff3253d2da113f9c7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab658e75942d9f9687ba95b6fd1211ddd"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gab658e75942d9f9687ba95b6fd1211ddd">cUdpRxDataFifoSize</a> = ( 16*1024 )/( 64 /8)</td></tr>
<tr class="separator:gab658e75942d9f9687ba95b6fd1211ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e5c95e7c1583d0b4a6556e24c363598"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga8e5c95e7c1583d0b4a6556e24c363598">cUdpRxHdrsFifoSize</a> = ( 64 )</td></tr>
<tr class="separator:ga8e5c95e7c1583d0b4a6556e24c363598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc674db807afc5e93dd4a450dce554e5"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#gadc674db807afc5e93dd4a450dce554e5">cIp4RxHdrsFifoSize</a> = (<a class="el" href="group__NTS__UOE.html#ga8e5c95e7c1583d0b4a6556e24c363598">cUdpRxHdrsFifoSize</a> * 4)</td></tr>
<tr class="separator:gadc674db807afc5e93dd4a450dce554e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b49eda18d665dcb8e1bac8fee3a8c5c"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NTS__UOE.html#ga5b49eda18d665dcb8e1bac8fee3a8c5c">cMtuSize</a> = (2*<a class="el" href="group__udp__app__flash.html#ga0ff29830fde482fdf175988774b78edb">MTU</a>)/( 64 /8)</td></tr>
<tr class="separator:ga5b49eda18d665dcb8e1bac8fee3a8c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>UDP Offload Engine (UOE) of the Network Transport Stack (NTS). </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gac2d33ccaf63f5d5b66552b95426c0137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2d33ccaf63f5d5b66552b95426c0137">&#9670;&nbsp;</a></span>DEBUG_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_LEVEL&#160;&#160;&#160;(<a class="el" href="group__udp__shell__if.html#ga4551f8c4b614f71ec77825c0e5e26ca4">TRACE_OFF</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00082">82</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga9a0e1b8e8ac96ab611450c49030b25d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a0e1b8e8ac96ab611450c49030b25d5">&#9670;&nbsp;</a></span>THIS_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THIS_NAME&#160;&#160;&#160;&quot;UOE&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00068">68</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gae4811a3fa9574a7836b8aaa99f553800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4811a3fa9574a7836b8aaa99f553800">&#9670;&nbsp;</a></span>TRACE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_ALL&#160;&#160;&#160;0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00080">80</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gafe1e6892ad19eb430d424a3649f00bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe1e6892ad19eb430d424a3649f00bd5">&#9670;&nbsp;</a></span>TRACE_IHA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_IHA&#160;&#160;&#160;1 &lt;&lt; 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00071">71</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gaa454712ade9a73d99f85f05cf35a1c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa454712ade9a73d99f85f05cf35a1c9a">&#9670;&nbsp;</a></span>TRACE_IHS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_IHS&#160;&#160;&#160;1 &lt;&lt; 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00072">72</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga4551f8c4b614f71ec77825c0e5e26ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4551f8c4b614f71ec77825c0e5e26ca4">&#9670;&nbsp;</a></span>TRACE_OFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_OFF&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00070">70</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gacddaf53f08f11ef9f5dcb902dcb0b723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacddaf53f08f11ef9f5dcb902dcb0b723">&#9670;&nbsp;</a></span>TRACE_RPH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_RPH&#160;&#160;&#160;1 &lt;&lt; 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00073">73</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gaa9b2844ae7692a505350be3f3044ba2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9b2844ae7692a505350be3f3044ba2c">&#9670;&nbsp;</a></span>TRACE_TAI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_TAI&#160;&#160;&#160;1 &lt;&lt; 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00074">74</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gabf75cd358a5f570d5dc2b21c52cb030a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf75cd358a5f570d5dc2b21c52cb030a">&#9670;&nbsp;</a></span>TRACE_TDH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_TDH&#160;&#160;&#160;1 &lt;&lt; 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00075">75</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga720f04bcc3fbe7ab9494fff05804011e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga720f04bcc3fbe7ab9494fff05804011e">&#9670;&nbsp;</a></span>TRACE_UCA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_UCA&#160;&#160;&#160;1 &lt;&lt; 6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00076">76</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga3bc49e2700b210a2754d5d5f4124694a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bc49e2700b210a2754d5d5f4124694a">&#9670;&nbsp;</a></span>TRACE_UCC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_UCC&#160;&#160;&#160;1 &lt;&lt; 7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00077">77</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga961777f9f2ab521e6eb0767c92834ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga961777f9f2ab521e6eb0767c92834ec5">&#9670;&nbsp;</a></span>TRACE_UHA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_UHA&#160;&#160;&#160;1 &lt;&lt; 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00078">78</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="gae7aa2f504bd34a4a24061e6cf92ccada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7aa2f504bd34a4a24061e6cf92ccada">&#9670;&nbsp;</a></span>TRACE_UPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_UPT&#160;&#160;&#160;1 &lt;&lt; 9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00079">79</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>

</div>
</div>
<a id="ga66363019754fdc187a4f50783b681491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66363019754fdc187a4f50783b681491">&#9670;&nbsp;</a></span>UOE_ELASTIC_DATA_BUFFER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UOE_ELASTIC_DATA_BUFFER&#160;&#160;&#160;16*1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00077">77</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<a id="ga4ad6b8501a1f57ebdb735fba3c70f06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ad6b8501a1f57ebdb735fba3c70f06d">&#9670;&nbsp;</a></span>UOE_ELASTIC_HEADER_BUFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UOE_ELASTIC_HEADER_BUFF&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00078">78</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2bfd00650e9f0cc4d8440d60e013f8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bfd00650e9f0cc4d8440d60e013f8be">&#9670;&nbsp;</a></span>pIp4HeaderAdder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pIp4HeaderAdder </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUha_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classIpAddrPair.html">IpAddrPair</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUha_IpPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUha_UdpLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIPTX_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IPv4 Header Adder (Iha)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">siUha_Data</td><td>UDM datagram stream from UdpHeaderAdder (Uha). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUha_IpPair</td><td>The IP_SA and IP_DA of this this datagram from [Uha]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUha_UdpLen</td><td>The length of the UDP datagram fro [Uha]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIPTX_Data</td><td>The IPv4 packet to IpTxHandler (IPTX).</td></tr>
  </table>
  </dd>
</dl>
<p>This process creates an IPv4 header and prepends it to the UDP datagram stream coming from the UdpHeaderAdder (Uha). </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01599">1599</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;{</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/TXe/&quot;</span>, <span class="stringliteral">&quot;Iha&quot;</span>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { IPH_IP1=0, IPH_IP2, IPH_IP3, IPH_FORWARD,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                            IPH_RESIDUE} iha_fsmState;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="preprocessor">    #pragma HLS RESET           variable=iha_fsmState</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keyword">static</span> <a class="code" href="classIpAddrPair.html">IpAddrPair</a> iha_ipPair;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisUdp.html">AxisUdp</a>    iha_prevUdpChunk;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">//-- DYNAMIC VARIABLES ----------------------------------------------------</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisUdp.html">AxisUdp</a>    currUdpChunk;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">switch</span>(iha_fsmState) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">case</span> IPH_IP1:</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">if</span>(!siUha_UdpLen.empty() and !siUha_Data.empty() and !siUha_IpPair.empty() and</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;           !soIPTX_Data.full()) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <a class="code" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a>    udpLen = siUha_UdpLen.read();</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <a class="code" href="group__NTS.html#ga0b514fe9db0939b26287517db46ffa2b">Ip4PktLen</a> ip4Len = udpLen + <a class="code" href="group__NTS.html#gab3760e6f0bfdc9e7a9fc2f1f54cf8922">IP4_HEADER_LEN</a>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> firstIp4Chunk = <a class="code" href="classAxisIp4.html">AxisIp4</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#a3dcbc94aead2a9afd8b66bd373c5d93a">setIp4HdrLen</a>(5);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#abfc2dd4c1274feae1080243a21717cf4">setIp4Version</a>(4);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#ae4765ba482d5082db2865d8f6743ac8b">setIp4ToS</a>(0);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#a88aa6b72c8593baed8f6c4837d7b394f">setIp4TotalLen</a>(ip4Len);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#ac9d3f62ac937ed20a58893078eadce50">setIp4Ident</a>(0);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#ab248dc64f59f17c71fbdcb816fdd258c">setIp4Flags</a>(0);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            firstIp4Chunk.<a class="code" href="classAxisIp4.html#a34644f50cf5297bf1334151b3568a77a">setIp4FragOff</a>(0);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            soIPTX_Data.write(firstIp4Chunk);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            iha_fsmState = IPH_IP2;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;IPH_IP1\n&quot;</span>); }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">case</span> IPH_IP2:</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordflow">if</span>(!siUha_IpPair.empty() and !siUha_Data.empty() and</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;           !soIPTX_Data.full()) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            iha_ipPair = siUha_IpPair.read();</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> secondIp4Chunk = <a class="code" href="classAxisIp4.html">AxisIp4</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            secondIp4Chunk.<a class="code" href="classAxisIp4.html#aed63bc9cb891bece3348ee85d721655c">setIp4TtL</a>(0xFF);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            secondIp4Chunk.<a class="code" href="classAxisIp4.html#a37cbd671be65cbaec4687cc42a9509d9">setIp4Prot</a>(<a class="code" href="group__NTS.html#ga4e1dbea714eb773a7f6d1d389fd1d7a5">IP4_PROT_UDP</a>);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            secondIp4Chunk.<a class="code" href="classAxisIp4.html#a668f18a27c497e9e4861cff478b4cc0e">setIp4HdrCsum</a>(0);  <span class="comment">// FYI-HeaderCsum will be generated by [IPTX]</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            secondIp4Chunk.<a class="code" href="classAxisIp4.html#ae86e3b6249f8ec6a985e5947e52d4634">setIp4SrcAddr</a>(iha_ipPair.<a class="code" href="classIpAddrPair.html#adf276324fbfe7a1f0ed0b4621f39d89b">ipSa</a>);  <span class="comment">// [FIXME-Replace by piMMIO_IpAddress]</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            soIPTX_Data.write(secondIp4Chunk);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            iha_fsmState = IPH_IP3;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;IPH_IP2\n&quot;</span>); }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">case</span> IPH_IP3:</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <span class="keywordflow">if</span>(!siUha_Data.empty() and !soIPTX_Data.full()) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            currUdpChunk = siUha_Data.read();</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> thirdIp4Chunk = <a class="code" href="classAxisIp4.html">AxisIp4</a>(0x0, 0xFF, 0);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            thirdIp4Chunk.<a class="code" href="classAxisIp4.html#a7c1ca3829d3728d6e4f90589457f90e6">setIp4DstAddr</a>(iha_ipPair.<a class="code" href="classIpAddrPair.html#a826fea365d958aa7621f563deb4fff53">ipDa</a>);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            thirdIp4Chunk.<a class="code" href="classAxisIp4.html#a762fedab81eebfa37d4fcc8590154d09">setUdpSrcPort</a>(currUdpChunk.<a class="code" href="classAxisUdp.html#a7232c7d04b1c7c53dd05600085aeee0c">getUdpSrcPort</a>());</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            thirdIp4Chunk.<a class="code" href="classAxisIp4.html#afb8114a3d4a264fa8b36cc1b4b049e5d">setUdpDstPort</a>(currUdpChunk.<a class="code" href="classAxisUdp.html#a461be53e623846a93250a75085499289">getUdpDstPort</a>());</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            soIPTX_Data.write(thirdIp4Chunk);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            iha_fsmState = IPH_FORWARD;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;IPH_IP3\n&quot;</span>); }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">case</span> IPH_FORWARD:</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keywordflow">if</span>(!siUha_Data.empty() and !soIPTX_Data.full()) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            currUdpChunk = siUha_Data.read();</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> forwardIp4Chunk = <a class="code" href="classAxisIp4.html">AxisIp4</a>(0x0, 0xFF, 0);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">setTDataHi</a>(iha_prevUdpChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a1af3fe5faeab03875a0e654190f598de">setTDataLo</a>(    currUdpChunk.<a class="code" href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">getTDataHi</a>());</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">if</span>(currUdpChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                <span class="keywordflow">if</span> (currUdpChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>() != 0) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                    iha_fsmState = IPH_RESIDUE;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                    forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">setTKeepHi</a>(iha_prevUdpChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                    forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a4cbc05f7d44b163c8a2f09881b3764df">setTKeepLo</a>(currUdpChunk.<a class="code" href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">getTKeepHi</a>());</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                    forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                    iha_fsmState = IPH_IP1;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            soIPTX_Data.write(forwardIp4Chunk);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;IPH_FORWARD\n&quot;</span>); }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">case</span> IPH_RESIDUE:</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">if</span> (!soIPTX_Data.full()) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> forwardIp4Chunk = <a class="code" href="classAxisIp4.html">AxisIp4</a>(0x0, 0x00, 0);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">setTDataHi</a>(iha_prevUdpChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">setTKeepHi</a>(iha_prevUdpChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            forwardIp4Chunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            soIPTX_Data.write(forwardIp4Chunk);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            iha_fsmState = IPH_IP1;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;IPH_RESIDUE\n&quot;</span>); }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    iha_prevUdpChunk = currUdpChunk;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div>
<div class="ttc" id="aclassAxisIp4_html"><div class="ttname"><a href="classAxisIp4.html">AxisIp4</a></div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00180">AxisIp4.hpp:180</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a34644f50cf5297bf1334151b3568a77a"><div class="ttname"><a href="classAxisIp4.html#a34644f50cf5297bf1334151b3568a77a">AxisIp4::setIp4FragOff</a></div><div class="ttdeci">void setIp4FragOff(Ip4FragOff offset)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00210">AxisIp4.hpp:210</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a37cbd671be65cbaec4687cc42a9509d9"><div class="ttname"><a href="classAxisIp4.html#a37cbd671be65cbaec4687cc42a9509d9">AxisIp4::setIp4Prot</a></div><div class="ttdeci">void setIp4Prot(Ip4Prot prot)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00220">AxisIp4.hpp:220</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a3dcbc94aead2a9afd8b66bd373c5d93a"><div class="ttname"><a href="classAxisIp4.html#a3dcbc94aead2a9afd8b66bd373c5d93a">AxisIp4::setIp4HdrLen</a></div><div class="ttdeci">void setIp4HdrLen(Ip4HdrLen ihl)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00198">AxisIp4.hpp:198</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a668f18a27c497e9e4861cff478b4cc0e"><div class="ttname"><a href="classAxisIp4.html#a668f18a27c497e9e4861cff478b4cc0e">AxisIp4::setIp4HdrCsum</a></div><div class="ttdeci">void setIp4HdrCsum(Ip4HdrCsum csum)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00223">AxisIp4.hpp:223</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a762fedab81eebfa37d4fcc8590154d09"><div class="ttname"><a href="classAxisIp4.html#a762fedab81eebfa37d4fcc8590154d09">AxisIp4::setUdpSrcPort</a></div><div class="ttdeci">void setUdpSrcPort(UdpPort port, int Lo=32)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00290">AxisIp4.hpp:290</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a7c1ca3829d3728d6e4f90589457f90e6"><div class="ttname"><a href="classAxisIp4.html#a7c1ca3829d3728d6e4f90589457f90e6">AxisIp4::setIp4DstAddr</a></div><div class="ttdeci">void setIp4DstAddr(Ip4Addr addr)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00229">AxisIp4.hpp:229</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a88aa6b72c8593baed8f6c4837d7b394f"><div class="ttname"><a href="classAxisIp4.html#a88aa6b72c8593baed8f6c4837d7b394f">AxisIp4::setIp4TotalLen</a></div><div class="ttdeci">void setIp4TotalLen(Ip4TotalLen len)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00204">AxisIp4.hpp:204</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ab248dc64f59f17c71fbdcb816fdd258c"><div class="ttname"><a href="classAxisIp4.html#ab248dc64f59f17c71fbdcb816fdd258c">AxisIp4::setIp4Flags</a></div><div class="ttdeci">void setIp4Flags(Ip4Flags flags)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00215">AxisIp4.hpp:215</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_abfc2dd4c1274feae1080243a21717cf4"><div class="ttname"><a href="classAxisIp4.html#abfc2dd4c1274feae1080243a21717cf4">AxisIp4::setIp4Version</a></div><div class="ttdeci">void setIp4Version(Ip4Version ver)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00195">AxisIp4.hpp:195</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ac9d3f62ac937ed20a58893078eadce50"><div class="ttname"><a href="classAxisIp4.html#ac9d3f62ac937ed20a58893078eadce50">AxisIp4::setIp4Ident</a></div><div class="ttdeci">void setIp4Ident(Ip4Ident id)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00207">AxisIp4.hpp:207</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ae4765ba482d5082db2865d8f6743ac8b"><div class="ttname"><a href="classAxisIp4.html#ae4765ba482d5082db2865d8f6743ac8b">AxisIp4::setIp4ToS</a></div><div class="ttdeci">void setIp4ToS(Ip4ToS tos)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00201">AxisIp4.hpp:201</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ae86e3b6249f8ec6a985e5947e52d4634"><div class="ttname"><a href="classAxisIp4.html#ae86e3b6249f8ec6a985e5947e52d4634">AxisIp4::setIp4SrcAddr</a></div><div class="ttdeci">void setIp4SrcAddr(Ip4Addr addr)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00226">AxisIp4.hpp:226</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_aed63bc9cb891bece3348ee85d721655c"><div class="ttname"><a href="classAxisIp4.html#aed63bc9cb891bece3348ee85d721655c">AxisIp4::setIp4TtL</a></div><div class="ttdeci">void setIp4TtL(Ip4TtL ttl)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00217">AxisIp4.hpp:217</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_afb8114a3d4a264fa8b36cc1b4b049e5d"><div class="ttname"><a href="classAxisIp4.html#afb8114a3d4a264fa8b36cc1b4b049e5d">AxisIp4::setUdpDstPort</a></div><div class="ttdeci">void setUdpDstPort(UdpPort port, int Lo=48)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00294">AxisIp4.hpp:294</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a1238c47d46a7d858c542f55797dfc9f2"><div class="ttname"><a href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">AxisRaw::setTLast</a></div><div class="ttdeci">void setTLast(tLast last)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00246">AxisRaw.hpp:246</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a1a7e2a69edc7b522df061409e3f79441"><div class="ttname"><a href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">AxisRaw::setTDataHi</a></div><div class="ttdeci">void setTDataHi(tDataHalf halfData)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00326">AxisRaw.hpp:326</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a1af3fe5faeab03875a0e654190f598de"><div class="ttname"><a href="classAxisRaw.html#a1af3fe5faeab03875a0e654190f598de">AxisRaw::setTDataLo</a></div><div class="ttdeci">void setTDataLo(tDataHalf halfData)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00337">AxisRaw.hpp:337</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a42cd520c9b19f7c2fc6d2fc204cb30b7"><div class="ttname"><a href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">AxisRaw::getTLast</a></div><div class="ttdeci">tLast getTLast() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00219">AxisRaw.hpp:219</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a48f8284ad60d96e2d2764ef2eefc4a64"><div class="ttname"><a href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">AxisRaw::getTDataLo</a></div><div class="ttdeci">tDataHalf getTDataLo() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00301">AxisRaw.hpp:301</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a4cbc05f7d44b163c8a2f09881b3764df"><div class="ttname"><a href="classAxisRaw.html#a4cbc05f7d44b163c8a2f09881b3764df">AxisRaw::setTKeepLo</a></div><div class="ttdeci">void setTKeepLo(tKeepHalf halfKeep)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00359">AxisRaw.hpp:359</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a58b8357553e87b35d4841c9f0bcdb08d"><div class="ttname"><a href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">AxisRaw::getTKeepHi</a></div><div class="ttdeci">tKeepHalf getTKeepHi() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00309">AxisRaw.hpp:309</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a9d6431f0204bddaa17277cea807dc804"><div class="ttname"><a href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">AxisRaw::setTKeepHi</a></div><div class="ttdeci">void setTKeepHi(tKeepHalf halfKeep)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00348">AxisRaw.hpp:348</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_ad9de3735705f840155f6df0226230b01"><div class="ttname"><a href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">AxisRaw::getTDataHi</a></div><div class="ttdeci">tDataHalf getTDataHi() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00293">AxisRaw.hpp:293</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_af7dcf20294a3d8853042af971f19c4a6"><div class="ttname"><a href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">AxisRaw::getTKeepLo</a></div><div class="ttdeci">tKeepHalf getTKeepLo() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00317">AxisRaw.hpp:317</a></div></div>
<div class="ttc" id="aclassAxisUdp_html"><div class="ttname"><a href="classAxisUdp.html">AxisUdp</a></div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00113">AxisUdp.hpp:113</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_a461be53e623846a93250a75085499289"><div class="ttname"><a href="classAxisUdp.html#a461be53e623846a93250a75085499289">AxisUdp::getUdpDstPort</a></div><div class="ttdeci">UdpPort getUdpDstPort()</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00135">AxisUdp.hpp:135</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_a7232c7d04b1c7c53dd05600085aeee0c"><div class="ttname"><a href="classAxisUdp.html#a7232c7d04b1c7c53dd05600085aeee0c">AxisUdp::getUdpSrcPort</a></div><div class="ttdeci">UdpPort getUdpSrcPort()</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00130">AxisUdp.hpp:130</a></div></div>
<div class="ttc" id="aclassIpAddrPair_html"><div class="ttname"><a href="classIpAddrPair.html">IpAddrPair</a></div><div class="ttdef"><b>Definition:</b> <a href="tx__engine_8hpp_source.html#l00113">tx_engine.hpp:113</a></div></div>
<div class="ttc" id="aclassIpAddrPair_html_a826fea365d958aa7621f563deb4fff53"><div class="ttname"><a href="classIpAddrPair.html#a826fea365d958aa7621f563deb4fff53">IpAddrPair::ipDa</a></div><div class="ttdeci">Ip4Addr ipDa</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8hpp_source.html#l00098">uoe.hpp:98</a></div></div>
<div class="ttc" id="aclassIpAddrPair_html_adf276324fbfe7a1f0ed0b4621f39d89b"><div class="ttname"><a href="classIpAddrPair.html#adf276324fbfe7a1f0ed0b4621f39d89b">IpAddrPair::ipSa</a></div><div class="ttdeci">Ip4Addr ipSa</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8hpp_source.html#l00097">uoe.hpp:97</a></div></div>
<div class="ttc" id="agroup__NAL_html_ga80600f4ef053900ef4c4d54f15ef0800"><div class="ttname"><a href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; UdpLen</div><div class="ttdef"><b>Definition:</b> <a href="nal_8hpp_source.html#l00250">nal.hpp:250</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga9a0e1b8e8ac96ab611450c49030b25d5"><div class="ttname"><a href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a></div><div class="ttdeci">#define THIS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00068">uoe.cpp:68</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gac2d33ccaf63f5d5b66552b95426c0137"><div class="ttname"><a href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a></div><div class="ttdeci">#define DEBUG_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00082">uoe.cpp:82</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gafe1e6892ad19eb430d424a3649f00bd5"><div class="ttname"><a href="group__NTS__UOE.html#gafe1e6892ad19eb430d424a3649f00bd5">TRACE_IHA</a></div><div class="ttdeci">#define TRACE_IHA</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00071">uoe.cpp:71</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga0b514fe9db0939b26287517db46ffa2b"><div class="ttname"><a href="group__NTS.html#ga0b514fe9db0939b26287517db46ffa2b">Ip4PktLen</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; Ip4PktLen</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00172">AxisIp4.hpp:172</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga4e1dbea714eb773a7f6d1d389fd1d7a5"><div class="ttname"><a href="group__NTS.html#ga4e1dbea714eb773a7f6d1d389fd1d7a5">IP4_PROT_UDP</a></div><div class="ttdeci">#define IP4_PROT_UDP</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00185">nts_types.hpp:185</a></div></div>
<div class="ttc" id="agroup__NTS_html_gab3760e6f0bfdc9e7a9fc2f1f54cf8922"><div class="ttname"><a href="group__NTS.html#gab3760e6f0bfdc9e7a9fc2f1f54cf8922">IP4_HEADER_LEN</a></div><div class="ttdeci">#define IP4_HEADER_LEN</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00133">AxisIp4.hpp:133</a></div></div>
<div class="ttc" id="agroup__NTS_html_gab8ca64e6d0b71ce13cc6944c9188a574"><div class="ttname"><a href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a></div><div class="ttdeci">#define printInfo(callerName, format,...)</div><div class="ttdoc">A macro to print an information message.</div><div class="ttdef"><b>Definition:</b> <a href="nts__utils_8hpp_source.html#l00169">nts_utils.hpp:169</a></div></div>
<div class="ttc" id="agroup__NTS_html_gac9ec7eb2a875bc78c26b890b1b062b01"><div class="ttname"><a href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a></div><div class="ttdeci">#define concat3(firstCharConst, secondCharConst, thirdCharConst)</div><div class="ttdef"><b>Definition:</b> <a href="nts__utils_8hpp_source.html#l00161">nts_utils.hpp:161</a></div></div>
<div class="ttc" id="agroup__NTS_html_gae90df8bbb0adc0cfb0be2a6262b77213"><div class="ttname"><a href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a></div><div class="ttdeci">#define TLAST</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00116">AxisRaw.hpp:116</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga2bfd00650e9f0cc4d8440d60e013f8be_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga2bfd00650e9f0cc4d8440d60e013f8be_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="gaf298ae8ed051de648f02f4b2ab238ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf298ae8ed051de648f02f4b2ab238ded">&#9670;&nbsp;</a></span>pIpHeaderStripper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pIpHeaderStripper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIPRX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUcc_UdpDgrm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUcc_PsdHdrSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soRph_Ip4Hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0b335b61d35849bcfae104b2eb440c31">SigBit</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUcc_ClearToSend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_DropCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IPv4 Header Stripper (Ihs)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siIPRX_Data</td><td>IP4 data stream from IpRxHAndler (IPRX). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUcc_UdpDgrm</td><td>UDP datagram stream to UdpChecksumChecker (Ucc). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUcc_PsdHdrSum</td><td>Sum of the pseudo header information to [Ucc]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soRph_Ip4Hdr</td><td>The header part of the IPv4 packet as a stream to [Rph]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUcc_ClearToSend</td><td>Clear to send signal from [Ucc]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_DropCnt</td><td>The content of the datagram drop counter.</td></tr>
  </table>
  </dd>
</dl>
<p>This process extracts the UDP pseudo header and the IP header from the incoming IPv4 packet. The IP header is forwarded to RxPacketHandler (Rph) for further processing while the UDP datagram and the UDP pseudo-header are forwarded to the UDP checksum checker. To avoid blocking the IPRX engine of the NTS, this process starts dropping incoming traffic upon one of the two following conditions: 1) If the elastic data buffer located between [Ucc] and [Rph] is full or, 2) If the maximum number of stored headers is reached. The first condition (i.e. elastic buffer full) is indicated by the clear-to- send signal not being asserted. </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00109">109</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">      #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">      #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/Rxe/&quot;</span>, <span class="stringliteral">&quot;Ihs&quot;</span>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates {FSM_IHS_IDLE=0,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                             FSM_IHS_IPW0,       FSM_IHS_IPW1,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                             FSM_IHS_IPW2,       FSM_IHS_OPT,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                             FSM_IHS_UDP_HEADER, FSM_IHS_UDP_HEADER_ALIGNED,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                             FSM_IHS_FORWARD,    FSM_IHS_FORWARD_ALIGNED,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                             FSM_IHS_RESIDUE,    FSM_IHS_DONE,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                             FSM_IHS_DROP } ihs_fsmState=FSM_IHS_IDLE;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">      #pragma HLS RESET            variable=ihs_fsmState</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keyword">static</span> ap_uint&lt;16&gt;                    ihs_dropCounter=0;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">      #pragma HLS reset            variable=ihs_dropCounter</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keyword">static</span> ap_uint&lt;4&gt;    ihs_bitCount;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keyword">static</span> ap_uint&lt;3&gt;    ihs_ipHdrCnt;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keyword">static</span> <a class="code" href="classAxisIp4.html">AxisIp4</a>       ihs_prevChunk;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keyword">static</span> <a class="code" href="group__NTS.html#ga7c18f4ab9f09d3462d75ef4a347ed040">Ip4HdrLen</a>     ihs_ip4HdrLen;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keyword">static</span> ap_uint&lt;17&gt;   ihs_psdHdrSum;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="comment">//-- DYNAMIC VARIABLES ----------------------------------------------------</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="classAxisIp4.html">AxisIp4</a>     currIp4Chunk;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <a class="code" href="classAxisUdp.html">AxisUdp</a>     sendChunk;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">switch</span>(ihs_fsmState) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_IDLE:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;          <span class="keywordflow">if</span> ((piMMIO_En == <a class="code" href="group__NTS.html#ga56d7f27e0213d6454984dc014f7c8354">CMD_DISABLE</a>) and !siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IDLE - UOE is disabled. This packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (siUcc_ClearToSend.empty() and !siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IDLE - UOE buffers are full. This packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siUcc_ClearToSend.empty()) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;              <span class="comment">// We can proceed, there is at least one MTU of space is available in UOE.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;              <span class="comment">//  From now on, no need to test the &#39;soUcc_UdpDgrm&#39; fullness anymore.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;              ihs_fsmState = FSM_IHS_IPW0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_IPW0:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty() and (soUcc_PsdHdrSum.full() or soRph_Ip4Hdr.full())) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW0 - Header-buffer space is exhausted. This packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siIPRX_Data.empty() and !soUcc_PsdHdrSum.full() and !soRph_Ip4Hdr.full()) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;              <span class="comment">//-- READ 1st AXI-CHUNK (Frag|Flags|Id|TotLen|ToS|Ver|IHL) ---------</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;              ihs_ip4HdrLen = currIp4Chunk.<a class="code" href="classAxisIp4.html#ac18435a2d8d3a7d27b64c52477218977">getIp4HdrLen</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;              <span class="keywordflow">if</span> (ihs_ip4HdrLen &lt; 5) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW0 - Received an IPv4 packet with invalid IHL. This packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                  ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;              }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;              <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                  soRph_Ip4Hdr.write(currIp4Chunk);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                      <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;Received a new IPv4 packet (IHL=%d|TotLen=%d)\n&quot;</span>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                ihs_ip4HdrLen.to_uint(), currIp4Chunk.<a class="code" href="classAxisIp4.html#a4ce83bf0ddbd41a460ba25fecf894a95">getIp4TotalLen</a>().to_ushort());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                      <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW0            -&quot;</span>, currIp4Chunk);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                  ihs_ip4HdrLen -= 2;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                  ihs_fsmState  = FSM_IHS_IPW1;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;              }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_IPW1:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <span class="keywordflow">if</span> (soRph_Ip4Hdr.full()) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW1 - Header-buffer space is exhausted. The remaining of this packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;              <span class="comment">//-- READ 2nd AXI-CHUNK (SA|HdrCsum|Prot|TTL)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;              soRph_Ip4Hdr.write(currIp4Chunk);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;              <span class="comment">//-- Csum accumulate (SA+Prot)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;              ihs_psdHdrSum  = (0x00, currIp4Chunk.<a class="code" href="classAxisIp4.html#ac68754528b100219c3a9ee916de54828">getIp4Prot</a>());</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;              ihs_psdHdrSum += currIp4Chunk.<a class="code" href="classAxisIp4.html#ac8f3926329a514c6d64b9a5e25ee43cb">getIp4SrcAddr</a>().range(31,16);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;              ihs_psdHdrSum += currIp4Chunk.<a class="code" href="classAxisIp4.html#ac8f3926329a514c6d64b9a5e25ee43cb">getIp4SrcAddr</a>().range(15, 0);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;              ihs_ip4HdrLen -= 2;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;              ihs_fsmState = FSM_IHS_IPW2;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW1            -&quot;</span>, currIp4Chunk); }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_IPW2:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <span class="keywordflow">if</span> (soRph_Ip4Hdr.full()) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW2 - Header-buffer space is exhausted. The remaining of this packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;              <span class="comment">//-- READ 3rd AXI-CHUNK (DP|SP|DA) or (Opt|DA)</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;              <span class="comment">//-- Csum accumulate (DA)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;              ihs_psdHdrSum += currIp4Chunk.<a class="code" href="classAxisIp4.html#a3a60d6e7c7029899907f9b88cd7b6ceb">getIp4DstAddr</a>().range(31,16);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              ihs_psdHdrSum += currIp4Chunk.<a class="code" href="classAxisIp4.html#a3a60d6e7c7029899907f9b88cd7b6ceb">getIp4DstAddr</a>().range(15, 0);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;              <span class="keywordflow">if</span> (ihs_ip4HdrLen == 1) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                  <span class="comment">// This a typical IPv4 header with a length of 20 bytes (5*4).</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisIp4.html#ac0f54d8eabebeddfdcb7c6df84b77cf7">getLE_Ip4DstAddr</a>(), 0x0F, <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                  ihs_fsmState = FSM_IHS_UDP_HEADER;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;              }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ihs_ip4HdrLen == 2 ) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains one 32-bit option! FYI, IPV4 options are not supported.\n&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), currIp4Chunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                  ihs_fsmState = FSM_IHS_UDP_HEADER_ALIGNED;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;              }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;              <span class="keywordflow">else</span> {  <span class="comment">// ihs_ip4HdrLen &gt; 2</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains two+ 32-bit options! FYI, IPV4 options are not supported.\n&quot;</span>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), currIp4Chunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), 0));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                  ihs_ip4HdrLen -= 2;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                  ihs_fsmState = FSM_IHS_OPT;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;              }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_IPW2            -&quot;</span>, currIp4Chunk); }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_OPT:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          <span class="keywordflow">if</span> (soRph_Ip4Hdr.full()) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;FSM_IHS_OPT - Header-buffer space is exhausted. The remaining of this packet will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;              ihs_fsmState  = FSM_IHS_DROP;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;              <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains options! FYI, IPV4 options are not supported and will be dropped.\n&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;              <span class="comment">//-- READ more Options (OPT|Opt) and/or Data (Data|Opt)</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;              <span class="keywordflow">if</span> (ihs_ip4HdrLen == 1) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains three 32-bit options!\n&quot;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#ab8f254eb6a82b91c64b8579c9a114f58">getLE_TDataHi</a>(), 0x0F, <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                  ihs_fsmState = FSM_IHS_UDP_HEADER;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;              }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ihs_ip4HdrLen == 2 ) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains four 32-bit options!\n&quot;</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), currIp4Chunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                  ihs_fsmState = FSM_IHS_UDP_HEADER_ALIGNED;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;              }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;              <span class="keywordflow">else</span> {  <span class="comment">// ihs_ip4HdrLen &gt; 2</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;This IPv4 packet contains four+ 32-bit options!\n&quot;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                  soRph_Ip4Hdr.write(<a class="code" href="classAxisIp4.html">AxisIp4</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), currIp4Chunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), 0));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                  ihs_ip4HdrLen -= 2;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                  ihs_fsmState = FSM_IHS_OPT;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;              }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_OPT             -&quot;</span>, currIp4Chunk); }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_UDP_HEADER:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <span class="comment">// At this stage we know that !soUcc_UdpDgrm.full() and !soUcc_PsdHdrSum.full()) {</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;              <span class="comment">//-- Read end of un-aligned UDP header (Data|Csum|Len) ----------</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;              <span class="comment">//-- Csum accumulate (UdpLen)</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;              ihs_psdHdrSum += currIp4Chunk.<a class="code" href="classAxisIp4.html#a2d327e217cd1a957bc3709e978cad167">getUdpLen</a>();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;              <span class="comment">//-- Forward UDP PseudoHeaderCsum to [Ucc]</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;              soUcc_PsdHdrSum.write(ihs_psdHdrSum(15, 0));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;              <span class="comment">//-- Forward the UDP Header (Csum|Len|DP|SP)</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#aa856c8e559a50d2e7bbdbbfd51b76ba9">setTKeep</a>(0xFF);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">setTDataHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a1af3fe5faeab03875a0e654190f598de">setTDataLo</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">getTDataHi</a>());</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;              <span class="keywordflow">if</span> (currIp4Chunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                  <span class="keywordflow">if</span> (currIp4Chunk.<a class="code" href="classAxisRaw.html#acb10d569e10f95bdd0be0af34ce605bd">getTKeep</a>() == 0xF0) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                      <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Received a UDP datagram of length = 0!\n&quot;</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                      sendChunk.<a class="code" href="classAxisRaw.html#aa856c8e559a50d2e7bbdbbfd51b76ba9">setTKeep</a>(0xFF);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                      ihs_fsmState = FSM_IHS_DONE;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                      sendChunk.<a class="code" href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">setTKeepHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                      sendChunk.<a class="code" href="classAxisRaw.html#a4cbc05f7d44b163c8a2f09881b3764df">setTKeepLo</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">getTKeepHi</a>());</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                      ihs_fsmState = FSM_IHS_RESIDUE;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;              }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;              <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                  ihs_fsmState = FSM_IHS_FORWARD;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;              }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;              soUcc_UdpDgrm.write(sendChunk);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName,<span class="stringliteral">&quot;FSM_IHS_UDP_HEADER      -&quot;</span>, sendChunk); }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_UDP_HEADER_ALIGNED:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          <span class="comment">// At this stage we know that !soUcc_UdpDgrm.full() and !soUcc_PsdHdrSum.full()) {</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;              <span class="comment">//-- READ Aligned UDP header (Csum|Len|DP|SP) --------</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;              <span class="comment">//-- Cast incoming chunk into an AxisUdp chunk</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;              <a class="code" href="classAxisUdp.html">AxisUdp</a>  currUdpChunk(currIp4Chunk);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;              <span class="comment">//-- Csum accumulate (UdpLen)</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;              ihs_psdHdrSum += currUdpChunk.getUdpLen();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              ihs_psdHdrSum  = (ihs_psdHdrSum &amp; 0xFFFF) + (ihs_psdHdrSum &gt;&gt; 16);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;              <span class="comment">//-- Forward UDP PseudoHeaderCsum to [Ucc]</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;              soUcc_PsdHdrSum.write(ihs_psdHdrSum(15, 0));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;              <span class="comment">//-- Forward the UDP Header (Csum|Len|DP|SP)</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;              soUcc_UdpDgrm.write(currUdpChunk);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;              <span class="keywordflow">if</span> (currUdpChunk.getTLast()) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                  <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Received a UDP datagram of length = 0!\n&quot;</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                  ihs_fsmState = FSM_IHS_DONE;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;              }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;              <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                  ihs_fsmState = FSM_IHS_FORWARD_ALIGNED;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;              }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_UDP_HEADER_ALIGNED -&quot;</span>, currUdpChunk); }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_FORWARD:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          <span class="comment">// At this stage we know that !soUcc_UdpDgrm.full()</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;              <span class="comment">//-- READ n-th AXI-CHUNK (Data) ----------------</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;              <span class="comment">//-- Forward 1/2 of previous chunk and 1/2 of current chunk)</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">setTDataHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">setTKeepHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a1af3fe5faeab03875a0e654190f598de">setTDataLo</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">getTDataHi</a>());</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;              sendChunk.<a class="code" href="classAxisRaw.html#a4cbc05f7d44b163c8a2f09881b3764df">setTKeepLo</a>(currIp4Chunk.<a class="code" href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">getTKeepHi</a>());</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;              <span class="keywordflow">if</span> (currIp4Chunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                   <span class="keywordflow">if</span> (currIp4Chunk.<a class="code" href="classAxisRaw.html#acb10d569e10f95bdd0be0af34ce605bd">getTKeep</a>() &lt;= 0xF0) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                      sendChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                      ihs_fsmState = FSM_IHS_DONE;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                      sendChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(0);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                      ihs_fsmState = FSM_IHS_RESIDUE;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;              }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;              <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                  sendChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                  ihs_fsmState = FSM_IHS_FORWARD;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;              }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;              soUcc_UdpDgrm.write(sendChunk);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_FORWARD         -&quot;</span>, sendChunk); }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_FORWARD_ALIGNED:</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          <span class="comment">// At this stage we know that !soUcc_UdpDgrm.full()</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;              <span class="comment">//-- READ UDP ALIGNED AXI-CHUNK --------------</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;              <span class="comment">//-- Cast incoming chunk into an AxisUdp chunk</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;              <a class="code" href="classAxisUdp.html">AxisUdp</a>  currUdpChunk(currIp4Chunk);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;              soUcc_UdpDgrm.write(currUdpChunk);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;              <span class="keywordflow">if</span> (currUdpChunk.getTLast()) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                  ihs_fsmState = FSM_IHS_DONE;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;              }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;              <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                  ihs_fsmState = FSM_IHS_FORWARD_ALIGNED;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;              }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_FORWARD_ALIGNED -&quot;</span>, sendChunk); }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_RESIDUE:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          <span class="comment">// At this stage we know that !soUcc_UdpDgrm.full()</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          <span class="comment">//-- Forward the very last bytes of the current chunk</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          sendChunk.<a class="code" href="classAxisRaw.html#a1af3fe5faeab03875a0e654190f598de">setTDataLo</a>(0);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          sendChunk.<a class="code" href="classAxisRaw.html#a1a7e2a69edc7b522df061409e3f79441">setTDataHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          sendChunk.<a class="code" href="classAxisRaw.html#a4cbc05f7d44b163c8a2f09881b3764df">setTKeepLo</a>(0);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          sendChunk.<a class="code" href="classAxisRaw.html#a9d6431f0204bddaa17277cea807dc804">setTKeepHi</a>(ihs_prevChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          sendChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          soUcc_UdpDgrm.write(sendChunk);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          ihs_fsmState = FSM_IHS_DONE;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_RESIDUE         -&quot;</span>, sendChunk); }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_DONE:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          <span class="comment">// We are done with this datagram; Consume one CTS token</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          siUcc_ClearToSend.read();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          ihs_fsmState = FSM_IHS_IDLE;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_IHS_DONE \n&quot;</span>); }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">case</span> FSM_IHS_DROP:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">if</span> (!siIPRX_Data.empty()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;              <span class="comment">//-- READ and DRAIN all AXI-CHUNKS ------------</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;              siIPRX_Data.read(currIp4Chunk);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;              <span class="keywordflow">if</span> (currIp4Chunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                  ihs_dropCounter++;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                  ihs_fsmState = FSM_IHS_IDLE;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;              }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;FSM_IHS_DROP            -&quot;</span>, currIp4Chunk); }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      } <span class="comment">// End-of: switch</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="comment">//-- ALWAYS</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      ihs_prevChunk  = currIp4Chunk;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (!soMMIO_DropCnt.full()) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          soMMIO_DropCnt.write(ihs_dropCounter);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Cannot write soMMIO_DropCnt stream...&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  } <span class="comment">// End-of: pIpHeaderStripper</span></div>
<div class="ttc" id="aclassAxisIp4_html_a2d327e217cd1a957bc3709e978cad167"><div class="ttname"><a href="classAxisIp4.html#a2d327e217cd1a957bc3709e978cad167">AxisIp4::getUdpLen</a></div><div class="ttdeci">UdpLen getUdpLen(int Lo=0)</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00300">AxisIp4.hpp:300</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a3a60d6e7c7029899907f9b88cd7b6ceb"><div class="ttname"><a href="classAxisIp4.html#a3a60d6e7c7029899907f9b88cd7b6ceb">AxisIp4::getIp4DstAddr</a></div><div class="ttdeci">Ip4Addr getIp4DstAddr()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00230">AxisIp4.hpp:230</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_a4ce83bf0ddbd41a460ba25fecf894a95"><div class="ttname"><a href="classAxisIp4.html#a4ce83bf0ddbd41a460ba25fecf894a95">AxisIp4::getIp4TotalLen</a></div><div class="ttdeci">Ip4TotalLen getIp4TotalLen()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00205">AxisIp4.hpp:205</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ac0f54d8eabebeddfdcb7c6df84b77cf7"><div class="ttname"><a href="classAxisIp4.html#ac0f54d8eabebeddfdcb7c6df84b77cf7">AxisIp4::getLE_Ip4DstAddr</a></div><div class="ttdeci">LE_Ip4Addr getLE_Ip4DstAddr()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00235">AxisIp4.hpp:235</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ac18435a2d8d3a7d27b64c52477218977"><div class="ttname"><a href="classAxisIp4.html#ac18435a2d8d3a7d27b64c52477218977">AxisIp4::getIp4HdrLen</a></div><div class="ttdeci">Ip4HdrLen getIp4HdrLen()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00199">AxisIp4.hpp:199</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ac68754528b100219c3a9ee916de54828"><div class="ttname"><a href="classAxisIp4.html#ac68754528b100219c3a9ee916de54828">AxisIp4::getIp4Prot</a></div><div class="ttdeci">Ip4Prot getIp4Prot()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00221">AxisIp4.hpp:221</a></div></div>
<div class="ttc" id="aclassAxisIp4_html_ac8f3926329a514c6d64b9a5e25ee43cb"><div class="ttname"><a href="classAxisIp4.html#ac8f3926329a514c6d64b9a5e25ee43cb">AxisIp4::getIp4SrcAddr</a></div><div class="ttdeci">Ip4Addr getIp4SrcAddr()</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00227">AxisIp4.hpp:227</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a4becd0ad3c51e3db2749e888f2f72e31"><div class="ttname"><a href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">AxisRaw::getLE_TKeep</a></div><div class="ttdeci">LE_tKeep getLE_TKeep(int leHi=64/8-1, int leLo=0) const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00264">AxisRaw.hpp:264</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a7034bcf8cf143fb2bb9bfc46e70a7d6b"><div class="ttname"><a href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">AxisRaw::getLE_TData</a></div><div class="ttdeci">LE_tData getLE_TData(int leHi=64 -1, int leLo=0) const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00260">AxisRaw.hpp:260</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_aa856c8e559a50d2e7bbdbbfd51b76ba9"><div class="ttname"><a href="classAxisRaw.html#aa856c8e559a50d2e7bbdbbfd51b76ba9">AxisRaw::setTKeep</a></div><div class="ttdeci">void setTKeep(tKeep keep)</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00239">AxisRaw.hpp:239</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_ab8f254eb6a82b91c64b8579c9a114f58"><div class="ttname"><a href="classAxisRaw.html#ab8f254eb6a82b91c64b8579c9a114f58">AxisRaw::getLE_TDataHi</a></div><div class="ttdeci">LE_tDataHalf getLE_TDataHi() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00370">AxisRaw.hpp:370</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_acb10d569e10f95bdd0be0af34ce605bd"><div class="ttname"><a href="classAxisRaw.html#acb10d569e10f95bdd0be0af34ce605bd">AxisRaw::getTKeep</a></div><div class="ttdeci">tKeep getTKeep(int leHi=64/8-1, int leLo=0) const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00207">AxisRaw.hpp:207</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gaa454712ade9a73d99f85f05cf35a1c9a"><div class="ttname"><a href="group__NTS__UOE.html#gaa454712ade9a73d99f85f05cf35a1c9a">TRACE_IHS</a></div><div class="ttdeci">#define TRACE_IHS</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00072">uoe.cpp:72</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga5560d80c548e85eb53223a5e99410b7b"><div class="ttname"><a href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a></div><div class="ttdeci">void printAxisRaw(const char *callerName, AxisRaw chunk)</div><div class="ttdoc">Prints an Axis raw data chunk (used for debugging).</div><div class="ttdef"><b>Definition:</b> <a href="nts__utils_8cpp_source.html#l00046">nts_utils.cpp:46</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga56d7f27e0213d6454984dc014f7c8354"><div class="ttname"><a href="group__NTS.html#ga56d7f27e0213d6454984dc014f7c8354">CMD_DISABLE</a></div><div class="ttdeci">#define CMD_DISABLE</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00064">nts_types.hpp:64</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga7c18f4ab9f09d3462d75ef4a347ed040"><div class="ttname"><a href="group__NTS.html#ga7c18f4ab9f09d3462d75ef4a347ed040">Ip4HdrLen</a></div><div class="ttdeci">ap_uint&lt; 4 &gt; Ip4HdrLen</div><div class="ttdef"><b>Definition:</b> <a href="AxisIp4_8hpp_source.html#l00157">AxisIp4.hpp:157</a></div></div>
<div class="ttc" id="agroup__NTS_html_gac9109f1845435f01d51aa48a084a6274"><div class="ttname"><a href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a></div><div class="ttdeci">#define printWarn(callerName, format,...)</div><div class="ttdoc">A macro to print a warning message.</div><div class="ttdef"><b>Definition:</b> <a href="nts__utils_8hpp_source.html#l00182">nts_utils.hpp:182</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gaf298ae8ed051de648f02f4b2ab238ded_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gaf298ae8ed051de648f02f4b2ab238ded_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga0f2f0d19a54d57f63fe33700654988f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f2f0d19a54d57f63fe33700654988f8">&#9670;&nbsp;</a></span>pRxEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pRxEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_Ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIPRX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_LsnReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_LsnRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_ClsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_ClsRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soICMP_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_DropCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rx Engine (RXe)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_Ready</td><td>Process ready signal. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siIPRX_Data</td><td>IP4 data stream from IpRxHAndler (IPRX). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_LsnReq</td><td>UDP open port request from UdpAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_LsnRep</td><td>UDP open port reply to [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_ClsReq</td><td>UDP close port request from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_ClsRep</td><td>UDP close port reply to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Data</td><td>UDP data stream to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Meta</td><td>UDP metadata to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_DLen</td><td>UDP data length to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soICMP_Data</td><td>Control message to InternetControlMessageProtocol[ICMP] engine.</td></tr>
  </table>
  </dd>
</dl>
<p>The Rx path of the UdpOffloadEngine (UOE). This is the path from [IPRX] to the UdpAppInterface (UAIF). To avoid blocking the IPRX engine of the NTS, this process will start dropping the incoming traffic upon one of the two following conditions: 1) If the internal elastic data buffer defined by 'cUdpRxDataFifoSize' is full or, 2) If the maximum number of stored headers defined by 'cUdpRxHdrsFifoSize' is reached. </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00982">982</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;{</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="preprocessor">    #pragma HLS INLINE</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="comment">//-- LOCAL STREAMS (Sorted by the name of the modules which generate them)</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">//-- IP Header Stripper (Ihs)</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keyword">static</span> stream&lt;AxisIp4&gt;      ssIhsToRph_Ip4Hdr       (<span class="stringliteral">&quot;ssIhsToRph_Ip4Hdr&quot;</span>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssIhsToRph_Ip4Hdr       depth=cIp4RxHdrsFifoSize</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keyword">static</span> stream&lt;AxisUdp&gt;      ssIhsToUcc_UdpDgrm      (<span class="stringliteral">&quot;ssIhsToUcc_UdpDgrm&quot;</span>);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssIhsToUcc_UdpDgrm      depth=cMtuSize</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keyword">static</span> stream&lt;UdpCsum&gt;      ssIhsToUcc_PsdHdrSum    (<span class="stringliteral">&quot;ssIhsToUcc_PsdHdrSum&quot;</span>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssIhsToUcc_PsdHdrSum    depth=2</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">//-- UDP Checksum Checker (Ucc)</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keyword">static</span> stream&lt;AxisUdp&gt;      ssUccToRph_UdpDgrm      (<span class="stringliteral">&quot;ssUccToRph_UdpDgrm&quot;</span>);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssUccToRph_UdpDgrm      depth=cUdpRxDataFifoSize</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keyword">static</span> stream&lt;ValBool&gt;      ssUccToRph_CsumVal      (<span class="stringliteral">&quot;ssUccToRph_CsumVal&quot;</span>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssUccToRph_CsumVal      depth=cUdpRxHdrsFifoSize</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keyword">static</span> stream&lt;SigBit&gt;       ssUccToIhs_ClearToSend  (<span class="stringliteral">&quot;ssUccToIhs_ClearToSend&quot;</span>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssUccToIhs_ClearToSend  depth=2</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">//-- UDP Packet Handler (UPh)</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keyword">static</span> stream&lt;UdpPort&gt;      ssRphToUpt_PortStateReq (<span class="stringliteral">&quot;ssRphToUpt_PortStateReq&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssRphToUpt_PortStateReq depth=2</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">//-- UDP Port Table (Upt)</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">static</span> stream&lt;StsBool&gt;      ssUptToRph_PortStateRep (<span class="stringliteral">&quot;ssUptToRph_PortStateRep&quot;</span>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=ssUptToRph_PortStateRep depth=2</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="group__NTS__UOE.html#gaf298ae8ed051de648f02f4b2ab238ded">pIpHeaderStripper</a>(</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            piMMIO_En,</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            siIPRX_Data,</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            ssIhsToUcc_UdpDgrm,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            ssIhsToUcc_PsdHdrSum,</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            ssIhsToRph_Ip4Hdr,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            ssUccToIhs_ClearToSend,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            soMMIO_DropCnt);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga2a359e091f9f35fcd4f5564574eafc6c">pUdpChecksumChecker</a>(</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            ssIhsToUcc_UdpDgrm,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            ssIhsToUcc_PsdHdrSum,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            ssUccToRph_UdpDgrm,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            ssUccToRph_CsumVal,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            ssUccToIhs_ClearToSend);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga167bf3d28da8dec6aa2e94ca84f42131">pRxPacketHandler</a>(</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            ssUccToRph_UdpDgrm,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            ssUccToRph_CsumVal,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            ssIhsToRph_Ip4Hdr,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            ssRphToUpt_PortStateReq,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            ssUptToRph_PortStateRep,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            soUAIF_Data,</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            soUAIF_Meta,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            soUAIF_DLen,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            soICMP_Data);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga097bb0a9ace9c9535590721a8151a979">pUdpPortTable</a>(</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            soMMIO_Ready,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            ssRphToUpt_PortStateReq,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            ssUptToRph_PortStateRep,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            siUAIF_LsnReq,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            soUAIF_LsnRep,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            siUAIF_ClsReq,</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            soUAIF_ClsRep);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="ttc" id="agroup__NTS__UOE_html_ga097bb0a9ace9c9535590721a8151a979"><div class="ttname"><a href="group__NTS__UOE.html#ga097bb0a9ace9c9535590721a8151a979">pUdpPortTable</a></div><div class="ttdeci">void pUdpPortTable(stream&lt; StsBool &gt; &amp;soMMIO_Ready, stream&lt; UdpPort &gt; &amp;siRph_PortStateReq, stream&lt; StsBool &gt; &amp;soRph_PortStateRep, stream&lt; UdpPort &gt; &amp;siUAIF_LsnReq, stream&lt; StsBool &gt; &amp;soUAIF_LsnRep, stream&lt; UdpPort &gt; &amp;siUAIF_ClsReq, stream&lt; StsBool &gt; &amp;soUAIF_ClsRep)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00865">uoe.cpp:865</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga167bf3d28da8dec6aa2e94ca84f42131"><div class="ttname"><a href="group__NTS__UOE.html#ga167bf3d28da8dec6aa2e94ca84f42131">pRxPacketHandler</a></div><div class="ttdeci">void pRxPacketHandler(stream&lt; AxisUdp &gt; &amp;siUcc_UdpDgrm, stream&lt; ValBool &gt; &amp;siUcc_CsumVal, stream&lt; AxisIp4 &gt; &amp;siIhs_Ip4Hdr, stream&lt; UdpPort &gt; &amp;soUpt_PortStateReq, stream&lt; StsBool &gt; &amp;siUpt_PortStateRep, stream&lt; UdpAppData &gt; &amp;soUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;soUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;soUAIF_DLen, stream&lt; AxisIcmp &gt; &amp;soICMP_Data)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00610">uoe.cpp:610</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga2a359e091f9f35fcd4f5564574eafc6c"><div class="ttname"><a href="group__NTS__UOE.html#ga2a359e091f9f35fcd4f5564574eafc6c">pUdpChecksumChecker</a></div><div class="ttdeci">void pUdpChecksumChecker(stream&lt; AxisUdp &gt; &amp;siIhs_UdpDgrm, stream&lt; UdpCsum &gt; &amp;siIhs_PsdHdrSum, stream&lt; AxisUdp &gt; &amp;soRph_UdpDgrm, stream&lt; ValBool &gt; &amp;soRph_CsumVal, stream&lt; SigBit &gt; &amp;soIhs_ClearToSend)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00430">uoe.cpp:430</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gaf298ae8ed051de648f02f4b2ab238ded"><div class="ttname"><a href="group__NTS__UOE.html#gaf298ae8ed051de648f02f4b2ab238ded">pIpHeaderStripper</a></div><div class="ttdeci">void pIpHeaderStripper(CmdBit piMMIO_En, stream&lt; AxisIp4 &gt; &amp;siIPRX_Data, stream&lt; AxisUdp &gt; &amp;soUcc_UdpDgrm, stream&lt; UdpCsum &gt; &amp;soUcc_PsdHdrSum, stream&lt; AxisIp4 &gt; &amp;soRph_Ip4Hdr, stream&lt; SigBit &gt; &amp;siUcc_ClearToSend, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00109">uoe.cpp:109</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga0f2f0d19a54d57f63fe33700654988f8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga0f2f0d19a54d57f63fe33700654988f8_icgraph.svg" width="583" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga167bf3d28da8dec6aa2e94ca84f42131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga167bf3d28da8dec6aa2e94ca84f42131">&#9670;&nbsp;</a></span>pRxPacketHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pRxPacketHandler </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUcc_UdpDgrm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUcc_CsumVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIhs_Ip4Hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUpt_PortStateReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUpt_PortStateRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soICMP_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rx Packet Handler (Rph)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">siIhs_UdpDgrm</td><td>UDP datagram stream from IpHeaderStripper (Ihs). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siIhs_Ip4Hdr</td><td>The header part of the IPv4 packet from [Ihs]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUcc_CsumVal</td><td>Checksum valid information from UdpChecksumChecker (Ucc). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUpt_PortStateReq</td><td>Request for the state of port to UdpPortTable (Upt). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUpt_PortStateRep</td><td>Port state reply from [Upt]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Data</td><td>UDP data stream to UDP Application Interface (UAIF). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Meta</td><td>UDP metadata to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_DLen</td><td>UDP data length to [UAIF] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soICMP_Data</td><td>Control message to InternetControlMessageProtocol[ICMP] engine.</td></tr>
  </table>
  </dd>
</dl>
<p>This process handles the payload of the incoming IP4 packet and forwards it the UdpAppInterface (UAIF). If the UDP checksum of incoming datagram is wrong, the datagram is dropped. If the destination UDP port is not opened, the incoming IP header and the first 8 bytes of the datagram are forwarded to the Internet Control Message Protocol (ICMP) Server which will build a 'Destination Unreachable' message. </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00610">610</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">    #pragma HLS PIPELINE II=1 enable_flush</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;Rph&quot;</span>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { FSM_RPH_IDLE=0,               FSM_RPH_PORT_LOOKUP,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                            FSM_RPH_STREAM,               FSM_RPH_STREAM_FIRST,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                            FSM_RPH_DRAIN_DATAGRAM_STREAM,FSM_RPH_DRAIN_IP4HDR_STREAM,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                            FSM_RPH_PORT_UNREACHABLE_1ST, FSM_RPH_PORT_UNREACHABLE_2ND,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                            FSM_RPH_PORT_UNREACHABLE_STREAM,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                            FSM_RPH_PORT_UNREACHABLE_LAST } rph_fsmState=FSM_RPH_IDLE;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">    #pragma HLS RESET                              variable=rph_fsmState</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisIp4.html">AxisIp4</a>      rph_1stIp4HdrChunk;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisIp4.html">AxisIp4</a>      rph_2ndIp4HdrChunk;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisUdp.html">AxisUdp</a>      rph_udpHeaderChunk;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NTS.html#ga60d1ab59dd1dddeb2bf5efe05a3bbae8">FlagBit</a>      rph_emptyPayloadFlag;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NTS.html#ga87cc3aef863ba98d649d5034dc3a653a">FlagBool</a>     rph_doneWithIpHdrStream;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a>       rph_dgrmLen;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">static</span> <a class="code" href="classSocketPair.html">SocketPair</a>   rph_udpMeta = <a class="code" href="classSocketPair.html">SocketPair</a>(<a class="code" href="classSockAddr.html">SockAddr</a>(0, 0), <a class="code" href="classSockAddr.html">SockAddr</a>(0, 0));</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">switch</span>(rph_fsmState) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_IDLE:</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">if</span> (!siUcc_UdpDgrm.empty() and !siIhs_Ip4Hdr.empty() and</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            !soUpt_PortStateReq.full()) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            rph_doneWithIpHdrStream = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="comment">// Read the 1st IPv4 header chunk retrieve the IHL</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            siIhs_Ip4Hdr.read(rph_1stIp4HdrChunk);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="comment">// Read the the 1st datagram chunk</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            siUcc_UdpDgrm.read(rph_udpHeaderChunk);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="comment">// Request the state of this port to UdpPortTable (Upt)</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            soUpt_PortStateReq.write(rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#a461be53e623846a93250a75085499289">getUdpDstPort</a>());</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="comment">// Check if payload of datagram is empty</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">if</span> (rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">getUdpLen</a>() &gt; 8) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                rph_emptyPayloadFlag = 0;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="comment">// Update the UDP metadata</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                rph_udpMeta.<a class="code" href="classSocketPair.html#ad650bb76775773ea6b99ec73f6fcd683">src</a>.<a class="code" href="classSockAddr.html#aff48e6658a9480b44043d7e0a69d177e">port</a> = rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#a7232c7d04b1c7c53dd05600085aeee0c">getUdpSrcPort</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                rph_udpMeta.<a class="code" href="classSocketPair.html#ac99d7058d4467236e44d048ac99c0708">dst</a>.<a class="code" href="classSockAddr.html#aff48e6658a9480b44043d7e0a69d177e">port</a> = rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#a461be53e623846a93250a75085499289">getUdpDstPort</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="comment">// Save the length of the datagram</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                rph_dgrmLen = rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">getUdpLen</a>() - 8;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                rph_emptyPayloadFlag = 1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                rph_dgrmLen = 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_IDLE - Receive new datagram (UdpLen=%d)\n&quot;</span>,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                          rph_udpHeaderChunk.<a class="code" href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">getUdpLen</a>().to_ushort());</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            rph_fsmState = FSM_RPH_PORT_LOOKUP;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_PORT_LOOKUP:</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> (!siUpt_PortStateRep.empty() and !siUcc_CsumVal.empty() and</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            !siIhs_Ip4Hdr.empty() and !soUAIF_DLen.full()) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <span class="keywordtype">bool</span> csumResult = siUcc_CsumVal.read();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordtype">bool</span> portLkpRes = siUpt_PortStateRep.read();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="comment">// Read the 2nd IPv4 header chunk and update the metadata structure</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            siIhs_Ip4Hdr.read(rph_2ndIp4HdrChunk);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            rph_udpMeta.<a class="code" href="classSocketPair.html#ad650bb76775773ea6b99ec73f6fcd683">src</a>.<a class="code" href="classSockAddr.html#a47f6caa94f847414b56d7a3afed44411">addr</a> = rph_2ndIp4HdrChunk.<a class="code" href="classAxisIp4.html#ac8f3926329a514c6d64b9a5e25ee43cb">getIp4SrcAddr</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_PORT_LOOKUP - CsumValid=%d and portLkpRes=%d.\n&quot;</span>,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                          csumResult, portLkpRes);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">if</span>(portLkpRes and csumResult) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                soUAIF_DLen.write(rph_dgrmLen);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                rph_fsmState = FSM_RPH_STREAM_FIRST;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (not csumResult) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                rph_fsmState = FSM_RPH_DRAIN_DATAGRAM_STREAM;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                rph_fsmState = FSM_RPH_PORT_UNREACHABLE_1ST;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_STREAM_FIRST:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_STREAM_FIRST \n&quot;</span>); }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">if</span> (!siUcc_UdpDgrm.empty() and !siIhs_Ip4Hdr.empty() and</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            !soUAIF_Data.full()    and !soUAIF_Meta.full()) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="comment">// Read the 3rd IPv4 header chunk, update and forward the metadata</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> thirdIp4HdrChunk;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            siIhs_Ip4Hdr.read(thirdIp4HdrChunk);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            rph_udpMeta.<a class="code" href="classSocketPair.html#ac99d7058d4467236e44d048ac99c0708">dst</a>.<a class="code" href="classSockAddr.html#a47f6caa94f847414b56d7a3afed44411">addr</a> = thirdIp4HdrChunk.<a class="code" href="classAxisIp4.html#a3a60d6e7c7029899907f9b88cd7b6ceb">getIp4DstAddr</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">if</span> (thirdIp4HdrChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                rph_doneWithIpHdrStream = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="classAxisUdp.html">AxisUdp</a> dgrmChunk;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">if</span> (not rph_emptyPayloadFlag) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                soUAIF_Meta.write(rph_udpMeta);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="comment">// Read the 1st datagram chunk and forward to [UAIF]</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                siUcc_UdpDgrm.read(dgrmChunk);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                soUAIF_Data.write(<a class="code" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a>(dgrmChunk));</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">if</span> (dgrmChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>() or rph_emptyPayloadFlag) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">if</span> (thirdIp4HdrChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <span class="comment">// Both incoming stream are empty. We are done.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                    rph_fsmState = FSM_RPH_IDLE;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                 }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="comment">// They were options chunk that remain to be drained</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    rph_fsmState = FSM_RPH_DRAIN_IP4HDR_STREAM;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                rph_fsmState = FSM_RPH_STREAM;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_STREAM:</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">if</span> (!siUcc_UdpDgrm.empty() and !soUAIF_Data.full() and !soUAIF_Meta.full()) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="comment">// Forward datagram chunk</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <a class="code" href="classAxisUdp.html">AxisUdp</a> dgrmChunk;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            siUcc_UdpDgrm.read(dgrmChunk);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            soUAIF_Data.write(<a class="code" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a>(dgrmChunk));</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_STREAM\n&quot;</span>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">if</span> (dgrmChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="keywordflow">if</span> (rph_doneWithIpHdrStream) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    <span class="comment">// Both incoming stream are empty. We are done.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    rph_fsmState = FSM_RPH_IDLE;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <span class="comment">// They are IPv4 header chunk that remain to be drained</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    rph_fsmState = FSM_RPH_DRAIN_IP4HDR_STREAM;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siIhs_Ip4Hdr.empty() and not rph_doneWithIpHdrStream) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="comment">// Drain any pending IPv4 header chunk</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <a class="code" href="classAxisIp4.html">AxisIp4</a> currIp4HdrChunk;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                siIhs_Ip4Hdr.read(currIp4HdrChunk);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <span class="keywordflow">if</span> (currIp4HdrChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    rph_doneWithIpHdrStream = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    <span class="comment">// Both incoming stream are empty. We are done.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <span class="comment">// rph_fsmState = FSM_RPH_IDLE;</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_DRAIN_DATAGRAM_STREAM:</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="comment">//-- Drop and drain the entire datagram</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (!siUcc_UdpDgrm.empty()) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="classAxisUdp.html">AxisUdp</a> currChunk;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            siUcc_UdpDgrm.read(currChunk);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_DRAIN_DATAGRAM_STREAM -\n&quot;</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">if</span> (rph_doneWithIpHdrStream) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <span class="comment">// Both incoming stream are empty. We are done.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    rph_fsmState = FSM_RPH_IDLE;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <span class="comment">// Now go and drain the corresponding IPV4 header stream</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    rph_fsmState = FSM_RPH_DRAIN_IP4HDR_STREAM;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_DRAIN_IP4HDR_STREAM :</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="comment">//-- Drain the IPv4 Header Stream</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">if</span> (!siIhs_Ip4Hdr.empty()) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> currChunk;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            siIhs_Ip4Hdr.read(currChunk);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_DRAIN_IP4HDR_STREAM -\n&quot;</span>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                rph_fsmState = FSM_RPH_IDLE;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_PORT_UNREACHABLE_1ST:</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> (!soICMP_Data.full()) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="comment">// Forward the 1st chunk of the IPv4 header</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            soICMP_Data.write(rph_1stIp4HdrChunk);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_PORT_UNREACHABLE_1ST -\n&quot;</span>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            rph_fsmState = FSM_RPH_PORT_UNREACHABLE_2ND;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_PORT_UNREACHABLE_2ND:</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">if</span> (!soICMP_Data.full()) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="comment">// Forward the 2nd chunk of the IPv4 header</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            soICMP_Data.write(rph_2ndIp4HdrChunk);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_PORT_UNREACHABLE_2ND -\n&quot;</span>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            rph_fsmState = FSM_RPH_PORT_UNREACHABLE_STREAM;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_PORT_UNREACHABLE_STREAM:</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (!siIhs_Ip4Hdr.empty() and !soICMP_Data.full()) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="comment">// Forward remaining of the IPv4 header chunks</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <a class="code" href="classAxisIp4.html">AxisIp4</a> ip4Chunk;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            siIhs_Ip4Hdr.read(ip4Chunk);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="comment">// Always clear the LAST bit because the UDP header will follow</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            soICMP_Data.write(<a class="code" href="classAxisIcmp.html">AxisIcmp</a>(ip4Chunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), ip4Chunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), 0));</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_PORT_UNREACHABLE_STREAM -\n&quot;</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">if</span> (ip4Chunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                rph_doneWithIpHdrStream = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                rph_fsmState = FSM_RPH_PORT_UNREACHABLE_LAST;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">case</span> FSM_RPH_PORT_UNREACHABLE_LAST:</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_RPH_PORT_UNREACHABLE_LAST -\n&quot;</span>); }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">if</span> (!soICMP_Data.full()) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            <span class="comment">// Forward the first 8 bytes of the datagram (.i.e, the UDP header)</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            soICMP_Data.write(<a class="code" href="classAxisIcmp.html">AxisIcmp</a>(rph_udpHeaderChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), rph_udpHeaderChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>));</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            rph_fsmState = FSM_RPH_DRAIN_DATAGRAM_STREAM;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    } <span class="comment">// End-of: switch()</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div>
<div class="ttc" id="aclassAxisIcmp_html"><div class="ttname"><a href="classAxisIcmp.html">AxisIcmp</a></div><div class="ttdef"><b>Definition:</b> <a href="AxisIcmp_8hpp_source.html#l00102">AxisIcmp.hpp:102</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_af2601784b2a0b17dc10c1c816fc1e815"><div class="ttname"><a href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">AxisUdp::getUdpLen</a></div><div class="ttdeci">UdpLen getUdpLen()</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00140">AxisUdp.hpp:140</a></div></div>
<div class="ttc" id="aclassSockAddr_html"><div class="ttname"><a href="classSockAddr.html">SockAddr</a></div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00207">nts_types.hpp:207</a></div></div>
<div class="ttc" id="aclassSockAddr_html_a47f6caa94f847414b56d7a3afed44411"><div class="ttname"><a href="classSockAddr.html#a47f6caa94f847414b56d7a3afed44411">SockAddr::addr</a></div><div class="ttdeci">Ip4Addr addr</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00209">nts_types.hpp:209</a></div></div>
<div class="ttc" id="aclassSockAddr_html_aff48e6658a9480b44043d7e0a69d177e"><div class="ttname"><a href="classSockAddr.html#aff48e6658a9480b44043d7e0a69d177e">SockAddr::port</a></div><div class="ttdeci">Ly4Port port</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00210">nts_types.hpp:210</a></div></div>
<div class="ttc" id="aclassSocketPair_html"><div class="ttname"><a href="classSocketPair.html">SocketPair</a></div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00246">nts_types.hpp:246</a></div></div>
<div class="ttc" id="aclassSocketPair_html_ac99d7058d4467236e44d048ac99c0708"><div class="ttname"><a href="classSocketPair.html#ac99d7058d4467236e44d048ac99c0708">SocketPair::dst</a></div><div class="ttdeci">SockAddr dst</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00249">nts_types.hpp:249</a></div></div>
<div class="ttc" id="aclassSocketPair_html_ad650bb76775773ea6b99ec73f6fcd683"><div class="ttname"><a href="classSocketPair.html#ad650bb76775773ea6b99ec73f6fcd683">SocketPair::src</a></div><div class="ttdeci">SockAddr src</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00248">nts_types.hpp:248</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gacddaf53f08f11ef9f5dcb902dcb0b723"><div class="ttname"><a href="group__NTS__UOE.html#gacddaf53f08f11ef9f5dcb902dcb0b723">TRACE_RPH</a></div><div class="ttdeci">#define TRACE_RPH</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00073">uoe.cpp:73</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga60d1ab59dd1dddeb2bf5efe05a3bbae8"><div class="ttname"><a href="group__NTS.html#ga60d1ab59dd1dddeb2bf5efe05a3bbae8">FlagBit</a></div><div class="ttdeci">ap_uint&lt; 1 &gt; FlagBit</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00110">nts_types.hpp:110</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga87cc3aef863ba98d649d5034dc3a653a"><div class="ttname"><a href="group__NTS.html#ga87cc3aef863ba98d649d5034dc3a653a">FlagBool</a></div><div class="ttdeci">bool FlagBool</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00124">nts_types.hpp:124</a></div></div>
<div class="ttc" id="agroup__NTS_html_gadaf5bb7e7b7799d2eced242358e44e45"><div class="ttname"><a href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a></div><div class="ttdeci">AxisRaw UdpAppData</div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00214">nts.hpp:214</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga167bf3d28da8dec6aa2e94ca84f42131_cgraph.svg" width="378" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga167bf3d28da8dec6aa2e94ca84f42131_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga4d0245b447990d0689a8a76e6ac88923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d0245b447990d0689a8a76e6ac88923">&#9670;&nbsp;</a></span>pTxApplicationInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pTxApplicationInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soTdh_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soTdh_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soTdh_DLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tx Application Interface (Tai)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Data</td><td>Data stream from UserAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Meta</td><td>Metadata from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_DLen</td><td>Data payload length from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soTdh_Data</td><td>Data stream to UdpHeaderAdder (Uha). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soTdh_Meta</td><td>Metadata stream to [Uha]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soTdh_DLen</td><td>Data payload length to [Uha].</td></tr>
  </table>
  </dd>
</dl>
<p>This process is the front-end interface to the Tx part of the Udp Application Interface (UAIF). The APP must provide the data as a stream of '<a class="el" href="classAxisRaw.html">AxisRaw</a>' chunks, and every stream must be accompanied by a metadata and payload length information. The metadata specifies the socket-pair that the stream belongs to, while the payload length specifies its length. Two modes of operations are supported by the UDP application interface: 1) DATAGRAM_MODE: If the 'DLen' field is loaded with a length != 0, this length is used as reference for handling the corresponding stream. If the length is larger than UDP_MDS bytes (.i.e, MTU_ZYC2-IP_HEADER_LEN-UDP_HEADER_LEN), this process will split the incoming datagram and generate as many sub-datagrams as required to transport all 'DLen' bytes over Ethernet frames. 2) STREAMING_MODE: If the 'DLen' field is configured with a length == 0, the corresponding stream will be forwarded based on the same metadata information until the 'TLAST' bit of the data stream is set. In this mode, the UOE will wait for the reception of UDP_MDS bytes before generating a new UDP-over-IPv4 packet, unless the 'TLAST' bit of the data stream is set.</p>
<dl class="section warning"><dt>Warning</dt><dd>In DATAGRAM_MODE, the setting of the 'TLAST' bit of the data stream is not required but highly recommended. In STREAMING_MODE, it is the responsibility of the application to set the 'TLAST' bit to avoid a connection from monopolizing the UOE indefinitely. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01101">1101</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/TXe/&quot;</span>, <span class="stringliteral">&quot;Tai&quot;</span>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { FSM_TAI_IDLE=0,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                            FSM_TAI_DRGM_DATA, FSM_TAI_DRGM_META,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                            FSM_TAI_STRM_DATA, FSM_TAI_STRM_META,</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                          } tai_fsmState=FSM_TAI_IDLE;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=tai_fsmState</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NTS.html#ga87cc3aef863ba98d649d5034dc3a653a">FlagBool</a>              tai_streamMode=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=tai_streamMode</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keyword">static</span> <a class="code" href="classUdpAppMeta.html">UdpAppMeta</a>  tai_appMeta;  <span class="comment">// The socket-pair information</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a>  tai_appDLen;  <span class="comment">// Application&#39;s datagram length (0 to 2^16)</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a>  tai_splitCnt; <span class="comment">// Split counter (from 0 to 1422-1)</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">switch</span>(tai_fsmState) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">case</span> FSM_TAI_IDLE:</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">if</span> (!siUAIF_Meta.empty() and !siUAIF_DLen.empty() and (piMMIO_En == <a class="code" href="group__NTS.html#gab9a73413ff369c86384379fe9464b405">CMD_ENABLE</a>)) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            siUAIF_Meta.read(tai_appMeta);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            siUAIF_DLen.read(tai_appDLen);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <span class="keywordflow">if</span> (tai_appDLen == 0) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                tai_streamMode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                tai_fsmState = FSM_TAI_STRM_DATA;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                tai_streamMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                tai_fsmState = FSM_TAI_DRGM_DATA;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            tai_splitCnt = 0;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TAI_IDLE\n&quot;</span>); }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">//[TODO] else if (!siUAIF_Data.empty() and soTdh_Data.full() ) {</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="comment">// In streaming-mode, we may accept up to the depth of &#39;ssTaiToTdh_Data&#39;</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="comment">// bytes to be received ahead of the pair {Meta, DLen}</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="comment">//    siUAIF_Meta.read(tai_appMeta);</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">case</span> FSM_TAI_DRGM_DATA:</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">if</span> (!siUAIF_Data.empty() and !soTdh_Data.full() ) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="comment">//-- Forward data in &#39;datagram&#39; mode</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <a class="code" href="classAxisRaw.html">UdpAppData</a> currChunk = siUAIF_Data.read();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            tai_appDLen  -= currChunk.<a class="code" href="classAxisRaw.html#acadbd2b7e00e34417c426fa91c8d7c51">getLen</a>();</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            tai_splitCnt += currChunk.<a class="code" href="classAxisRaw.html#acadbd2b7e00e34417c426fa91c8d7c51">getLen</a>();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">if</span> ((tai_appDLen == 0) or (tai_splitCnt == UDP_MDS)) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                <span class="comment">// Always enforce TLAST</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                currChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                tai_fsmState = FSM_TAI_DRGM_META;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            soTdh_Data.write(currChunk);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TAI_DRGM_DATA - DLen=%4d - Remainder=%5d \n&quot;</span>,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                          tai_splitCnt.to_ushort(), tai_appDLen.to_ushort());</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">case</span> FSM_TAI_DRGM_META:</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span> (!soTdh_Meta.full() and !soTdh_DLen.full()) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <span class="comment">//-- Forward metadata and length in &#39;datagram&#39; mode</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            soTdh_Meta.write(tai_appMeta);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            soTdh_DLen.write(tai_splitCnt);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            <span class="keywordflow">if</span> (tai_appDLen == 0) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                tai_fsmState = FSM_TAI_IDLE;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                tai_fsmState = FSM_TAI_DRGM_DATA;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                tai_splitCnt = 0;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TAI_DRGM_META - DLen=%4d - Remainder=0 \n&quot;</span>,</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                        tai_splitCnt.to_ushort(), tai_appDLen.to_ushort());</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">case</span> FSM_TAI_STRM_DATA:</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span> (!siUAIF_Data.empty() and !soTdh_Data.full() ) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="comment">//-- Forward data in &#39;streaming&#39; mode</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <a class="code" href="classAxisRaw.html">UdpAppData</a> currChunk = siUAIF_Data.read();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            tai_appDLen  -= currChunk.<a class="code" href="classAxisRaw.html#acadbd2b7e00e34417c426fa91c8d7c51">getLen</a>();</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            tai_splitCnt += currChunk.<a class="code" href="classAxisRaw.html#acadbd2b7e00e34417c426fa91c8d7c51">getLen</a>();</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                tai_streamMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                tai_fsmState = FSM_TAI_STRM_META;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tai_splitCnt == UDP_MDS) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                <span class="comment">// Always enforce TLAST</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                currChunk.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                tai_fsmState = FSM_TAI_STRM_META;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            soTdh_Data.write(currChunk);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TAI_STRM_DATA - DLen=%4d \n&quot;</span>,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                          tai_splitCnt.to_ushort());</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">case</span> FSM_TAI_STRM_META:</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span> (!soTdh_Meta.full() and !soTdh_DLen.full()) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <span class="comment">//-- Forward metadata and length in &#39;datagram&#39; mode</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            soTdh_Meta.write(tai_appMeta);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            soTdh_DLen.write(tai_splitCnt);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="keywordflow">if</span> (tai_streamMode == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                tai_fsmState = FSM_TAI_IDLE;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                tai_fsmState = FSM_TAI_STRM_DATA;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                tai_splitCnt = 0;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a>) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TAI_STRM_META - DLen=%4d - Remainder=0 \n&quot;</span>,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                        tai_splitCnt.to_ushort(), tai_appDLen.to_ushort());</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;}</div>
<div class="ttc" id="aclassAxisRaw_html"><div class="ttname"><a href="classAxisRaw.html">AxisRaw</a></div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00170">AxisRaw.hpp:170</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_acadbd2b7e00e34417c426fa91c8d7c51"><div class="ttname"><a href="classAxisRaw.html#acadbd2b7e00e34417c426fa91c8d7c51">AxisRaw::getLen</a></div><div class="ttdeci">int getLen() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00411">AxisRaw.hpp:411</a></div></div>
<div class="ttc" id="aclassUdpAppMeta_html"><div class="ttname"><a href="classUdpAppMeta.html">UdpAppMeta</a></div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00224">nts.hpp:224</a></div></div>
<div class="ttc" id="agroup__NAL_html_ga0fd08995a15aa8bf81550ef69e0c23d7"><div class="ttname"><a href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a></div><div class="ttdeci">UdpLen UdpAppDLen</div><div class="ttdef"><b>Definition:</b> <a href="nal_8hpp_source.html#l00255">nal.hpp:255</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gaa9b2844ae7692a505350be3f3044ba2c"><div class="ttname"><a href="group__NTS__UOE.html#gaa9b2844ae7692a505350be3f3044ba2c">TRACE_TAI</a></div><div class="ttdeci">#define TRACE_TAI</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00074">uoe.cpp:74</a></div></div>
<div class="ttc" id="agroup__NTS_html_gab9a73413ff369c86384379fe9464b405"><div class="ttname"><a href="group__NTS.html#gab9a73413ff369c86384379fe9464b405">CMD_ENABLE</a></div><div class="ttdeci">#define CMD_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00063">nts_types.hpp:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga4d0245b447990d0689a8a76e6ac88923_cgraph.svg" width="567" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga4d0245b447990d0689a8a76e6ac88923_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="gac7019e2dca00657e45cc22122fe8c23e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7019e2dca00657e45cc22122fe8c23e">&#9670;&nbsp;</a></span>pTxDatagramHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pTxDatagramHandler </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUha_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUha_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUha_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisPsd4.html">AxisPsd4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUca_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tx Datagram Handler (Tdh)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Data</td><td>Data stream from UserAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Meta</td><td>Metadata stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_DLen</td><td>Data payload length from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUha_Data</td><td>Data stream to UdpHeaderAdder (Uha). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUha_Meta</td><td>Metadata stream to [Uha]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUha_DLen</td><td>Data payload length to [Uha]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUca_Data</td><td>UDP data stream to UdpChecksumAccumulator (Uca).</td></tr>
  </table>
  </dd>
</dl>
<p>This process handles the raw data coming from the UdpAppInterface (UAIF). Data are received as a stream from the application layer. They come with a metadata information that specifies the connection the data belong to, as well as a data-length information. Two main tasks are performed by this process: 1) a UDP pseudo-packet is generated and forwarded to the process UdpChecksumAccumulator (Uca) which will compute the UDP checksum. 2) the length of the incoming data stream is measured while the AppData is streamed forward to the process UdpHeaderAdder (Uha). </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01254">1254</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;{</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/TXe/&quot;</span>, <span class="stringliteral">&quot;Tdh&quot;</span>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { FSM_TDH_PSD_PKT1=0, FSM_TDH_PSD_PKT2, FSM_TDH_PSD_PKT3,</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                            FSM_TDH_PSD_PKT4,   FSM_TDH_STREAM,   FSM_TDH_PSD_RESIDUE,</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                            FSM_TDH_LAST } tdh_fsmState=FSM_TDH_PSD_PKT1;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="preprocessor">    #pragma HLS RESET             variable=tdh_fsmState</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisRaw.html">UdpAppData</a> tdh_currChunk;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keyword">static</span> <a class="code" href="classUdpAppMeta.html">UdpAppMeta</a> tdh_udpMeta;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> tdh_appLen; <span class="comment">// The length of the application data stream</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a>     tdh_udpLen; <span class="comment">// the length of the UDP datagram stream</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">switch</span>(tdh_fsmState) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_PSD_PKT1:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <span class="keywordflow">if</span> (!siUAIF_Meta.empty() and</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                !soUha_Meta.full() and !soUca_Data.full()) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                siUAIF_Meta.read(tdh_udpMeta);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="comment">// Generate 1st pseudo-packet chunk [DA|SA]</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a> firstPseudoPktChunk(0, 0xFF, 0);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                firstPseudoPktChunk.setPsd4SrcAddr(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a925c214acf2c5b5ffbf78e94a7775f78">ip4SrcAddr</a>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                firstPseudoPktChunk.setPsd4DstAddr(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#ada05706a7b88ea7cd6c8be65d865d076">ip4DstAddr</a>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <span class="comment">// Forward &amp; next</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                soUca_Data.write(firstPseudoPktChunk);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                soUha_Meta.write(tdh_udpMeta);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                tdh_fsmState = FSM_TDH_PSD_PKT2;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                    <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_PSD_PKT1 - Receive new metadata information.\n&quot;</span>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                    <a class="code" href="classSocketPair.html">SocketPair</a> socketPair(<a class="code" href="classSockAddr.html">SockAddr</a>(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a925c214acf2c5b5ffbf78e94a7775f78">ip4SrcAddr</a>, tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a6395bbcd2dd958b017e2d4ca9175b795">udpSrcPort</a>), <a class="code" href="classSockAddr.html">SockAddr</a>(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#ada05706a7b88ea7cd6c8be65d865d076">ip4DstAddr</a>, tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a2e94f35b90fdde44b11b1aeeb6a18a39">udpDstPort</a>));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                    <a class="code" href="group__NTS.html#gae526d64d204c4ad86d5383b82df63eaf">printSockPair</a>(myName, socketPair);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_PSD_PKT2:</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="keywordflow">if</span> (!siUAIF_DLen.empty() and</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                !soUha_DLen.full() and !soUca_Data.full()) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                siUAIF_DLen.read(tdh_appLen);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                <span class="comment">// Generate UDP length from incoming payload length</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                tdh_udpLen = tdh_appLen + <a class="code" href="group__NTS.html#gac8932031ba2c6d324056a751296553ba">UDP_HEADER_LEN</a>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                <span class="comment">// Generate 2nd pseudo-packet chunk [DP|SP|Len|Prot|0x00]</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a> secondPseudoPktChunk(0, 0xFF, 0);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                secondPseudoPktChunk.setPsd4Prot(<a class="code" href="group__NTS.html#ga4e1dbea714eb773a7f6d1d389fd1d7a5">IP4_PROT_UDP</a>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                secondPseudoPktChunk.setPsd4Len(tdh_udpLen);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                secondPseudoPktChunk.setUdpSrcPort(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a6395bbcd2dd958b017e2d4ca9175b795">udpSrcPort</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                secondPseudoPktChunk.setUdpDstPort(tdh_udpMeta.<a class="code" href="classUdpAppMeta.html#a2e94f35b90fdde44b11b1aeeb6a18a39">udpDstPort</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                <span class="comment">// Forward &amp; next</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                soUha_DLen.write(tdh_appLen);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                soUca_Data.write(secondPseudoPktChunk);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                tdh_fsmState = FSM_TDH_PSD_PKT3;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_PSD_PKT2\n&quot;</span>); }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_PSD_PKT3:</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="keywordflow">if</span> (!siUAIF_Data.empty() and</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                !soUca_Data.full() and !soUha_Data.full()) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                <span class="comment">// Read 1st data payload chunk</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                siUAIF_Data.read(tdh_currChunk);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                <span class="comment">// Generate 3rd pseudo-packet chunk [Data|Csum|Len]</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a> thirdPseudoPktChunk(0, 0xFF, 0);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                thirdPseudoPktChunk.setUdpLen(tdh_udpLen);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                thirdPseudoPktChunk.setUdpCsum(0x0000);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                thirdPseudoPktChunk.setTDataLo(tdh_currChunk.<a class="code" href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">getTDataHi</a>());</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                <span class="keywordflow">if</span> (tdh_currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    tdh_currChunk.<a class="code" href="classAxisRaw.html#a4e8ed9ad2072a6563870f9344c362a4e">clearUnusedBytes</a>();</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                    soUha_Data.write(tdh_currChunk);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                    <span class="keywordflow">if</span> (tdh_currChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>() == 0) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                        <span class="comment">// Done. Payload &lt;= 4 bytes fits into current pseudo-pkt</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                        tdh_fsmState = FSM_TDH_PSD_PKT1;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                        thirdPseudoPktChunk.setTKeepLo(tdh_currChunk.<a class="code" href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">getTKeepHi</a>());</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                        thirdPseudoPktChunk.setTLast(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                    }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                        <span class="comment">// Needs an additional pseudo-pkt-chunk for remaining 1-4 bytes</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                        tdh_fsmState = FSM_TDH_PSD_PKT4;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    tdh_fsmState = FSM_TDH_STREAM;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                soUca_Data.write(thirdPseudoPktChunk);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_PSD_PKT3\n&quot;</span>); }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_PSD_PKT4:</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="keywordflow">if</span> (!soUca_Data.full()) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                <span class="comment">// Generate 4th and last pseudo-packet chunk to hold remaining 1-4 bytes</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a> fourthPseudoPktChunk(0, 0x00, <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                fourthPseudoPktChunk.setTDataHi(tdh_currChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                fourthPseudoPktChunk.setTKeepHi(tdh_currChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                soUca_Data.write(fourthPseudoPktChunk);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                tdh_fsmState = FSM_TDH_PSD_PKT1;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_PSD_PKT4\n&quot;</span>); }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_STREAM:</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            <span class="comment">// This state streams both the pseudo-packet chunks into the checksum</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="comment">// calculation stage and the next stage</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keywordflow">if</span> (!siUAIF_Data.empty() and</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                !soUha_Data.full() and !soUca_Data.full()) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                <span class="comment">// Always forward the current AppData chunk to next-stage [Uha]</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                soUha_Data.write(tdh_currChunk);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                <span class="comment">// Save previous AppData and read a new one from [UAIF]</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a>   currPseudoChunk(0, 0xFF, 0);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                <a class="code" href="classAxisRaw.html">UdpAppData</a> prevAppDataChunk(tdh_currChunk);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                siUAIF_Data.read(tdh_currChunk);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                <span class="comment">// Generate new pseudo-packet chunk</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                currPseudoChunk.setTDataHi(prevAppDataChunk.getTDataLo());</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                currPseudoChunk.setTDataLo(tdh_currChunk.<a class="code" href="classAxisRaw.html#ad9de3735705f840155f6df0226230b01">getTDataHi</a>());</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                <span class="keywordflow">if</span> (tdh_currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    <span class="keywordflow">if</span> (tdh_currChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>() != 0) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                        <span class="comment">// Last AppData chunk won&#39;t fit in current pseudo-chunk.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                        tdh_fsmState = FSM_TDH_PSD_RESIDUE;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                        <span class="comment">// Done. Payload &lt;= 4 bytes fits into current pseudo-pkt</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                        tdh_fsmState = FSM_TDH_LAST;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                        currPseudoChunk.setTKeepLo(tdh_currChunk.<a class="code" href="classAxisRaw.html#a58b8357553e87b35d4841c9f0bcdb08d">getTKeepHi</a>());</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                        currPseudoChunk.setTLast(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                soUca_Data.write(currPseudoChunk);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_STREAM\n&quot;</span>); }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_LAST:</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">if</span> (!soUha_Data.full()) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                soUha_Data.write(tdh_currChunk);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                tdh_fsmState = FSM_TDH_PSD_PKT1;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_LAST\n&quot;</span>); }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keywordflow">case</span> FSM_TDH_PSD_RESIDUE:</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">if</span> (!soUha_Data.full() and !soUca_Data.full()) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                <span class="comment">// Always forward the last AppData chunk</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                soUha_Data.write(tdh_currChunk);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                <span class="comment">// Generate the last pseudo-packet chunk and forward it to [Uca]</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                <a class="code" href="classAxisPsd4.html">AxisPsd4</a> lastPseudoPktChunk(0, 0x00, <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                lastPseudoPktChunk.setTDataHi(tdh_currChunk.<a class="code" href="classAxisRaw.html#a48f8284ad60d96e2d2764ef2eefc4a64">getTDataLo</a>());</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                lastPseudoPktChunk.setTKeepHi(tdh_currChunk.<a class="code" href="classAxisRaw.html#af7dcf20294a3d8853042af971f19c4a6">getTKeepLo</a>());</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                soUca_Data.write(lastPseudoPktChunk);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                tdh_fsmState = FSM_TDH_PSD_PKT1;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;FSM_TDH_PSD_RESIDUE\n&quot;</span>); }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="ttc" id="aclassAxisPsd4_html"><div class="ttname"><a href="classAxisPsd4.html">AxisPsd4</a></div><div class="ttdef"><b>Definition:</b> <a href="AxisPsd4_8hpp_source.html#l00110">AxisPsd4.hpp:110</a></div></div>
<div class="ttc" id="aclassAxisRaw_html_a4e8ed9ad2072a6563870f9344c362a4e"><div class="ttname"><a href="classAxisRaw.html#a4e8ed9ad2072a6563870f9344c362a4e">AxisRaw::clearUnusedBytes</a></div><div class="ttdeci">void clearUnusedBytes()</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00391">AxisRaw.hpp:391</a></div></div>
<div class="ttc" id="aclassUdpAppMeta_html_a2e94f35b90fdde44b11b1aeeb6a18a39"><div class="ttname"><a href="classUdpAppMeta.html#a2e94f35b90fdde44b11b1aeeb6a18a39">UdpAppMeta::udpDstPort</a></div><div class="ttdeci">Ly4Port udpDstPort</div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00229">nts.hpp:229</a></div></div>
<div class="ttc" id="aclassUdpAppMeta_html_a6395bbcd2dd958b017e2d4ca9175b795"><div class="ttname"><a href="classUdpAppMeta.html#a6395bbcd2dd958b017e2d4ca9175b795">UdpAppMeta::udpSrcPort</a></div><div class="ttdeci">Ly4Port udpSrcPort</div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00227">nts.hpp:227</a></div></div>
<div class="ttc" id="aclassUdpAppMeta_html_a925c214acf2c5b5ffbf78e94a7775f78"><div class="ttname"><a href="classUdpAppMeta.html#a925c214acf2c5b5ffbf78e94a7775f78">UdpAppMeta::ip4SrcAddr</a></div><div class="ttdeci">Ip4Addr ip4SrcAddr</div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00226">nts.hpp:226</a></div></div>
<div class="ttc" id="aclassUdpAppMeta_html_ada05706a7b88ea7cd6c8be65d865d076"><div class="ttname"><a href="classUdpAppMeta.html#ada05706a7b88ea7cd6c8be65d865d076">UdpAppMeta::ip4DstAddr</a></div><div class="ttdeci">Ip4Addr ip4DstAddr</div><div class="ttdef"><b>Definition:</b> <a href="nts_8hpp_source.html#l00228">nts.hpp:228</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gabf75cd358a5f570d5dc2b21c52cb030a"><div class="ttname"><a href="group__NTS__UOE.html#gabf75cd358a5f570d5dc2b21c52cb030a">TRACE_TDH</a></div><div class="ttdeci">#define TRACE_TDH</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00075">uoe.cpp:75</a></div></div>
<div class="ttc" id="agroup__NTS_html_gac8932031ba2c6d324056a751296553ba"><div class="ttname"><a href="group__NTS.html#gac8932031ba2c6d324056a751296553ba">UDP_HEADER_LEN</a></div><div class="ttdeci">#define UDP_HEADER_LEN</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00081">AxisUdp.hpp:81</a></div></div>
<div class="ttc" id="agroup__NTS_html_gae526d64d204c4ad86d5383b82df63eaf"><div class="ttname"><a href="group__NTS.html#gae526d64d204c4ad86d5383b82df63eaf">printSockPair</a></div><div class="ttdeci">void printSockPair(const char *callerName, SocketPair sockPair)</div><div class="ttdoc">Print a socket pair association.</div><div class="ttdef"><b>Definition:</b> <a href="nts__utils_8cpp_source.html#l00114">nts_utils.cpp:114</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gac7019e2dca00657e45cc22122fe8c23e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gac7019e2dca00657e45cc22122fe8c23e_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga857a71b260dfd52bf76ffdcd4260aeae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga857a71b260dfd52bf76ffdcd4260aeae">&#9670;&nbsp;</a></span>pTxEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pTxEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIPTX_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tx Engine (TXe)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Data</td><td>Data stream from UserAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Meta</td><td>Metadata stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_DLen</td><td>Data length from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIPTX_Data</td><td>Data stream to IpTxHandler (IPTX).</td></tr>
  </table>
  </dd>
</dl>
<p>The Tx path of the UdpOffloadEngine (UOE). This is the path from the UdpAppInterface (UAIF). </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01718">1718</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;{</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="preprocessor">    #pragma HLS INLINE</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;TXe&quot;</span>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="comment">//-- LOCAL STREAMS (Sorted by the name of the modules which generate them)</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">//-- Tx Application Interface (Tai)</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppData&gt;      ssTaiToTdh_Data    (<span class="stringliteral">&quot;ssTaiToTdh_Data&quot;</span>);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTaiToTdh_Data    depth=1024</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppMeta&gt;      ssTaiToTdh_Meta    (<span class="stringliteral">&quot;ssTaiToTdh_Meta&quot;</span>);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTaiToTdh_Meta    depth=32</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK variable=ssTaiToTdh_Meta</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppDLen&gt;      ssTaiToTdh_DLen    (<span class="stringliteral">&quot;ssTaiToTdh_DLen&quot;</span>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTaiToTdh_DLen    depth=32</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">//-- Tx Datagram Handler (Tdh)</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppData&gt;      ssTdhToUha_Data    (<span class="stringliteral">&quot;ssTdhToUha_Data&quot;</span>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTdhToUha_Data    depth=1024</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppMeta&gt;      ssTdhToUha_Meta    (<span class="stringliteral">&quot;ssTdhToUha_Meta&quot;</span>);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTdhToUha_Meta    depth=32</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK variable=ssTdhToUha_Meta</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keyword">static</span> stream&lt;UdpAppDLen&gt;      ssTdhToUha_DLen    (<span class="stringliteral">&quot;ssTdhToUha_DLen&quot;</span>);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTdhToUha_DLen    depth=32</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keyword">static</span> stream&lt;AxisPsd4&gt;        ssTdhToUca_Data    (<span class="stringliteral">&quot;ssTdhToUca_Data&quot;</span>);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssTdhToUca_Data    depth=8</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">// UdpChecksumAccumulator (Uca)</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keyword">static</span> stream&lt;UdpCsum&gt;         ssUcaToUha_Csum    (<span class="stringliteral">&quot;ssUcaToUha_Csum&quot;</span>);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssUcaToUha_Csum    depth=32</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="comment">// UdpHeaderAdder (Uha)</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keyword">static</span> stream&lt;AxisUdp&gt;         ssUhaToIha_Data    (<span class="stringliteral">&quot;ssUhaToIha_Data&quot;</span>);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssUhaToIha_Data    depth=1024</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keyword">static</span> stream&lt;UdpLen&gt;          ssUhaToIha_UdpLen  (<span class="stringliteral">&quot;ssUhaToIha_UdpLen&quot;</span>);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssUhaToIha_UdpLen  depth=32</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keyword">static</span> stream&lt;IpAddrPair&gt;      ssUhaToIha_IpPair  (<span class="stringliteral">&quot;ssUhaToIha_IpPair&quot;</span>);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="preprocessor">    #pragma HLS STREAM    variable=ssUhaToIha_IpPair  depth=32</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK variable=ssUhaToIha_IpPair</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">//-- PROCESS FUNCTIONS</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga4d0245b447990d0689a8a76e6ac88923">pTxApplicationInterface</a>(</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            piMMIO_En,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            siUAIF_Data,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            siUAIF_Meta,</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            siUAIF_DLen,</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            ssTaiToTdh_Data,</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            ssTaiToTdh_Meta,</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            ssTaiToTdh_DLen);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <a class="code" href="group__NTS__UOE.html#gac7019e2dca00657e45cc22122fe8c23e">pTxDatagramHandler</a>(</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            ssTaiToTdh_Data,</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            ssTaiToTdh_Meta,</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            ssTaiToTdh_DLen,</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            ssTdhToUha_Data,</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            ssTdhToUha_Meta,</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            ssTdhToUha_DLen,</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            ssTdhToUca_Data);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga049dc0a8894b4489363d6e958fab1332">pUdpChecksumAccumulator</a>(</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            ssTdhToUca_Data,</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            ssUcaToUha_Csum);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="group__NTS__UOE.html#gad1c2336f90888c5efb87c411af0eb26c">pUdpHeaderAdder</a>(</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            ssTdhToUha_Data,</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            ssTdhToUha_DLen,</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            ssTdhToUha_Meta,</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            ssUcaToUha_Csum,</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            ssUhaToIha_Data,</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            ssUhaToIha_IpPair,</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            ssUhaToIha_UdpLen);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga2bfd00650e9f0cc4d8440d60e013f8be">pIp4HeaderAdder</a>(</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            ssUhaToIha_Data,</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            ssUhaToIha_IpPair,</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            ssUhaToIha_UdpLen,</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            soIPTX_Data);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="ttc" id="agroup__NTS__UOE_html_ga049dc0a8894b4489363d6e958fab1332"><div class="ttname"><a href="group__NTS__UOE.html#ga049dc0a8894b4489363d6e958fab1332">pUdpChecksumAccumulator</a></div><div class="ttdeci">void pUdpChecksumAccumulator(stream&lt; AxisPsd4 &gt; &amp;siTdh_Data, stream&lt; UdpCsum &gt; &amp;soUha_Csum)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01415">uoe.cpp:1415</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga2bfd00650e9f0cc4d8440d60e013f8be"><div class="ttname"><a href="group__NTS__UOE.html#ga2bfd00650e9f0cc4d8440d60e013f8be">pIp4HeaderAdder</a></div><div class="ttdeci">void pIp4HeaderAdder(stream&lt; AxisUdp &gt; &amp;siUha_Data, stream&lt; IpAddrPair &gt; &amp;siUha_IpPair, stream&lt; UdpLen &gt; &amp;siUha_UdpLen, stream&lt; AxisIp4 &gt; &amp;soIPTX_Data)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01599">uoe.cpp:1599</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga4d0245b447990d0689a8a76e6ac88923"><div class="ttname"><a href="group__NTS__UOE.html#ga4d0245b447990d0689a8a76e6ac88923">pTxApplicationInterface</a></div><div class="ttdeci">void pTxApplicationInterface(CmdBit piMMIO_En, stream&lt; UdpAppData &gt; &amp;siUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;siUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;siUAIF_DLen, stream&lt; UdpAppData &gt; &amp;soTdh_Data, stream&lt; UdpAppMeta &gt; &amp;soTdh_Meta, stream&lt; UdpAppDLen &gt; &amp;soTdh_DLen)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01101">uoe.cpp:1101</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gac7019e2dca00657e45cc22122fe8c23e"><div class="ttname"><a href="group__NTS__UOE.html#gac7019e2dca00657e45cc22122fe8c23e">pTxDatagramHandler</a></div><div class="ttdeci">void pTxDatagramHandler(stream&lt; UdpAppData &gt; &amp;siUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;siUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;siUAIF_DLen, stream&lt; UdpAppData &gt; &amp;soUha_Data, stream&lt; UdpAppMeta &gt; &amp;soUha_Meta, stream&lt; UdpAppDLen &gt; &amp;soUha_DLen, stream&lt; AxisPsd4 &gt; &amp;soUca_Data)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01254">uoe.cpp:1254</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gad1c2336f90888c5efb87c411af0eb26c"><div class="ttname"><a href="group__NTS__UOE.html#gad1c2336f90888c5efb87c411af0eb26c">pUdpHeaderAdder</a></div><div class="ttdeci">void pUdpHeaderAdder(stream&lt; UdpAppData &gt; &amp;siTdh_Data, stream&lt; UdpAppDLen &gt; &amp;siTdh_DLen, stream&lt; UdpAppMeta &gt; &amp;siTdh_Meta, stream&lt; UdpCsum &gt; &amp;siUca_Csum, stream&lt; AxisUdp &gt; &amp;soIha_Data, stream&lt; IpAddrPair &gt; &amp;soIha_IpPair, stream&lt; UdpLen &gt; &amp;soIha_UdpLen)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01516">uoe.cpp:1516</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga857a71b260dfd52bf76ffdcd4260aeae_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga857a71b260dfd52bf76ffdcd4260aeae_icgraph.svg" width="583" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga049dc0a8894b4489363d6e958fab1332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga049dc0a8894b4489363d6e958fab1332">&#9670;&nbsp;</a></span>pUdpChecksumAccumulator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pUdpChecksumAccumulator </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisPsd4.html">AxisPsd4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siTdh_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUha_Csum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01415">1415</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;{</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS -------------------------------------------</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor">    #pragma HLS PIPELINE II=1 enable_flush</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/TXe/&quot;</span>, <span class="stringliteral">&quot;Uca&quot;</span>);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) ---------------------------------</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { FSM_UCA_ACCUMULATE=0, FSM_UCA_LAST, FSM_UCA_DONE } \</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                    uca_fsmState=FSM_UCA_ACCUMULATE;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_fsmState</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;           uca_csum0;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_csum0</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;           uca_csum1;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_csum1</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;           uca_csum2;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_csum2</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;           uca_csum3;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_csum3</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keyword">static</span> <a class="code" href="classAxisPsd4.html">AxisPsd4</a>              uca_lastChunk;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="preprocessor">    #pragma HLS RESET   variable=uca_lastChunk</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">switch</span> (uca_fsmState) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">case</span> FSM_UCA_ACCUMULATE:</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">if</span> (!siTdh_Data.empty()) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <a class="code" href="classAxisPsd4.html">AxisPsd4</a> currChunk = siTdh_Data.read();</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                uca_lastChunk = currChunk;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                uca_lastChunk.<a class="code" href="classAxisRaw.html#a4e8ed9ad2072a6563870f9344c362a4e">clearUnusedBytes</a>();</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                uca_fsmState = FSM_UCA_LAST;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                uca_csum0 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(63, 48));</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                uca_csum0  = (uca_csum0 &amp; 0xFFFF) + (uca_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                uca_csum1 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(47, 32));</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                uca_csum1  = (uca_csum1 &amp; 0xFFFF) + (uca_csum1 &gt;&gt; 16);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                uca_csum2 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(31, 16));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                uca_csum2  = (uca_csum2 &amp; 0xFFFF) + (uca_csum2 &gt;&gt; 16);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                uca_csum3 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(15,  0));</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                uca_csum3  = (uca_csum3 &amp; 0xFFFF) + (uca_csum3 &gt;&gt; 16);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga720f04bcc3fbe7ab9494fff05804011e">TRACE_UCA</a>) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName, <span class="stringliteral">&quot;Received a new pseudo-header chunk: &quot;</span>, currChunk);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">case</span> FSM_UCA_LAST:</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        uca_csum0 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(uca_lastChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(63, 48));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        uca_csum0  = (uca_csum0 &amp; 0xFFFF) + (uca_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        uca_csum1 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(uca_lastChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(47, 32));</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        uca_csum1  = (uca_csum1 &amp; 0xFFFF) + (uca_csum1 &gt;&gt; 16);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        uca_csum2 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(uca_lastChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(31, 16));</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        uca_csum2  = (uca_csum2 &amp; 0xFFFF) + (uca_csum2 &gt;&gt; 16);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        uca_csum3 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(uca_lastChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>().range(15,  0));</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        uca_csum3  = (uca_csum3 &amp; 0xFFFF) + (uca_csum3 &gt;&gt; 16);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        uca_fsmState = FSM_UCA_DONE;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">case</span> FSM_UCA_DONE:</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="keywordflow">if</span> (!soUha_Csum.full()) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            ap_uint&lt;17&gt; csum01, csum23, csum0123;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            csum01 = uca_csum0 + uca_csum1;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            csum01 = (csum01 &amp; 0xFFFF) + (csum01 &gt;&gt; 16);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            csum23 = uca_csum2 + uca_csum3;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            csum23 = (csum23 &amp; 0xFFFF) + (csum23 &gt;&gt; 16);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            csum0123 = csum01 + csum23;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            csum0123 = (csum0123 &amp; 0xFFFF) + (csum0123 &gt;&gt; 16);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            csum0123 = ~csum0123;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            soUha_Csum.write(csum0123.range(15, 0));</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="comment">//-- Clear the csum accumulators</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            uca_csum0 = 0;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            uca_csum1 = 0;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            uca_csum2 = 0;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            uca_csum3 = 0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga720f04bcc3fbe7ab9494fff05804011e">TRACE_UCA</a>) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;End of pseudo-header packet.\n&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            uca_fsmState = FSM_UCA_ACCUMULATE;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div>
<div class="ttc" id="agroup__NTS__UOE_html_ga720f04bcc3fbe7ab9494fff05804011e"><div class="ttname"><a href="group__NTS__UOE.html#ga720f04bcc3fbe7ab9494fff05804011e">TRACE_UCA</a></div><div class="ttdeci">#define TRACE_UCA</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00076">uoe.cpp:76</a></div></div>
<div class="ttc" id="audp_8cpp_html_ga3179abf5c515026aad3e82047a1dd9a3"><div class="ttname"><a href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; byteSwap16(ap_uint&lt; 16 &gt; inputVector)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00082">udp.cpp:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga049dc0a8894b4489363d6e958fab1332_cgraph.svg" width="100%" height="499"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga049dc0a8894b4489363d6e958fab1332_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga2a359e091f9f35fcd4f5564574eafc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a359e091f9f35fcd4f5564574eafc6c">&#9670;&nbsp;</a></span>pUdpChecksumChecker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pUdpChecksumChecker </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIhs_UdpDgrm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIhs_PsdHdrSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soRph_UdpDgrm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soRph_CsumVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0b335b61d35849bcfae104b2eb440c31">SigBit</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIhs_ClearToSend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UDP Checksum Checker (Ucc)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">siUcc_UdpDgrm</td><td>UDP datagram stream from IpHeaderStripper (Ihs). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUcc_PsdHdrSum</td><td>Pseudo header sum (SA+DA+Prot+Len) from [Ihs]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soRph_UdpDgrm</td><td>UDP datagram stream to RxPacketHandler (Rph). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soRph_CsumVal</td><td>Checksum valid information to [Rph]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIhs_ClearToSend</td><td>Clear to send signal to [Ihs].</td></tr>
  </table>
  </dd>
</dl>
<p>This process accumulates the checksum over the UDP header and the UDP data. The computed checksum is compared with the embedded checksum when 'TLAST' is reached, and the result is forwarded to the RxPacketHandler (Rph). This process controls the total amount of data stored in the elastic buffer of the UOE. When issued, a 'soIhs_ClearToSend' signal indicates that the UOE is able to accept another datagram of up to MTU bytes. </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00430">430</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/RXe/&quot;</span>, <span class="stringliteral">&quot;Ucc&quot;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { FSM_UCC_INIT=0, FSM_UCC_IDLE,  FSM_UCC_START,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                            FSM_UCC_CHK0,   FSM_UCC_CHK1,  FSM_UCC_ACCUMULATE,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                            FSM_UCC_STREAM } ucc_fsmState=FSM_UCC_INIT;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">    #pragma HLS RESET               variable=ucc_fsmState</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">static</span> ap_uint&lt;10&gt;                       ucc_chunkCount=0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">    #pragma HLS RESET               variable=ucc_chunkCount</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;  ucc_csum0;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;  ucc_csum1;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;  ucc_csum2;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">static</span> ap_uint&lt;17&gt;  ucc_csum3;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a>      ucc_psdHdrCsum;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">//-- DYNAMIC VARIABLES ----------------------------------------------------</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classAxisUdp.html">AxisUdp</a>     currChunk;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">switch</span> (ucc_fsmState) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_INIT:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="comment">// Initialize the first CTS token</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        soIhs_ClearToSend.write(1);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        ucc_fsmState = FSM_UCC_IDLE;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_IDLE:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> (!soIhs_ClearToSend.full()) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">// Init 2nd CTS token. We are now able to accept up 2 MTUs bytes</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            soIhs_ClearToSend.write(1);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            ucc_fsmState = FSM_UCC_START;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_START:</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> (!siIhs_UdpDgrm.empty() and !siIhs_PsdHdrSum.empty() and</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            !soRph_UdpDgrm.full()  and !soRph_CsumVal.full()) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="comment">//-- READ 1st DTGM-CHUNK (CSUM|LEN|DP|SP)</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            siIhs_UdpDgrm.read(currChunk);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="comment">//-- READ the checksum of the pseudo header</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            siIhs_PsdHdrSum.read(ucc_psdHdrCsum);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="comment">// Always forward datagram to [Rph]</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            soRph_UdpDgrm.write(currChunk);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisUdp.html#a9fdb0cba987e990c51ed23f837f79746">getUdpCsum</a>() == 0x0000) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="comment">// An all zero transmitted checksum  value means that the</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <span class="comment">// transmitter generated no checksum.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                soRph_CsumVal.write(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                ucc_fsmState = FSM_UCC_STREAM;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                <span class="comment">// Accumulate the UDP header</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                ucc_csum0  = 0x00000 | currChunk.<a class="code" href="classAxisUdp.html#a7232c7d04b1c7c53dd05600085aeee0c">getUdpSrcPort</a>();</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                ucc_csum0 += ucc_psdHdrCsum;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                ucc_csum0  = (ucc_csum0 &amp; 0xFFFF) + (ucc_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                ucc_csum1 = 0x00000 | currChunk.<a class="code" href="classAxisUdp.html#a461be53e623846a93250a75085499289">getUdpDstPort</a>();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                ucc_csum2 = 0x00000 | currChunk.<a class="code" href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">getUdpLen</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                ucc_csum3 = 0x00000 | currChunk.<a class="code" href="classAxisUdp.html#a9fdb0cba987e990c51ed23f837f79746">getUdpCsum</a>();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisUdp.html#af2601784b2a0b17dc10c1c816fc1e815">getUdpLen</a>() == 8) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <span class="comment">// Payload is empty</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    ucc_fsmState = FSM_UCC_CHK0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                    ucc_fsmState = FSM_UCC_ACCUMULATE;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName,<span class="stringliteral">&quot;FSM_UCC_START           -&quot;</span>, currChunk); }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_STREAM:</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> (!siIhs_UdpDgrm.empty() and !soRph_UdpDgrm.full()) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            siIhs_UdpDgrm.read(currChunk);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            soRph_UdpDgrm.write(currChunk);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                ucc_fsmState = FSM_UCC_IDLE;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName,<span class="stringliteral">&quot;FSM_UCC_STREAM     - &quot;</span>, currChunk); }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_ACCUMULATE:</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> (!siIhs_UdpDgrm.empty() and !soRph_UdpDgrm.full()) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            siIhs_UdpDgrm.read(currChunk);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">// Always set the disabled bytes to zero</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <a class="code" href="group__NTS.html#ga46d34f0b0fafe423856fc539ba449dda">LE_tData</a> cleanChunk = 0;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x01)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                cleanChunk.range( 7, 0) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range( 7, 0);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x02)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                cleanChunk.range(15, 8) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(15, 8);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x04)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                cleanChunk.range(23,16) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(23,16);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x08)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                cleanChunk.range(31,24) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(31,24);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x10)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                cleanChunk.range(39,32) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(39,32);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x20)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                cleanChunk.range(47,40) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(47,40);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x40)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                cleanChunk.range(55,48) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(55,48);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>() &amp; 0x80)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                cleanChunk.range(63,56) = (currChunk.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>()).range(63,56);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            soRph_UdpDgrm.write(<a class="code" href="classAxisUdp.html">AxisUdp</a>(cleanChunk, currChunk.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), currChunk.<a class="code" href="classAxisRaw.html#af8208752dcbb14911c5fda27d90a0ef4">getLE_TLast</a>()));</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            ucc_csum0 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(cleanChunk.range(63, 48));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            ucc_csum0  = (ucc_csum0 &amp; 0xFFFF) + (ucc_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            ucc_csum1 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(cleanChunk.range(47, 32));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            ucc_csum1  = (ucc_csum1 &amp; 0xFFFF) + (ucc_csum1 &gt;&gt; 16);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            ucc_csum2 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(cleanChunk.range(31, 16));</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            ucc_csum2  = (ucc_csum2 &amp; 0xFFFF) + (ucc_csum2 &gt;&gt; 16);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            ucc_csum3 += <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(cleanChunk.range(15,  0));</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            ucc_csum3  = (ucc_csum3 &amp; 0xFFFF) + (ucc_csum3 &gt;&gt; 16);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">if</span> (currChunk.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>()) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;              ucc_fsmState = FSM_UCC_CHK0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) { <a class="code" href="group__NTS.html#ga5560d80c548e85eb53223a5e99410b7b">printAxisRaw</a>(myName,<span class="stringliteral">&quot;FSM_UCC_ACCUMULATE      -&quot;</span>, currChunk); }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_CHK0:</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName,<span class="stringliteral">&quot;FSM_UCC_CHK0 - \n&quot;</span>); }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        ucc_csum0 += ucc_csum2;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        ucc_csum0  = (ucc_csum0 &amp; 0xFFFF) + (ucc_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        ucc_csum1 += ucc_csum3;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        ucc_csum1  = (ucc_csum1 &amp; 0xFFFF) + (ucc_csum1 &gt;&gt; 16);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        ucc_fsmState = FSM_UCC_CHK1;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">case</span> FSM_UCC_CHK1:</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (!soRph_CsumVal.full()) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName,<span class="stringliteral">&quot;FSM_UCC_CHK1 - \n&quot;</span>); }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            ucc_csum0 += ucc_csum1;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            ucc_csum0  = (ucc_csum0 &amp; 0xFFFF) + (ucc_csum0 &gt;&gt; 16);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> csumChk = ~(ucc_csum0(15, 0));</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (csumChk == 0) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="comment">// The checksum is correct. UDP datagram is valid.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                soRph_CsumVal.write(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                soRph_CsumVal.write(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;The current UDP datagram will be dropped because:\n&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;  csum = 0x%4.4X instead of 0x0000\n&quot;</span>, csumChk.to_ushort());</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            ucc_fsmState = FSM_UCC_IDLE;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    } <span class="comment">// End-of: switch</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;} <span class="comment">// End-of: pUdpChecksumChecker</span></div>
<div class="ttc" id="aclassAxisRaw_html_af8208752dcbb14911c5fda27d90a0ef4"><div class="ttname"><a href="classAxisRaw.html#af8208752dcbb14911c5fda27d90a0ef4">AxisRaw::getLE_TLast</a></div><div class="ttdeci">LE_tLast getLE_TLast() const</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00268">AxisRaw.hpp:268</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_a9fdb0cba987e990c51ed23f837f79746"><div class="ttname"><a href="classAxisUdp.html#a9fdb0cba987e990c51ed23f837f79746">AxisUdp::getUdpCsum</a></div><div class="ttdeci">UdpCsum getUdpCsum()</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00145">AxisUdp.hpp:145</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga3bc49e2700b210a2754d5d5f4124694a"><div class="ttname"><a href="group__NTS__UOE.html#ga3bc49e2700b210a2754d5d5f4124694a">TRACE_UCC</a></div><div class="ttdeci">#define TRACE_UCC</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00077">uoe.cpp:77</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga46d34f0b0fafe423856fc539ba449dda"><div class="ttname"><a href="group__NTS.html#ga46d34f0b0fafe423856fc539ba449dda">LE_tData</a></div><div class="ttdeci">ap_uint&lt; 64 &gt; LE_tData</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00122">AxisRaw.hpp:122</a></div></div>
<div class="ttc" id="agroup__NTS_html_gacac843a3daf924d65cf7de8a1cca7eff"><div class="ttname"><a href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; UdpCsum</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00101">AxisUdp.hpp:101</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga2a359e091f9f35fcd4f5564574eafc6c_cgraph.svg" width="630" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga2a359e091f9f35fcd4f5564574eafc6c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="gad1c2336f90888c5efb87c411af0eb26c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1c2336f90888c5efb87c411af0eb26c">&#9670;&nbsp;</a></span>pUdpHeaderAdder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pUdpHeaderAdder </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siTdh_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siTdh_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siTdh_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gacac843a3daf924d65cf7de8a1cca7eff">UdpCsum</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUca_Csum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisUdp.html">AxisUdp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIha_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classIpAddrPair.html">IpAddrPair</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIha_IpPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIha_UdpLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UDP Header Adder (Uha)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">siTdh_Data</td><td>AppData stream from TxDatagramHandler (Tdh). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siTdh_DLen</td><td>Data payload length from [Tdh]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siTdh_Meta</td><td>Metadata from [tdH]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUca_Csum</td><td>The UDP checksum from UdpChecksumAccumaulato (Uca). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIha_Data</td><td>UdpData strem to IpHeaderAdder (Iha). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIha_IpPair</td><td>The IP_SA and IP_DA for this datagram. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIha_UdpLen</td><td>The length of the UDP datagram to [Iha].</td></tr>
  </table>
  </dd>
</dl>
<p>This process creates a UDP header and prepends it to the AppData stream coming from the TxDatagramHandler (Tdh). The UDP checksum is read from the process UdpChecksumAccumulator(Uca). </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01516">1516</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;{</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="preprocessor">    #pragma HLS PIPELINE II=1 enable_flush</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName  = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/TXe/&quot;</span>, <span class="stringliteral">&quot;Uha&quot;</span>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates{ UHA_IDLE=0, UHA_STREAM} uha_fsmState;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="preprocessor">    #pragma HLS RESET                     variable=uha_fsmState</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a>   uha_appDLen;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">switch</span>(uha_fsmState) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">case</span> UHA_IDLE:</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">if</span> (!siTdh_DLen.empty() and !siTdh_Meta.empty() and !siUca_Csum.empty() and</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            !soIha_UdpLen.full() and !soIha_Data.full() and !soIha_IpPair.full()) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                <span class="comment">// Read data payload length</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                siTdh_DLen.read(uha_appDLen);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                <a class="code" href="group__NAL.html#ga80600f4ef053900ef4c4d54f15ef0800">UdpLen</a>  udpLen = uha_appDLen + <a class="code" href="group__NTS.html#gac8932031ba2c6d324056a751296553ba">UDP_HEADER_LEN</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                soIha_UdpLen.write(udpLen);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                <span class="comment">// Read metadata and generate UDP header</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <a class="code" href="classUdpAppMeta.html">UdpAppMeta</a> udpAppMeta = siTdh_Meta.read();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                <a class="code" href="classAxisUdp.html">AxisUdp</a> udpHdrChunk = <a class="code" href="classAxisUdp.html">AxisUdp</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                udpHdrChunk.<a class="code" href="classAxisUdp.html#a23906117cf5bce36e3614ffa00380f19">setUdpSrcPort</a>(udpAppMeta.<a class="code" href="classUdpAppMeta.html#a6395bbcd2dd958b017e2d4ca9175b795">udpSrcPort</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                udpHdrChunk.<a class="code" href="classAxisUdp.html#a84463759fd6bbdf2ae98457acf861ca5">setUdpDstPort</a>(udpAppMeta.<a class="code" href="classUdpAppMeta.html#a2e94f35b90fdde44b11b1aeeb6a18a39">udpDstPort</a>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                udpHdrChunk.<a class="code" href="classAxisUdp.html#ad4ccb29eea315d29f13c9f59f908b596">setUdpLen</a>(udpLen);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                udpHdrChunk.<a class="code" href="classAxisUdp.html#aaed0c16becb29f6e77c06fc702f14536">setUdpCsum</a>(siUca_Csum.read());</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                soIha_Data.write(udpHdrChunk);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                <a class="code" href="classIpAddrPair.html">IpAddrPair</a> ipAddrPair = <a class="code" href="classIpAddrPair.html">IpAddrPair</a>(udpAppMeta.<a class="code" href="classUdpAppMeta.html#a925c214acf2c5b5ffbf78e94a7775f78">ip4SrcAddr</a>, udpAppMeta.<a class="code" href="classUdpAppMeta.html#ada05706a7b88ea7cd6c8be65d865d076">ip4DstAddr</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                soIha_IpPair.write(ipAddrPair);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                uha_fsmState = UHA_STREAM;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga961777f9f2ab521e6eb0767c92834ec5">TRACE_UHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;UHA_IDLE\n&quot;</span>); }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">case</span> UHA_STREAM:</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">if</span> (!siTdh_Data.empty() and !soIha_Data.full()) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <a class="code" href="classAxisRaw.html">UdpAppData</a> currAppData = siTdh_Data.read();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            <span class="keywordflow">if</span> (uha_appDLen &gt; 8) {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                uha_appDLen -= 8;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                <span class="keywordflow">if</span> (currAppData.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>() == <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Malformed - TLAST bit is set but end of Axis stream is not reached !!!\n&quot;</span>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                    <span class="comment">// [FIXME - Must go to state that drains remaining chunks]</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                    uha_fsmState = UHA_IDLE;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <span class="keywordflow">if</span> (currAppData.<a class="code" href="classAxisRaw.html#a42cd520c9b19f7c2fc6d2fc204cb30b7">getTLast</a>() != <a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Malformed - End of Axis stream is reached but TLAST bit is not set!!!\n&quot;</span>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    <span class="comment">// [FIXME - Must go to state that drains remaining chunks]</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                    currAppData.<a class="code" href="classAxisRaw.html#a1238c47d46a7d858c542f55797dfc9f2">setTLast</a>(<a class="code" href="group__NTS.html#gae90df8bbb0adc0cfb0be2a6262b77213">TLAST</a>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                uha_appDLen = 0;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                uha_fsmState = UHA_IDLE;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            soIha_Data.write(<a class="code" href="classAxisUdp.html">AxisUdp</a>(currAppData.<a class="code" href="classAxisRaw.html#a7034bcf8cf143fb2bb9bfc46e70a7d6b">getLE_TData</a>(), currAppData.<a class="code" href="classAxisRaw.html#a4becd0ad3c51e3db2749e888f2f72e31">getLE_TKeep</a>(), currAppData.<a class="code" href="classAxisRaw.html#af8208752dcbb14911c5fda27d90a0ef4">getLE_TLast</a>()));</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#ga961777f9f2ab521e6eb0767c92834ec5">TRACE_UHA</a>) { <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;UHA_STREAM\n&quot;</span>); }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
<div class="ttc" id="aclassAxisUdp_html_a23906117cf5bce36e3614ffa00380f19"><div class="ttname"><a href="classAxisUdp.html#a23906117cf5bce36e3614ffa00380f19">AxisUdp::setUdpSrcPort</a></div><div class="ttdeci">void setUdpSrcPort(UdpPort port)</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00129">AxisUdp.hpp:129</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_a84463759fd6bbdf2ae98457acf861ca5"><div class="ttname"><a href="classAxisUdp.html#a84463759fd6bbdf2ae98457acf861ca5">AxisUdp::setUdpDstPort</a></div><div class="ttdeci">void setUdpDstPort(UdpPort port)</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00134">AxisUdp.hpp:134</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_aaed0c16becb29f6e77c06fc702f14536"><div class="ttname"><a href="classAxisUdp.html#aaed0c16becb29f6e77c06fc702f14536">AxisUdp::setUdpCsum</a></div><div class="ttdeci">void setUdpCsum(UdpCsum csum)</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00144">AxisUdp.hpp:144</a></div></div>
<div class="ttc" id="aclassAxisUdp_html_ad4ccb29eea315d29f13c9f59f908b596"><div class="ttname"><a href="classAxisUdp.html#ad4ccb29eea315d29f13c9f59f908b596">AxisUdp::setUdpLen</a></div><div class="ttdeci">void setUdpLen(UdpLen length)</div><div class="ttdef"><b>Definition:</b> <a href="AxisUdp_8hpp_source.html#l00139">AxisUdp.hpp:139</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga961777f9f2ab521e6eb0767c92834ec5"><div class="ttname"><a href="group__NTS__UOE.html#ga961777f9f2ab521e6eb0767c92834ec5">TRACE_UHA</a></div><div class="ttdeci">#define TRACE_UHA</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00078">uoe.cpp:78</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gad1c2336f90888c5efb87c411af0eb26c_cgraph.svg" width="630" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_gad1c2336f90888c5efb87c411af0eb26c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga097bb0a9ace9c9535590721a8151a979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga097bb0a9ace9c9535590721a8151a979">&#9670;&nbsp;</a></span>pUdpPortTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pUdpPortTable </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_Ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siRph_PortStateReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soRph_PortStateRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_LsnReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_LsnRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_ClsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_ClsRep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UDP Port Table (Upt)</p>
<p>param[out] soMMIO_Ready Process ready signal. param[in] siRph_PortStateReq Port state request from RxPacketHandler (Rph). param[out] soRph_PortStateRep Port state reply to [Rph]. param[in] siUAIF_LsnReq Listen port request from [UAIF]. param[out] soUAIF_LsnRep Listen port reply to <a href="0=closed/1=opened">UAIF</a>. param[in] siUAIF_ClsReq Close port request from [UAIF]. param[out] soUAIF_ClsRep Close port reply to <a href="0=closed/1=opened">UAIF</a>.</p>
<p>The UDP Port Table (Upt) keeps track of the opened ports. A port is opened if its state is 'true' and closed otherwise.</p>
<dl class="section note"><dt>Note</dt><dd>: We are using a stream to signal that UOE is ready because the C/RTL co-simulation only only supports the following 'ap_ctrl_none' designs: (1) combinational designs; (2) pipelined design with task interval of 1; (3) designs with array streaming or hls_stream or AXI4 stream ports. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l00865">865</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;{</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS ------------------------------------------</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// None</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *myName = <a class="code" href="group__NTS.html#gac9ec7eb2a875bc78c26b890b1b062b01">concat3</a>(<a class="code" href="group__NTS__UOE.html#ga9a0e1b8e8ac96ab611450c49030b25d5">THIS_NAME</a>, <span class="stringliteral">&quot;/RXe/&quot;</span>, <span class="stringliteral">&quot;Upt&quot;</span>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">//-- STATIC ARRAYS --------------------------------------------------------</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a>                  PORT_TABLE[0x10000];</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">    #pragma HLS RESOURCE   variable=PORT_TABLE core=RAM_T2P_BRAM</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="preprocessor">    #pragma HLS DEPENDENCE variable=PORT_TABLE inter false</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">//-- STATIC CONTROL VARIABLES (with RESET) --------------------------------</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> FsmStates { UPT_WAIT4REQ=0, UPT_RPH_LKP, UPT_LSN_REP,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                            UPT_CLS_REP } upt_fsmState=UPT_WAIT4REQ;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor">    #pragma HLS RESET            variable=upt_fsmState</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span>                           upt_isInit=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="preprocessor">    #pragma HLS reset            variable=upt_isInit</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keyword">static</span>  <a class="code" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a>                       upt_initPtr=(0x10000-1);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">    #pragma HLS reset            variable=upt_initPtr</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">//-- STATIC DATAFLOW VARIABLES --------------------------------------------</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a> upt_portNum;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// The PORT_TABLE must be initialized upon reset</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (!upt_isInit) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        PORT_TABLE[upt_initPtr] = <a class="code" href="group__NTS.html#ga82269cc56da71559bc43afea84e939d4">STS_CLOSED</a>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">if</span> (upt_initPtr == 0) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="keywordflow">if</span> (!soMMIO_Ready.full()) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                soMMIO_Ready.write(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                upt_isInit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__NTS__UOE.html#gac2d33ccaf63f5d5b66552b95426c0137">DEBUG_LEVEL</a> &amp; <a class="code" href="group__NTS__UOE.html#gae7aa2f504bd34a4a24061e6cf92ccada">TRACE_UPT</a>) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                    <a class="code" href="group__NTS.html#gab8ca64e6d0b71ce13cc6944c9188a574">printInfo</a>(myName, <span class="stringliteral">&quot;Done with initialization of the PORT_TABLE.\n&quot;</span>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <a class="code" href="group__NTS.html#gac9109f1845435f01d51aa48a084a6274">printWarn</a>(myName, <span class="stringliteral">&quot;Cannot signal INIT_DONE because HLS stream is not empty.\n&quot;</span>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;         }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            upt_initPtr = upt_initPtr - 1;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">switch</span> (upt_fsmState) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">case</span> UPT_WAIT4REQ:</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">if</span> (!siRph_PortStateReq.empty()) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="comment">// Request to lookup the table from [RPh]</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            siRph_PortStateReq.read(upt_portNum);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            upt_fsmState = UPT_RPH_LKP;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siUAIF_LsnReq.empty()) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="comment">// Request to open a port from [UAIF]</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            siUAIF_LsnReq.read(upt_portNum);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            upt_fsmState = UPT_LSN_REP;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!siUAIF_ClsReq.empty()) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="comment">// Request to close a port from [UAIF]</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            siUAIF_ClsReq.read(upt_portNum);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            upt_fsmState = UPT_CLS_REP;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">case</span> UPT_RPH_LKP: <span class="comment">// Lookup Reply</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">if</span> (!soRph_PortStateRep.full()) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            soRph_PortStateRep.write(PORT_TABLE[upt_portNum]);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            upt_fsmState = UPT_WAIT4REQ;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">case</span> UPT_LSN_REP: <span class="comment">// Listen Reply</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> (!soUAIF_LsnRep.full()) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            PORT_TABLE[upt_portNum] = <a class="code" href="group__NTS.html#gab7cc8bdb2f146baeb57c4a5c74c84a11">STS_OPENED</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            soUAIF_LsnRep.write(<a class="code" href="group__NTS.html#gab7cc8bdb2f146baeb57c4a5c74c84a11">STS_OPENED</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            upt_fsmState = UPT_WAIT4REQ;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">case</span> UPT_CLS_REP: <span class="comment">// Close Reply</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span> (!soUAIF_ClsRep.full()) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            PORT_TABLE[upt_portNum] = <a class="code" href="group__NTS.html#ga82269cc56da71559bc43afea84e939d4">STS_CLOSED</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            soUAIF_ClsRep.write(<a class="code" href="group__NTS.html#ga82269cc56da71559bc43afea84e939d4">STS_CLOSED</a>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            upt_fsmState = UPT_WAIT4REQ;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="ttc" id="agroup__NAL_html_gacd8330fe7ccff9872c620e6c7842ff0a"><div class="ttname"><a href="group__NAL.html#gacd8330fe7ccff9872c620e6c7842ff0a">UdpPort</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; UdpPort</div><div class="ttdef"><b>Definition:</b> <a href="nal_8hpp_source.html#l00249">nal.hpp:249</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_gae7aa2f504bd34a4a24061e6cf92ccada"><div class="ttname"><a href="group__NTS__UOE.html#gae7aa2f504bd34a4a24061e6cf92ccada">TRACE_UPT</a></div><div class="ttdeci">#define TRACE_UPT</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00079">uoe.cpp:79</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga7e1552a1b8396b7e1df024b43ec179c8"><div class="ttname"><a href="group__NTS.html#ga7e1552a1b8396b7e1df024b43ec179c8">ValBool</a></div><div class="ttdeci">bool ValBool</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00131">nts_types.hpp:131</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga82269cc56da71559bc43afea84e939d4"><div class="ttname"><a href="group__NTS.html#ga82269cc56da71559bc43afea84e939d4">STS_CLOSED</a></div><div class="ttdeci">#define STS_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00082">nts_types.hpp:82</a></div></div>
<div class="ttc" id="agroup__NTS_html_gab7cc8bdb2f146baeb57c4a5c74c84a11"><div class="ttname"><a href="group__NTS.html#gab7cc8bdb2f146baeb57c4a5c74c84a11">STS_OPENED</a></div><div class="ttdeci">#define STS_OPENED</div><div class="ttdef"><b>Definition:</b> <a href="nts__types_8hpp_source.html#l00081">nts_types.hpp:81</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga097bb0a9ace9c9535590721a8151a979_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga84101607ce156850e4f7426c8be83a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84101607ce156850e4f7426c8be83a2b">&#9670;&nbsp;</a></span>uoe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uoe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_DropCnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_Ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIPRX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIp4.html">AxisIp4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIPTX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0dff57a39f41975eac31084df8252b5c">UdpAppLsnReq</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_LsnReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gae3b58ab5a3b5d1e8628a2dba9e1fd374">UdpAppLsnRep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_LsnRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga66e7659d20db4628f76f95de974fa272">UdpAppClsReq</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_ClsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0d23b2b3365185602492434abecb537c">UdpAppClsRep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_ClsRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisIcmp.html">AxisIcmp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soICMP_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main process of the UDP Offload Engine (UOE). </p>
<p>&ndash; MMIO Interface </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_DropCnt</td><td>Rx drop counter to [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_Ready</td><td>UOE ready stream to [SHELL/MMIO]. &ndash; IPRX / IP Rx / Data Interface </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siIPRX_Data</td><td>IP4 data stream from IpRxHAndler (IPRX). &ndash; IPTX / IP Tx / Data Interface </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIPTX_Data</td><td>IP4 data stream to IpTxHandler (IPTX). &ndash; UAIF / Control Port Interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_LsnReq</td><td>UDP open port request from UdpAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_LsnRep</td><td>UDP open port reply to <a href="0=closed/1=opened">UAIF</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_ClsReq</td><td>UDP close port request from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_ClsRep</td><td>UDP close port reply to <a href="0=closed/1=opened">UAIF</a>. &ndash; UAIF / Rx Data Interfaces </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Data</td><td>UDP data stream to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Meta</td><td>UDP metadata to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_DLen</td><td>UDP data length to [UAIF]. &ndash; UAIF / Tx Data Interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Data</td><td>UDP data stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Meta</td><td>UDP metadata stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_DLen</td><td>UDP data length form [UAIF]. &ndash; ICMP / Message Data Interface </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soICMP_Data</td><td>Data stream to [ICMP]. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l01838">1838</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;{</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS -------------------------------------------</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="preprocessor">    #pragma HLS INLINE</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE ap_ctrl_none port=return</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="preprocessor">  #if HLS_VERSION == 2017</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="preprocessor">    #pragma HLS DATAFLOW</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="preprocessor">  #else</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="preprocessor">    #pragma HLS DATAFLOW disable_start_propagation</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="preprocessor">  #endif</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="comment">//-- PROCESS FUNCTIONS -----------------------------------------------------</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga0f2f0d19a54d57f63fe33700654988f8">pRxEngine</a>(</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            piMMIO_En,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            soMMIO_Ready,</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            siIPRX_Data,</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            siUAIF_LsnReq,</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            soUAIF_LsnRep,</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            siUAIF_ClsReq,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            soUAIF_ClsRep,</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            soUAIF_Data,</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            soUAIF_Meta,</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            soUAIF_DLen,</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            soICMP_Data,</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            soMMIO_DropCnt);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga857a71b260dfd52bf76ffdcd4260aeae">pTxEngine</a>(</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            piMMIO_En,</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            siUAIF_Data,</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            siUAIF_Meta,</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            siUAIF_DLen,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            soIPTX_Data);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;}</div>
<div class="ttc" id="agroup__NTS__UOE_html_ga0f2f0d19a54d57f63fe33700654988f8"><div class="ttname"><a href="group__NTS__UOE.html#ga0f2f0d19a54d57f63fe33700654988f8">pRxEngine</a></div><div class="ttdeci">void pRxEngine(CmdBit piMMIO_En, stream&lt; StsBool &gt; &amp;soMMIO_Ready, stream&lt; AxisIp4 &gt; &amp;siIPRX_Data, stream&lt; UdpPort &gt; &amp;siUAIF_LsnReq, stream&lt; StsBool &gt; &amp;soUAIF_LsnRep, stream&lt; UdpPort &gt; &amp;siUAIF_ClsReq, stream&lt; StsBool &gt; &amp;soUAIF_ClsRep, stream&lt; UdpAppData &gt; &amp;soUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;soUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;soUAIF_DLen, stream&lt; AxisIcmp &gt; &amp;soICMP_Data, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l00982">uoe.cpp:982</a></div></div>
<div class="ttc" id="agroup__NTS__UOE_html_ga857a71b260dfd52bf76ffdcd4260aeae"><div class="ttname"><a href="group__NTS__UOE.html#ga857a71b260dfd52bf76ffdcd4260aeae">pTxEngine</a></div><div class="ttdeci">void pTxEngine(CmdBit piMMIO_En, stream&lt; UdpAppData &gt; &amp;siUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;siUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;siUAIF_DLen, stream&lt; AxisIp4 &gt; &amp;soIPTX_Data)</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01718">uoe.cpp:1718</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga84101607ce156850e4f7426c8be83a2b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga84101607ce156850e4f7426c8be83a2b_icgraph.svg" width="444" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga5d9bd6d46b41ba8787888e1e6bfb0d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d9bd6d46b41ba8787888e1e6bfb0d41">&#9670;&nbsp;</a></span>uoe_top()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uoe_top </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__NTS.html#gac611acc7cf74d4dd50a5fd13e4fd257c">CmdBit</a>&#160;</td>
          <td class="paramname"><em>piMMIO_En</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_DropCnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga63242570ce6e7972e93b00ebe42d6c65">StsBool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soMMIO_Ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siIPRX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soIPTX_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0dff57a39f41975eac31084df8252b5c">UdpAppLsnReq</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_LsnReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gae3b58ab5a3b5d1e8628a2dba9e1fd374">UdpAppLsnRep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_LsnRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga66e7659d20db4628f76f95de974fa272">UdpAppClsReq</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_ClsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#ga0d23b2b3365185602492434abecb537c">UdpAppClsRep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_ClsRep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NTS.html#gadaf5bb7e7b7799d2eced242358e44e45">UdpAppData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classUdpAppMeta.html">UdpAppMeta</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_Meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="group__NAL.html#ga0fd08995a15aa8bf81550ef69e0c23d7">UdpAppDLen</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>siUAIF_DLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="classAxisRaw.html">AxisRaw</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>soICMP_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Top of UDP Offload Engine (UOE) </p>
<p>&ndash; MMIO Interface </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">piMMIO_En</td><td>Enable signal from [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_DropCnt</td><td>Rx drop counter to [SHELL/MMIO]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soMMIO_Ready</td><td>UOE ready stream to [SHELL/MMIO]. &ndash; IPRX / IP Rx / Data Interface </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siIPRX_Data</td><td>IP4 data stream from IpRxHAndler (IPRX). &ndash; IPTX / IP Tx / Data Interface </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soIPTX_Data</td><td>IP4 data stream to IpTxHandler (IPTX). &ndash; UAIF / Control Port Interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_LsnReq</td><td>UDP open port request from UdpAppInterface (UAIF). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_LsnRep</td><td>UDP open port reply to <a href="0=closed/1=opened">UAIF</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_ClsReq</td><td>UDP close port request from [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_ClsRep</td><td>UDP close port reply to <a href="0=closed/1=opened">UAIF</a>. &ndash; UAIF / Rx Data Interfaces </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Data</td><td>UDP data stream to [UAIF]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soUAIF_Meta</td><td>UDP metadata stream to [UAIF]. &ndash; UAIF / Tx Data Interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Data</td><td>UDP data stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_Meta</td><td>UDP metadata stream from [UAIF]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">siUAIF_DLen</td><td>UDP data length form [UAIF]. &ndash; ICMP / Message Data Interface </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">soICMP_Data</td><td>Data stream to [ICMP].</td></tr>
  </table>
  </dd>
</dl>
<p>ENTITY - UDP OFFLOAD ENGINE (UOE) </p>

<p class="definition">Definition at line <a class="el" href="uoe_8cpp_source.html#l02042">2042</a> of file <a class="el" href="uoe_8cpp_source.html">uoe.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;{</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THE INTERFACES -----------------------------------------</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE ap_ctrl_none port=return</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE ap_stable             port=piMMIO_En         name=piMMIO_En</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis register both    port=soMMIO_DropCnt    name=soMMIO_DropCnt</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis register both    port=soMMIO_Ready      name=soMMIO_Ready</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siIPRX_Data       name=siIPRX_Data</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis register both    port=soIPTX_Data       name=soIPTX_Data</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siUAIF_LsnReq     name=siUAIF_LsnReq</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=soUAIF_LsnRep     name=soUAIF_LsnRep</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siUAIF_ClsReq     name=siUAIF_ClsReq</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=soUAIF_ClsRep     name=soUAIF_ClsRep</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=soUAIF_Data       name=soUAIF_Data</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=soUAIF_Meta       name=soUAIF_Meta</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK                   variable=soUAIF_Meta   instance=soUAIF_Meta</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=soUAIF_DLen       name=soUAIF_DLen</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siUAIF_Data       name=siUAIF_Data</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siUAIF_Meta       name=siUAIF_Meta</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK                   variable=siUAIF_Meta   instance=siUAIF_Meta</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis off              port=siUAIF_DLen       name=siUAIF_DLen</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE axis register both    port=soICMP_Data       name=soICMP_Data</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="comment">//-- DIRECTIVES FOR THIS PROCESS -------------------------------------------</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="preprocessor">    #pragma HLS DATAFLOW disable_start_propagation</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="comment">//-- LOCAL INPUT and OUTPUT STREAMS ----------------------------------------</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keyword">static</span> stream&lt;AxisIp4&gt;            ssiIPRX_Data;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="preprocessor">    #pragma HLS STREAM       variable=ssiIPRX_Data  depth=32</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keyword">static</span> stream&lt;AxisIp4&gt;            ssoIPTX_Data;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keyword">static</span> stream&lt;AxisIcmp&gt;           ssoICMP_Data;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="comment">//-- INPUT STREAM CASTING --------------------------------------------------</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <a class="code" href="group__NTS.html#ga74e23a2961eb9096ea37ab7c06d3fa7e">pAxisRawCast</a>(siIPRX_Data, ssiIPRX_Data);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="comment">//-- MAIN IPRX PROCESS -----------------------------------------------------</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <a class="code" href="group__NTS__UOE.html#ga84101607ce156850e4f7426c8be83a2b">uoe</a>(</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="comment">//-- MMIO Interface</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        piMMIO_En,</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        soMMIO_DropCnt,</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        soMMIO_Ready,</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="comment">//-- IPRX / IP Rx / Data Interface</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        ssiIPRX_Data,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="comment">//-- IPTX / IP Tx / Data Interface</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        ssoIPTX_Data,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="comment">//-- UAIF / Control Port Interfaces</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        siUAIF_LsnReq,</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        soUAIF_LsnRep,</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        siUAIF_ClsReq,</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        soUAIF_ClsRep,</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <span class="comment">//-- UAIF / Rx Data Interfaces</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        soUAIF_Data,</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        soUAIF_Meta,</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        soUAIF_DLen,</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="comment">//-- UAIF / Tx Data Interfaces</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        siUAIF_Data,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        siUAIF_Meta,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        siUAIF_DLen,</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        <span class="comment">//-- ICMP / Message Data Interface (Port Unreachable)</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        ssoICMP_Data);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="comment">//-- OUTPUT STREAM CASTING ----------------------------</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="group__NTS.html#ga74e23a2961eb9096ea37ab7c06d3fa7e">pAxisRawCast</a>(ssoIPTX_Data, soIPTX_Data);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="group__NTS.html#ga74e23a2961eb9096ea37ab7c06d3fa7e">pAxisRawCast</a>(ssoICMP_Data, soICMP_Data);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
<div class="ttc" id="agroup__NTS__UOE_html_ga84101607ce156850e4f7426c8be83a2b"><div class="ttname"><a href="group__NTS__UOE.html#ga84101607ce156850e4f7426c8be83a2b">uoe</a></div><div class="ttdeci">void uoe(CmdBit piMMIO_En, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;soMMIO_DropCnt, stream&lt; StsBool &gt; &amp;soMMIO_Ready, stream&lt; AxisIp4 &gt; &amp;siIPRX_Data, stream&lt; AxisIp4 &gt; &amp;soIPTX_Data, stream&lt; UdpAppLsnReq &gt; &amp;siUAIF_LsnReq, stream&lt; UdpAppLsnRep &gt; &amp;soUAIF_LsnRep, stream&lt; UdpAppClsReq &gt; &amp;siUAIF_ClsReq, stream&lt; UdpAppClsRep &gt; &amp;soUAIF_ClsRep, stream&lt; UdpAppData &gt; &amp;soUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;soUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;soUAIF_DLen, stream&lt; UdpAppData &gt; &amp;siUAIF_Data, stream&lt; UdpAppMeta &gt; &amp;siUAIF_Meta, stream&lt; UdpAppDLen &gt; &amp;siUAIF_DLen, stream&lt; AxisIcmp &gt; &amp;soICMP_Data)</div><div class="ttdoc">Main process of the UDP Offload Engine (UOE).</div><div class="ttdef"><b>Definition:</b> <a href="uoe_8cpp_source.html#l01838">uoe.cpp:1838</a></div></div>
<div class="ttc" id="agroup__NTS_html_ga74e23a2961eb9096ea37ab7c06d3fa7e"><div class="ttname"><a href="group__NTS.html#ga74e23a2961eb9096ea37ab7c06d3fa7e">pAxisRawCast</a></div><div class="ttdeci">void pAxisRawCast(hls::stream&lt; TypeIn &gt; &amp;si, hls::stream&lt; TypeOut &gt; &amp;so)</div><div class="ttdoc">AxisRaw cast - Casts an AxisRaw stream to/from an AxisRaw derived class.</div><div class="ttdef"><b>Definition:</b> <a href="AxisRaw_8hpp_source.html#l00148">AxisRaw.hpp:148</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga5d9bd6d46b41ba8787888e1e6bfb0d41_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__NTS__UOE_ga5d9bd6d46b41ba8787888e1e6bfb0d41_icgraph.svg" width="350" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gadc674db807afc5e93dd4a450dce554e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc674db807afc5e93dd4a450dce554e5">&#9670;&nbsp;</a></span>cIp4RxHdrsFifoSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int cIp4RxHdrsFifoSize = (<a class="el" href="group__NTS__UOE.html#ga8e5c95e7c1583d0b4a6556e24c363598">cUdpRxHdrsFifoSize</a> * 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00085">85</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<a id="ga5b49eda18d665dcb8e1bac8fee3a8c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b49eda18d665dcb8e1bac8fee3a8c5c">&#9670;&nbsp;</a></span>cMtuSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int cMtuSize = (2*<a class="el" href="group__udp__app__flash.html#ga0ff29830fde482fdf175988774b78edb">MTU</a>)/( 64 /8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00086">86</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<a id="gab658e75942d9f9687ba95b6fd1211ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab658e75942d9f9687ba95b6fd1211ddd">&#9670;&nbsp;</a></span>cUdpRxDataFifoSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int cUdpRxDataFifoSize = ( 16*1024 )/( 64 /8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00083">83</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<a id="ga8e5c95e7c1583d0b4a6556e24c363598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e5c95e7c1583d0b4a6556e24c363598">&#9670;&nbsp;</a></span>cUdpRxHdrsFifoSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int cUdpRxHdrsFifoSize = ( 64 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uoe_8hpp_source.html#l00084">84</a> of file <a class="el" href="uoe_8hpp_source.html">uoe.hpp</a>.</p>

</div>
</div>
<a id="ga95138d2e51410ff3253d2da113f9c7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95138d2e51410ff3253d2da113f9c7bc">&#9670;&nbsp;</a></span>gTraceEvent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool gTraceEvent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>HELPERS FOR THE DEBUGGING TRACES .e.g: DEBUG_LEVEL = (TRACE_MPd | TRACE_IBUF)</p>
<p>HELPERS FOR THE DEBUGGING TRACES .e.g: DEBUG_LEVEL = (MDL_TRACE | IPS_TRACE) </p>

<p class="definition">Definition at line <a class="el" href="tb__nal_8cpp_source.html#l00151">151</a> of file <a class="el" href="tb__nal_8cpp_source.html">tb_nal.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jul 15 2023 05:03:03 for cloudFPGA (cF) API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
    <!-- add the button to toggle the theme -->
    <script>
    $(document).ready(function(){
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    </script>
</html>
