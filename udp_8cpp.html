<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- import the script somewhere in the head -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cloudFPGA (cF) API: repos_for_Dox/cFDK/SRA/LIB/SHELL/LIB/hls/NTS/legacy/udp/src/udp.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cloudFPGA (cF) API
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The documentation of the source code of cloudFPGA (cF)</div>
  </td>
   <td style="padding-left: 0.5em;">
   <div id="projectbrief"><a href="https://cloudfpga.github.io/Doc">Return to the generic documentation of cloudFPGA</a></div>
   </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('udp_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">udp.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>: UDP offload engine.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="udp_8hpp_source.html">udp.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for udp.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="udp_8cpp__incl.svg" width="100%" height="462"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="udp_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afb4faa2f5ae27150b75af5149b1c53c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#afb4faa2f5ae27150b75af5149b1c53c7">packetSize</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:afb4faa2f5ae27150b75af5149b1c53c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae97a3ce458f62004e3eef7684e184a89"><td class="memItemLeft" align="right" valign="top">ap_uint&lt; 4 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ae97a3ce458f62004e3eef7684e184a89">countBits</a> (ap_uint&lt; 8 &gt; bitVector)</td></tr>
<tr class="separator:ae97a3ce458f62004e3eef7684e184a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c278490239ecbc4f19385ab40778673"><td class="memItemLeft" align="right" valign="top">ap_uint&lt; 8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#a9c278490239ecbc4f19385ab40778673">length2keep_mapping</a> (ap_uint&lt; 4 &gt; lengthValue)</td></tr>
<tr class="separator:a9c278490239ecbc4f19385ab40778673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2355e0cecd0576470bca0178c4c1aec2"><td class="memItemLeft" align="right" valign="top">ap_uint&lt; 32 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a> (ap_uint&lt; 32 &gt; inputVector)</td></tr>
<tr class="separator:ga2355e0cecd0576470bca0178c4c1aec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3179abf5c515026aad3e82047a1dd9a3"><td class="memItemLeft" align="right" valign="top">ap_uint&lt; 16 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a> (ap_uint&lt; 16 &gt; inputVector)</td></tr>
<tr class="separator:ga3179abf5c515026aad3e82047a1dd9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbef87d4c0a22a84d59c0d40997e92b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a> (stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;rxEng2portTable_check_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_rel, stream&lt; bool &gt; &amp;portTable2app_port_assign, stream&lt; bool &gt; &amp;portTable2rxEng_check_rsp)</td></tr>
<tr class="separator:afdbef87d4c0a22a84d59c0d40997e92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d746a44b78299bf262dcc5ed518c74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ae9d746a44b78299bf262dcc5ed518c74">inputPathRxEngine</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathInputData, stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;incomingIPaddresses, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathIPheader, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;rxEng2portTable_check_req, stream&lt; bool &gt; &amp;portTable2rxEng_assign, stream&lt; bool &gt; &amp;rxChecksum2rxEngine, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathOutputData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;inputPathOutputMetadata, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathPortUnreachable)</td></tr>
<tr class="separator:ae9d746a44b78299bf262dcc5ed518c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4c08d9aba53de32255cb80e946b26a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#a9b4c08d9aba53de32255cb80e946b26a">stripIpHeader</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathInData, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;strip2inputPath_data, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;strip2inputPath_IpHeader, stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;strip2inputPath_IP, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;strip2rxChecksum)</td></tr>
<tr class="separator:a9b4c08d9aba53de32255cb80e946b26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab457e4a99df4a06683f999114457ec19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ab457e4a99df4a06683f999114457ec19">rxEngineUdpChecksumVerification</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;dataIn, stream&lt; bool &gt; &amp;udpChecksumOut)</td></tr>
<tr class="separator:ab457e4a99df4a06683f999114457ec19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50055eb4ca1f517dcf735489825fdd37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#a50055eb4ca1f517dcf735489825fdd37">rxEngine</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathInData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_rel, stream&lt; bool &gt; &amp;portTable2app_port_assign, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathOutData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;inputPathOutputMetadata, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathPortUnreachable)</td></tr>
<tr class="separator:a50055eb4ca1f517dcf735489825fdd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0161cf9540ca39a6468a0c32b019d8cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#a0161cf9540ca39a6468a0c32b019d8cc">outputPathWriteFunction</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathInData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;outputPathInMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputpathInLength, stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;packetData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;packetLength, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;udpMetadata, stream&lt; <a class="el" href="structioWord.html">ioWord</a> &gt; &amp;outputPathWriteFunction2checksumCalculation)</td></tr>
<tr class="separator:a0161cf9540ca39a6468a0c32b019d8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71a22562058aed9321d24a59b5ebff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ad71a22562058aed9321d24a59b5ebff8">udpChecksumCalculation</a> (stream&lt; <a class="el" href="structioWord.html">ioWord</a> &gt; &amp;dataIn, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;udpChecksumOut)</td></tr>
<tr class="separator:ad71a22562058aed9321d24a59b5ebff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9534443c048247ba677ee69e19efca9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ac9534443c048247ba677ee69e19efca9">outputPathReadFunction</a> (stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;packetData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;packetLength, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;udpMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;udpChecksum, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathOutData, stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;outIPaddresses, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputPathReadFunction2addIpHeader_length)</td></tr>
<tr class="separator:ac9534443c048247ba677ee69e19efca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81785bdba700074bf8a87c69cd60cc82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#a81785bdba700074bf8a87c69cd60cc82">addIpHeader</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathRead2addIpHeader_data, stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;outputPathRead2addIpHeader_ipAddress, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathOutData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputPathReadFunction2addIpHeader_length)</td></tr>
<tr class="separator:a81785bdba700074bf8a87c69cd60cc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52d8919cd270177a9b1fa89607abae7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#ab52d8919cd270177a9b1fa89607abae7">txEngine</a> (stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathInData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;outputPathInMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputpathInLength, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathOutData)</td></tr>
<tr class="separator:ab52d8919cd270177a9b1fa89607abae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf22a8b8213aa04e7082893eeadbc166"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="udp_8cpp.html#acf22a8b8213aa04e7082893eeadbc166">udp</a> (stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;openPort, stream&lt; bool &gt; &amp;confirmPortStatus, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathInData, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputpathOutData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;inputPathOutputMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;portRelease, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathInData, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;outputPathOutData, stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;outputPathInMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputpathInLength, stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;inputPathPortUnreachable)</td></tr>
<tr class="separator:acf22a8b8213aa04e7082893eeadbc166"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>: UDP offload engine. </p>
<p>Copyright 2016 &ndash; 2021 IBM Corporation</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Copyright (c) 2015, Xilinx, Inc.</p>
<p>All rights reserved. Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</li>
</ol>
<p>System: : cloudFPGA Component : Shell, Network Transport Stack (NTS) Language : Vivado HLS</p>
<p>: This process implements the original UDP core engine. It is not used by the cloudFPGA system and was replaced by the UDP Offload Engine (UOE). </p>

<p class="definition">Definition in file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afb4faa2f5ae27150b75af5149b1c53c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4faa2f5ae27150b75af5149b1c53c7">&#9670;&nbsp;</a></span>packetSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define packetSize&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00058">58</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a81785bdba700074bf8a87c69cd60cc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81785bdba700074bf8a87c69cd60cc82">&#9670;&nbsp;</a></span>addIpHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addIpHeader </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathRead2addIpHeader_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathRead2addIpHeader_ipAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathOutData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathReadFunction2addIpHeader_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00681">681</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                                                                                                                      {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> iState {IPH_IDLE, IPH_IP1, IPH_IP2, IPH_FORWARD, IPH_RESIDUE} iphState;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keyword">static</span> <a class="code" href="structipTuple.html">ipTuple</a> ipHeaderTuple = <a class="code" href="structipTuple.html">ipTuple</a>(0, 0);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">static</span> <a class="code" href="structaxiWord.html">axiWord</a> outputWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 0);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">switch</span>(iphState) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">case</span> IPH_IDLE:</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>(!outputPathRead2addIpHeader_data.empty() &amp;&amp; !outputPathRead2addIpHeader_ipAddress.empty() &amp;&amp;!outputPathReadFunction2addIpHeader_length.empty() &amp;&amp; !outputPathOutData.full()) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            ap_uint&lt;16&gt; tempLength = outputPathReadFunction2addIpHeader_length.read();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            tempLength += 20;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord = <a class="code" href="structaxiWord.html">axiWord</a>(0x0000000034000045, 0xFF, 0);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16) = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(tempLength);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="comment">//tempWord.data.range(31, 16) = (tempLength.range(7, 0), tempLength.range(15, 0));</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            outputPathOutData.write(tempWord);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            iphState = IPH_IP1;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">case</span> IPH_IP1:</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">if</span>(!outputPathRead2addIpHeader_data.empty() &amp;&amp; !outputPathRead2addIpHeader_ipAddress.empty() &amp;&amp; !outputPathOutData.full()) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord = <a class="code" href="structaxiWord.html">axiWord</a>(0x0, 0xFF, 0);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            ipHeaderTuple = outputPathRead2addIpHeader_ipAddress.read();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0) = 0x000011FF;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(ipHeaderTuple.<a class="code" href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">sourceIP</a>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            outputPathOutData.write(tempWord);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            iphState = IPH_IP2;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">case</span> IPH_IP2:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">if</span>(!outputPathRead2addIpHeader_data.empty() &amp;&amp; !outputPathOutData.full()) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord = <a class="code" href="structaxiWord.html">axiWord</a>(0x0, 0xFF, 0);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            outputWord = outputPathRead2addIpHeader_data.read();</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0) = <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(ipHeaderTuple.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            outputPathOutData.write(tempWord);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            iphState = IPH_FORWARD;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">case</span> IPH_FORWARD:</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span>(!outputPathRead2addIpHeader_data.empty() &amp;&amp; !outputPathOutData.full()) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord            = <a class="code" href="structaxiWord.html">axiWord</a>(0x0, 0x0F, 0);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0)  = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            outputWord                  = outputPathRead2addIpHeader_data.read();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">if</span>(outputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a>) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) != 0) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) = 0xF;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    iphState = IPH_RESIDUE;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) = outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                    tempWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> = 1;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    iphState = IPH_IDLE;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) = 0xF;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            outputPathOutData.write(tempWord);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">case</span> IPH_RESIDUE:</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordflow">if</span> (!outputPathOutData.full()) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> tempWord            = <a class="code" href="structaxiWord.html">axiWord</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32), outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4), 1);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                outputPathOutData.write(tempWord);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                iphState = IPH_IDLE;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
<div class="ttc" id="astructaxiWord_html"><div class="ttname"><a href="structaxiWord.html">axiWord</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__ip_8hpp_source.html#l00038">tcp_ip.hpp:39</a></div></div>
<div class="ttc" id="astructaxiWord_html_a0bb32bd44428fcd9c40661461e555468"><div class="ttname"><a href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">axiWord::keep</a></div><div class="ttdeci">ap_uint&lt; 8 &gt; keep</div><div class="ttdef"><b>Definition:</b> <a href="tcp__ip_8hpp_source.html#l00041">tcp_ip.hpp:41</a></div></div>
<div class="ttc" id="astructaxiWord_html_a128adbb23d71244349ec78253adf8732"><div class="ttname"><a href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">axiWord::data</a></div><div class="ttdeci">ap_uint&lt; 64 &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="tcp__ip_8hpp_source.html#l00040">tcp_ip.hpp:40</a></div></div>
<div class="ttc" id="astructaxiWord_html_ad2f0b5a1f80b7e39238490c7ab9e4b73"><div class="ttname"><a href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">axiWord::last</a></div><div class="ttdeci">ap_uint&lt; 1 &gt; last</div><div class="ttdef"><b>Definition:</b> <a href="tcp__ip_8hpp_source.html#l00042">tcp_ip.hpp:42</a></div></div>
<div class="ttc" id="astructipTuple_html"><div class="ttname"><a href="structipTuple.html">ipTuple</a></div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00091">udp.hpp:91</a></div></div>
<div class="ttc" id="astructipTuple_html_a2badda3013481eb44345d52dc346d7ed"><div class="ttname"><a href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">ipTuple::sourceIP</a></div><div class="ttdeci">ap_uint&lt; 32 &gt; sourceIP</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00092">udp.hpp:92</a></div></div>
<div class="ttc" id="astructipTuple_html_addc660f798accfa7184014e067360384"><div class="ttname"><a href="structipTuple.html#addc660f798accfa7184014e067360384">ipTuple::destinationIP</a></div><div class="ttdeci">ap_uint&lt; 32 &gt; destinationIP</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00093">udp.hpp:93</a></div></div>
<div class="ttc" id="audp_8cpp_html_ga2355e0cecd0576470bca0178c4c1aec2"><div class="ttname"><a href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a></div><div class="ttdeci">ap_uint&lt; 32 &gt; byteSwap32(ap_uint&lt; 32 &gt; inputVector)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00078">udp.cpp:78</a></div></div>
<div class="ttc" id="audp_8cpp_html_ga3179abf5c515026aad3e82047a1dd9a3"><div class="ttname"><a href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; byteSwap16(ap_uint&lt; 16 &gt; inputVector)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00082">udp.cpp:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a81785bdba700074bf8a87c69cd60cc82_cgraph.svg" width="267" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a81785bdba700074bf8a87c69cd60cc82_icgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga3179abf5c515026aad3e82047a1dd9a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3179abf5c515026aad3e82047a1dd9a3">&#9670;&nbsp;</a></span>byteSwap16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ap_uint&lt; 16 &gt; byteSwap16 </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 16 &gt;&#160;</td>
          <td class="paramname"><em>inputVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00082">82</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> (inputVector.range(7,0), inputVector(15, 8));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ga3179abf5c515026aad3e82047a1dd9a3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ga2355e0cecd0576470bca0178c4c1aec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2355e0cecd0576470bca0178c4c1aec2">&#9670;&nbsp;</a></span>byteSwap32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ap_uint&lt; 32 &gt; byteSwap32 </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 32 &gt;&#160;</td>
          <td class="paramname"><em>inputVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00078">78</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> (inputVector.range(7,0), inputVector(15, 8), inputVector(23, 16), inputVector(31, 24));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ga2355e0cecd0576470bca0178c4c1aec2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae97a3ce458f62004e3eef7684e184a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97a3ce458f62004e3eef7684e184a89">&#9670;&nbsp;</a></span>countBits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ap_uint&lt;4&gt; countBits </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 8 &gt;&#160;</td>
          <td class="paramname"><em>bitVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00060">60</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                           {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    ap_uint&lt;4&gt; bitCounter = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0;i&lt;8;++i) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (bitVector.bit(i) == 1)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            bitCounter++;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> bitCounter;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ae97a3ce458f62004e3eef7684e184a89_icgraph.svg" width="474" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae9d746a44b78299bf262dcc5ed518c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d746a44b78299bf262dcc5ed518c74">&#9670;&nbsp;</a></span>inputPathRxEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inputPathRxEngine </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathInputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>incomingIPaddresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathIPheader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>rxEng2portTable_check_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>portTable2rxEng_assign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>rxChecksum2rxEngine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathOutputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathOutputMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathPortUnreachable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To here/////</p>

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00117">117</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                                                                                             {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> iState{IP_IDLE = 0, IP_WAIT, IP_STREAMFIRST, IP_STREAMIP, IP_STREAMREST, IP_DROP, IP_PORT_UNREACHABLE_IP_FIRST, IP_PORT_UNREACHABLE_IP, IP_PORT_UNREACHABLE_UDP, IP_PORT_UNREACHABLE_RESIDUE, IP_DRAIN} inputPathState;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">static</span> <a class="code" href="structmetadata.html">metadata</a>     rxPathMetadata      = <a class="code" href="structmetadata.html">metadata</a>(<a class="code" href="structsockaddr__in.html">sockaddr_in</a>(0, 0), <a class="code" href="structsockaddr__in.html">sockaddr_in</a>(0, 0));</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">static</span> <a class="code" href="structaxiWord.html">axiWord</a>      bufferWord          = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 0); </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">static</span> <a class="code" href="structaxiWord.html">axiWord</a>      ipHdrWord           = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 0);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">static</span> ap_uint&lt;4&gt;   rxEngIpHdrWordCount = 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">static</span> ap_uint&lt;1&gt;   rxEngNoPayloadFlag  = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">switch</span>(inputPathState) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">case</span> IP_IDLE:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty() &amp;&amp; !incomingIPaddresses.empty()  &amp;&amp; !inputPathIPheader.empty() &amp;&amp; !rxEng2portTable_check_req.full()) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="structipTuple.html">ipTuple</a> ipAddressBuffer = incomingIPaddresses.read();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="comment">//axiWord inputWord = {0, 0xFF, 0};</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            ipHdrWord           = inputPathIPheader.read();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            rxEngIpHdrWordCount = ipHdrWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(3,0) - 2;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            bufferWord = inputPathInputData.read();                     <span class="comment">// Assumes that the input stream is byte-aligned and has been stripped from the IP header. Hence the first word will be the IDP header</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            (<a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(47, 32)) &gt; 8) ? rxEngNoPayloadFlag = 0 : rxEngNoPayloadFlag = 1;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            rxEng2portTable_check_req.write(<a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16)));     <span class="comment">// Send the port state query to the port table</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            rxPathMetadata  = <a class="code" href="structmetadata.html">metadata</a>(<a class="code" href="structsockaddr__in.html">sockaddr_in</a>(<a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(15, 0)), ipAddressBuffer.<a class="code" href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">sourceIP</a>), <a class="code" href="structsockaddr__in.html">sockaddr_in</a>(<a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16)), ipAddressBuffer.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a>));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            inputPathState  = IP_WAIT;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">case</span> IP_WAIT:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (!portTable2rxEng_assign.empty() &amp;&amp; !rxChecksum2rxEngine.empty()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordtype">bool</span> checksumResult = rxChecksum2rxEngine.read();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordtype">bool</span> portResult     = portTable2rxEng_assign.read();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">if</span>(portResult &amp;&amp; checksumResult &amp;&amp; rxEngNoPayloadFlag == 0)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                inputPathState = IP_STREAMFIRST;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!checksumResult || rxEngNoPayloadFlag == 1)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                inputPathState = IP_DROP;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                inputPathState = IP_PORT_UNREACHABLE_IP_FIRST;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">case</span> IP_STREAMFIRST:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty() &amp;&amp; !inputPathOutputData.full() &amp;&amp; !inputPathOutputMetadata.full()) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathInputData.read();  </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            inputPathOutputData.write(inputWord);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            inputPathOutputMetadata.write(rxPathMetadata);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                inputPathState = IP_DRAIN;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                inputPathState = IP_STREAMIP;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">case</span> IP_STREAMIP:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty() &amp;&amp; !inputPathIPheader.empty() &amp;&amp; !inputPathOutputData.full() &amp;&amp; !inputPathOutputMetadata.full()) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathInputData.read();  </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            inputPathIPheader.read();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            inputPathOutputData.write(inputWord);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="keywordflow">if</span> (rxEngIpHdrWordCount &lt;= 2)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    inputPathState = IP_DRAIN;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">if</span> (rxEngIpHdrWordCount &lt;= 2)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    inputPathState = IP_STREAMREST;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            rxEngIpHdrWordCount -= 2;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">case</span> IP_STREAMREST:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty() &amp;&amp; !inputPathOutputData.full()) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathInputData.read();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            inputPathOutputData.write(inputWord);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">case</span> IP_DROP:</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty()) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathInputData.read();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span> (rxEngIpHdrWordCount &gt; 0) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                inputPathIPheader.read();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                rxEngIpHdrWordCount &gt; 2 ? rxEngIpHdrWordCount -= 2 : rxEngIpHdrWordCount = 0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">if</span> (rxEngIpHdrWordCount == 0 )</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    inputPathState = IP_DRAIN;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">case</span> IP_PORT_UNREACHABLE_IP_FIRST:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (!inputPathPortUnreachable.full()) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            inputPathPortUnreachable.write(ipHdrWord);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            inputPathState = IP_PORT_UNREACHABLE_IP;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">case</span> IP_PORT_UNREACHABLE_IP:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">if</span> (!inputPathIPheader.empty() &amp;&amp; !inputPathPortUnreachable.full()) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathIPheader.read();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                inputWord = <a class="code" href="structaxiWord.html">axiWord</a>(inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>, 0xFF, 0);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                inputPathState = IP_PORT_UNREACHABLE_UDP;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            inputPathPortUnreachable.write(inputWord);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }   </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">case</span> IP_PORT_UNREACHABLE_UDP:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (!inputPathInputData.empty() &amp;&amp; !inputPathPortUnreachable.full()) { </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> inputWord = inputPathInputData.read();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a> = (inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0), bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) == 0x0) {    <span class="comment">// If there&#39;s no residue</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    bufferWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) = inputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    bufferWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> = 1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    bufferWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    inputPathState  = IP_PORT_UNREACHABLE_RESIDUE;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                inputPathPortUnreachable.write(bufferWord);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                inputPathPortUnreachable.write(bufferWord);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>  = inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">case</span> IP_PORT_UNREACHABLE_RESIDUE:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span> (!inputPathPortUnreachable.full()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            bufferWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 1);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0)    = bufferWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            bufferWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0)     = bufferWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            inputPathPortUnreachable.write(bufferWord);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">case</span> IP_DRAIN:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> (!inputPathIPheader.empty()) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            inputPathIPheader.read();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">if</span> (rxEngIpHdrWordCount &gt; 2)    </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                rxEngIpHdrWordCount -= 2;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                inputPathState = IP_IDLE;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="astructmetadata_html"><div class="ttname"><a href="structmetadata.html">metadata</a></div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00083">udp.hpp:83</a></div></div>
<div class="ttc" id="astructsockaddr__in_html"><div class="ttname"><a href="structsockaddr__in.html">sockaddr_in</a></div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00075">udp.hpp:75</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ae9d746a44b78299bf262dcc5ed518c74_cgraph.svg" width="306" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ae9d746a44b78299bf262dcc5ed518c74_icgraph.svg" width="376" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9c278490239ecbc4f19385ab40778673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c278490239ecbc4f19385ab40778673">&#9670;&nbsp;</a></span>length2keep_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ap_uint&lt;8&gt; length2keep_mapping </td>
          <td>(</td>
          <td class="paramtype">ap_uint&lt; 4 &gt;&#160;</td>
          <td class="paramname"><em>lengthValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00069">69</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                       {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ap_uint&lt;8&gt; keep = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0;i&lt;8;++i) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (i &lt; lengthValue)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            keep.bit(i) = 1;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> keep;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a9c278490239ecbc4f19385ab40778673_icgraph.svg" width="627" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac9534443c048247ba677ee69e19efca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9534443c048247ba677ee69e19efca9">&#9670;&nbsp;</a></span>outputPathReadFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void outputPathReadFunction </td>
          <td>(</td>
          <td class="paramtype">stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>packetData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>packetLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>udpMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>udpChecksum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathOutData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outIPaddresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathReadFunction2addIpHeader_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00629">629</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                                                                                                                                                                  {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> oprfState{OR_IDLE = 0, OR_STREAM} outputPathReadFunctionState;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keyword">static</span> ap_uint&lt;16&gt; readFunctionOutputPathPacketLength;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keyword">static</span> uint32_t myPacketCounter = 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">switch</span>(outputPathReadFunctionState) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">case</span> OR_IDLE:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">if</span> (!packetLength.empty() &amp;&amp; !udpMetadata.empty() &amp;&amp; !udpChecksum.empty() ) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="comment">//std::cerr &lt;&lt; myPacketCounter &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                myPacketCounter++;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                packetLength.read(readFunctionOutputPathPacketLength);              <span class="comment">// Read the packet length</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                ap_uint&lt;16&gt; interimLength = readFunctionOutputPathPacketLength; <span class="comment">// Add the length of the UDP header</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                readFunctionOutputPathPacketLength -= 8;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                outputPathReadFunction2addIpHeader_length.write(interimLength);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <a class="code" href="structmetadata.html">metadata</a> tempMetadata           = udpMetadata.read();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> outputWord              = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(15, 0)    = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(tempMetadata.<a class="code" href="structmetadata.html#aec56b1cfe63f9c0c0926416f752089b8">sourceSocket</a>.<a class="code" href="structsockaddr__in.html#ac775691a8e6c8b90acbbe5162930cb8d">port</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16)   = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(tempMetadata.<a class="code" href="structmetadata.html#a040cbf60a5e325610640b35ad66712ae">destinationSocket</a>.<a class="code" href="structsockaddr__in.html#ac775691a8e6c8b90acbbe5162930cb8d">port</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(47, 32)   = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(interimLength);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 48)   = udpChecksum.read();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="comment">//std::cerr &lt;&lt; std::hex &lt;&lt; outputWord.data &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                outputPathOutData.write(outputWord);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                <a class="code" href="structipTuple.html">ipTuple</a> tempIPaddresses = <a class="code" href="structipTuple.html">ipTuple</a>(tempMetadata.<a class="code" href="structmetadata.html#aec56b1cfe63f9c0c0926416f752089b8">sourceSocket</a>.<a class="code" href="structsockaddr__in.html#a1679df8726f54e926771b127f1a0a185">addr</a>, tempMetadata.<a class="code" href="structmetadata.html#a040cbf60a5e325610640b35ad66712ae">destinationSocket</a>.<a class="code" href="structsockaddr__in.html#a1679df8726f54e926771b127f1a0a185">addr</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                outIPaddresses.write(tempIPaddresses);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                outputPathReadFunctionState = OR_STREAM;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">case</span> OR_STREAM:</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (!packetData.empty()) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                ap_uint&lt;64&gt; inputWord = packetData.read();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> outputWord = <a class="code" href="structaxiWord.html">axiWord</a>(inputWord, 0xFF, 0);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="comment">//std::cerr &lt;&lt; std::hex &lt;&lt; outputWord.data &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">if</span> (readFunctionOutputPathPacketLength &gt; 8)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    readFunctionOutputPathPacketLength -= 8;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    outputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> = 1;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a> = <a class="code" href="udp_8cpp.html#a9c278490239ecbc4f19385ab40778673">length2keep_mapping</a>(<span class="keyword">static_cast &lt;</span>uint16_t<span class="keyword">&gt;</span>(readFunctionOutputPathPacketLength));</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    readFunctionOutputPathPacketLength = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    outputPathReadFunctionState = OR_IDLE;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                outputPathOutData.write(outputWord);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="ttc" id="astructmetadata_html_a040cbf60a5e325610640b35ad66712ae"><div class="ttname"><a href="structmetadata.html#a040cbf60a5e325610640b35ad66712ae">metadata::destinationSocket</a></div><div class="ttdeci">sockaddr_in destinationSocket</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00085">udp.hpp:85</a></div></div>
<div class="ttc" id="astructmetadata_html_aec56b1cfe63f9c0c0926416f752089b8"><div class="ttname"><a href="structmetadata.html#aec56b1cfe63f9c0c0926416f752089b8">metadata::sourceSocket</a></div><div class="ttdeci">sockaddr_in sourceSocket</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00084">udp.hpp:84</a></div></div>
<div class="ttc" id="astructsockaddr__in_html_a1679df8726f54e926771b127f1a0a185"><div class="ttname"><a href="structsockaddr__in.html#a1679df8726f54e926771b127f1a0a185">sockaddr_in::addr</a></div><div class="ttdeci">ap_uint&lt; 32 &gt; addr</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00077">udp.hpp:77</a></div></div>
<div class="ttc" id="astructsockaddr__in_html_ac775691a8e6c8b90acbbe5162930cb8d"><div class="ttname"><a href="structsockaddr__in.html#ac775691a8e6c8b90acbbe5162930cb8d">sockaddr_in::port</a></div><div class="ttdeci">ap_uint&lt; 16 &gt; port</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00076">udp.hpp:76</a></div></div>
<div class="ttc" id="audp_8cpp_html_a9c278490239ecbc4f19385ab40778673"><div class="ttname"><a href="udp_8cpp.html#a9c278490239ecbc4f19385ab40778673">length2keep_mapping</a></div><div class="ttdeci">ap_uint&lt; 8 &gt; length2keep_mapping(ap_uint&lt; 4 &gt; lengthValue)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00069">udp.cpp:69</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ac9534443c048247ba677ee69e19efca9_cgraph.svg" width="406" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ac9534443c048247ba677ee69e19efca9_icgraph.svg" width="412" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0161cf9540ca39a6468a0c32b019d8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0161cf9540ca39a6468a0c32b019d8cc">&#9670;&nbsp;</a></span>outputPathWriteFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void outputPathWriteFunction </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputpathInLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>packetData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>packetLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>udpMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structioWord.html">ioWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathWriteFunction2checksumCalculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00511">511</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                                                                          {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> opwfState{OW_IDLE = 0, OW_PSEUDOHEADER, OW_MIX, OW_STREAM, OW_RESIDUE, OW_SWCS, OW_ONLYPACKETRESIDUE} outputPathWriteFunctionState;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keyword">static</span> <a class="code" href="structaxiWord.html">axiWord</a>      outputPathInputWord     = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 0);                                 <span class="comment">// Temporary buffer for the input data word</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">static</span> ap_uint&lt;16&gt;  outputPathPacketLength  = 0;                                                <span class="comment">// Temporary buffer for the packet data length</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">static</span> <a class="code" href="structmetadata.html">metadata</a>     tempMetadata            = <a class="code" href="structmetadata.html">metadata</a>(<a class="code" href="structsockaddr__in.html">sockaddr_in</a>(0, 0), <a class="code" href="structsockaddr__in.html">sockaddr_in</a>(0, 0));   <span class="comment">// Temporary buffer for the destination &amp; source IP addresses &amp; ports</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">switch</span>(outputPathWriteFunctionState) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">case</span> OW_IDLE:</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">if</span> (!outputPathInMetadata.empty() &amp;&amp; !outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                tempMetadata = outputPathInMetadata.read();     <span class="comment">// Read in the metadata</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                udpMetadata.write(tempMetadata);                <span class="comment">// Write the metadata in the buffer for the next stage</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <a class="code" href="structioWord.html">ioWord</a> checksumOutput = {0, 0};                 <span class="comment">// Temporary variable for the checksum calculation data word</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a> = (<a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(tempMetadata.<a class="code" href="structmetadata.html#a040cbf60a5e325610640b35ad66712ae">destinationSocket</a>.<a class="code" href="structsockaddr__in.html#a1679df8726f54e926771b127f1a0a185">addr</a>), <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(tempMetadata.<a class="code" href="structmetadata.html#aec56b1cfe63f9c0c0926416f752089b8">sourceSocket</a>.<a class="code" href="structsockaddr__in.html#a1679df8726f54e926771b127f1a0a185">addr</a>));    <span class="comment">// Create the first checksum calc. data word. Byte swap the addresses</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);  <span class="comment">// Write the data word into the output</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                outputPathWriteFunctionState = OW_PSEUDOHEADER;                     <span class="comment">// Move into the next state</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">case</span> OW_PSEUDOHEADER:</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">if</span> (!outputpathInLength.empty() &amp;&amp; !outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                outputPathPacketLength = outputpathInLength.read();     <span class="comment">// Read in the payload length</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                outputPathPacketLength += 8;                            <span class="comment">// Increase the length to take the UDP header into account.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                packetLength.write(outputPathPacketLength);             <span class="comment">// Write length into the buffer for the next stage</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <a class="code" href="structioWord.html">ioWord</a>  checksumOutput      = {0x1100, 0};              <span class="comment">// Create the 2nd checksum word. 0x1100 is the protocol used</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(63, 16) = (<a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(tempMetadata.<a class="code" href="structmetadata.html#a040cbf60a5e325610640b35ad66712ae">destinationSocket</a>.<a class="code" href="structsockaddr__in.html#ac775691a8e6c8b90acbbe5162930cb8d">port</a>), <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(tempMetadata.<a class="code" href="structmetadata.html#aec56b1cfe63f9c0c0926416f752089b8">sourceSocket</a>.<a class="code" href="structsockaddr__in.html#ac775691a8e6c8b90acbbe5162930cb8d">port</a>), <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(outputPathPacketLength));  <span class="comment">// Add destination &amp; source port &amp; packet length info for the checksum calculation</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="comment">//std::cerr &lt;&lt; std::hex &lt;&lt; checksumOutput &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);  <span class="comment">// Write the checksum word into the output</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                outputPathWriteFunctionState = OW_MIX;                              <span class="comment">// Move to the next state</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">case</span> OW_MIX:</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">if</span> (!outputPathInData.empty() &amp;&amp; !outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                outputPathInputWord                 = outputPathInData.read();  <span class="comment">// Read in the first payload length</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <a class="code" href="structioWord.html">ioWord</a> checksumOutput               = {0, 0};                   <span class="comment">// First payload length</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(15, 0)    = (outputPathPacketLength.range(7, 0), outputPathPacketLength.range(15, 8));    <span class="comment">// Packet length for the checksum calculation data</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(63, 32)   = outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);                                        <span class="comment">// Payload data copy to the checksum calculation</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">if</span> (outputPathInputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1)  {       <span class="comment">// When the last data word is read</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    packetData.write(outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">if</span> (outputPathInputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) == 0) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        outputPathWriteFunctionState = OW_IDLE; <span class="comment">// Move to the residue state and output any remaining data.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        checksumOutput.<a class="code" href="structioWord.html#a61a934e78fc52922d45a936d7350db4c">eop</a> = 1;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                        outputPathWriteFunctionState = OW_SWCS;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    outputPathWriteFunctionState = OW_STREAM;   <span class="comment">// Go into next state</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);  <span class="comment">// Write checksum calculation data word</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">break</span>;  </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">case</span> OW_STREAM: <span class="comment">// This state streams all the payload data into both the checksum calculation stage and the next stage, reformatting them as required</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">if</span> (!outputPathInData.empty() &amp;&amp; !packetData.full() &amp;&amp; !outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                packetData.write(outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>);                                     <span class="comment">// Write the realignned data word to the next stage</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <a class="code" href="structioWord.html">ioWord</a>  checksumOutput              = {0, 0};</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(31,0)     = outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);   <span class="comment">// Realign the output data word for the next stage</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                outputPathInputWord                 = outputPathInData.read();                  <span class="comment">// Read the next data word</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(63, 32)   = outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">if</span> (outputPathInputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <span class="keywordflow">if</span> (outputPathInputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.bit(4) == 1)       <span class="comment">// When the last data word is read</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                        outputPathWriteFunctionState = OW_RESIDUE;  <span class="comment">// Move to the residue state and output any remaining data.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                        outputPathWriteFunctionState = OW_ONLYPACKETRESIDUE;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        checksumOutput.<a class="code" href="structioWord.html#a61a934e78fc52922d45a936d7350db4c">eop</a> = 1;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);              <span class="comment">// Write the checksum calculation data word</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">case</span> OW_ONLYPACKETRESIDUE:</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">if</span> (!packetData.full()) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                packetData.write(outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                outputPathWriteFunctionState    = OW_IDLE;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">case</span> OW_SWCS:</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">if</span> (!outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <a class="code" href="structioWord.html">ioWord</a> checksumOutput       = {0, 1};</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(31, 0) = outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                outputPathWriteFunctionState    = OW_IDLE;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">case</span> OW_RESIDUE:</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">if</span> (!packetData.full() &amp;&amp; !outputPathWriteFunction2checksumCalculation.full()) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <a class="code" href="structioWord.html">ioWord</a> checksumOutput       = {0, 1};</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                checksumOutput.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(31, 0)        = outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                outputPathWriteFunction2checksumCalculation.write(checksumOutput);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                packetData.write(outputPathInputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                outputPathWriteFunctionState    = OW_IDLE;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
<div class="ttc" id="astructioWord_html"><div class="ttname"><a href="structioWord.html">ioWord</a></div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00099">udp.hpp:99</a></div></div>
<div class="ttc" id="astructioWord_html_a61a934e78fc52922d45a936d7350db4c"><div class="ttname"><a href="structioWord.html#a61a934e78fc52922d45a936d7350db4c">ioWord::eop</a></div><div class="ttdeci">ap_uint&lt; 1 &gt; eop</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00101">udp.hpp:101</a></div></div>
<div class="ttc" id="astructioWord_html_a663abf5f7374a943e553c3eb1bca4891"><div class="ttname"><a href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">ioWord::data</a></div><div class="ttdeci">ap_uint&lt; 64 &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="udp_8hpp_source.html#l00100">udp.hpp:100</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a0161cf9540ca39a6468a0c32b019d8cc_cgraph.svg" width="344" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a0161cf9540ca39a6468a0c32b019d8cc_icgraph.svg" width="415" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afdbef87d4c0a22a84d59c0d40997e92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbef87d4c0a22a84d59c0d40997e92b">&#9670;&nbsp;</a></span>portTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portTable </td>
          <td>(</td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>rxEng2portTable_check_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>app2portTable_port_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>app2portTable_port_rel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>portTable2app_port_assign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>portTable2rxEng_check_rsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00088">88</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                                                   {    <span class="comment">// Output stream, returning true or false to the Rx path depending on if the queried port is open or not</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>[65536];</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">    #pragma HLS RESOURCE variable=portTable core=RAM_T2P_BRAM</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">    #pragma HLS DEPENDENCE variable=portTable inter false</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (!rxEng2portTable_check_req.empty()) {                   <span class="comment">// This part handles querying the state of a port when a packet is received on the Rx side.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        ap_uint&lt;16&gt; currPort = rxEng2portTable_check_req.read();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        portTable2rxEng_check_rsp.write(<a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>[currPort]);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!app2portTable_port_req.empty()) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        ap_uint&lt;16&gt; portToOpen  = app2portTable_port_req.read();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>[portToOpen])</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            portTable2app_port_assign.write(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            portTable2app_port_assign.write(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>[portToOpen] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!app2portTable_port_rel.empty()) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        ap_uint&lt;16&gt; releasedPort    = app2portTable_port_rel.read();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>[releasedPort]     = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="audp_8cpp_html_afdbef87d4c0a22a84d59c0d40997e92b"><div class="ttname"><a href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a></div><div class="ttdeci">void portTable(stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;rxEng2portTable_check_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_rel, stream&lt; bool &gt; &amp;portTable2app_port_assign, stream&lt; bool &gt; &amp;portTable2rxEng_check_rsp)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00088">udp.cpp:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_afdbef87d4c0a22a84d59c0d40997e92b_icgraph.svg" width="315" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a50055eb4ca1f517dcf735489825fdd37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50055eb4ca1f517dcf735489825fdd37">&#9670;&nbsp;</a></span>rxEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rxEngine </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>app2portTable_port_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>app2portTable_port_rel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>portTable2app_port_assign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathOutData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathOutputMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathPortUnreachable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00481">481</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                                           {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#pragma HLS INLINE</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keyword">static</span> stream&lt;ap_uint&lt;16&gt; &gt;     rxEng2portTable_check_req(<span class="stringliteral">&quot;rxEng2portTable_check_req&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keyword">static</span> stream&lt;bool&gt;             portTable2rxEng_assign(<span class="stringliteral">&quot;portTable2rxEng_assign&quot;</span>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keyword">static</span> stream&lt;axiWord&gt;          strip2inputPath_data(<span class="stringliteral">&quot;strip2inputPath_data&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">static</span> stream&lt;ipTuple&gt;          strip2inputPath_IP(<span class="stringliteral">&quot;strip2inputPath_IP&quot;</span>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">static</span> stream&lt;axiWord&gt;          strip2rxChecksum(<span class="stringliteral">&quot;strip2rxChecksum&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keyword">static</span> stream&lt;bool&gt;             rxChecksum2rxEngine(<span class="stringliteral">&quot;rxChecksum2rxEngine&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">static</span> stream&lt;axiWord&gt;          strip2inputPath_IPheader(<span class="stringliteral">&quot;strip2inputPath_IPheader&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=strip2inputPath_data                        depth=4096</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=strip2inputPath_IPheader                    depth=32</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=strip2inputPath_IP                          depth=8</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=strip2rxChecksum                            depth=8</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=rxChecksum2rxEngine                         depth=4</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="udp_8cpp.html#a9b4c08d9aba53de32255cb80e946b26a">stripIpHeader</a>(inputPathInData, strip2inputPath_data, strip2inputPath_IPheader, strip2inputPath_IP, strip2rxChecksum);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="udp_8cpp.html#ab457e4a99df4a06683f999114457ec19">rxEngineUdpChecksumVerification</a>(strip2rxChecksum, rxChecksum2rxEngine);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="udp_8cpp.html#ae9d746a44b78299bf262dcc5ed518c74">inputPathRxEngine</a>(strip2inputPath_data, strip2inputPath_IP, strip2inputPath_IPheader, rxEng2portTable_check_req, portTable2rxEng_assign, rxChecksum2rxEngine, inputPathOutData, inputPathOutputMetadata, inputPathPortUnreachable);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="udp_8cpp.html#afdbef87d4c0a22a84d59c0d40997e92b">portTable</a>(rxEng2portTable_check_req, app2portTable_port_req, app2portTable_port_rel, portTable2app_port_assign, portTable2rxEng_assign);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="ttc" id="audp_8cpp_html_a9b4c08d9aba53de32255cb80e946b26a"><div class="ttname"><a href="udp_8cpp.html#a9b4c08d9aba53de32255cb80e946b26a">stripIpHeader</a></div><div class="ttdeci">void stripIpHeader(stream&lt; axiWord &gt; &amp;inputPathInData, stream&lt; axiWord &gt; &amp;strip2inputPath_data, stream&lt; axiWord &gt; &amp;strip2inputPath_IpHeader, stream&lt; ipTuple &gt; &amp;strip2inputPath_IP, stream&lt; axiWord &gt; &amp;strip2rxChecksum)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00269">udp.cpp:269</a></div></div>
<div class="ttc" id="audp_8cpp_html_ab457e4a99df4a06683f999114457ec19"><div class="ttname"><a href="udp_8cpp.html#ab457e4a99df4a06683f999114457ec19">rxEngineUdpChecksumVerification</a></div><div class="ttdeci">void rxEngineUdpChecksumVerification(stream&lt; axiWord &gt; &amp;dataIn, stream&lt; bool &gt; &amp;udpChecksumOut)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00443">udp.cpp:443</a></div></div>
<div class="ttc" id="audp_8cpp_html_ae9d746a44b78299bf262dcc5ed518c74"><div class="ttname"><a href="udp_8cpp.html#ae9d746a44b78299bf262dcc5ed518c74">inputPathRxEngine</a></div><div class="ttdeci">void inputPathRxEngine(stream&lt; axiWord &gt; &amp;inputPathInputData, stream&lt; ipTuple &gt; &amp;incomingIPaddresses, stream&lt; axiWord &gt; &amp;inputPathIPheader, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;rxEng2portTable_check_req, stream&lt; bool &gt; &amp;portTable2rxEng_assign, stream&lt; bool &gt; &amp;rxChecksum2rxEngine, stream&lt; axiWord &gt; &amp;inputPathOutputData, stream&lt; metadata &gt; &amp;inputPathOutputMetadata, stream&lt; axiWord &gt; &amp;inputPathPortUnreachable)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00117">udp.cpp:117</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a50055eb4ca1f517dcf735489825fdd37_cgraph.svg" width="535" height="215"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a50055eb4ca1f517dcf735489825fdd37_icgraph.svg" width="184" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab457e4a99df4a06683f999114457ec19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab457e4a99df4a06683f999114457ec19">&#9670;&nbsp;</a></span>rxEngineUdpChecksumVerification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rxEngineUdpChecksumVerification </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dataIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>udpChecksumOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00443">443</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                                                         {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#pragma HLS INLINE off</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">static</span> ap_uint&lt;32&gt;  udpChecksum         = 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">static</span> ap_uint&lt;16&gt;  receivedChecksum    = 0;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">static</span> ap_uint&lt;10&gt;  wordCounter         = 0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (!dataIn.empty()) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        wordCounter++;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="structaxiWord.html">axiWord</a> inputWord = dataIn.read();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">if</span>(wordCounter == 3)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            receivedChecksum = (inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(23, 16), inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 24));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        udpChecksum = ((((udpChecksum + inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 48)) + inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(47, 32)) + inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16)) + inputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(15, 0));</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">if</span> (inputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a>) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            wordCounter = 0;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            udpChecksum = (udpChecksum &amp; 0xFFFF) + (udpChecksum &gt;&gt; 16);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            udpChecksum = (udpChecksum &amp; 0xFFFF) + (udpChecksum &gt;&gt; 16);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            udpChecksum = ~udpChecksum;         <span class="comment">// Reverse the bits of the result</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            ap_uint&lt;16&gt; tempChecksum = udpChecksum.range(15, 0);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            udpChecksumOut.write(tempChecksum == 0 || receivedChecksum == 0);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            udpChecksum = 0;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ab457e4a99df4a06683f999114457ec19_icgraph.svg" width="479" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9b4c08d9aba53de32255cb80e946b26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4c08d9aba53de32255cb80e946b26a">&#9670;&nbsp;</a></span>stripIpHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stripIpHeader </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>strip2inputPath_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>strip2inputPath_IpHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structipTuple.html">ipTuple</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>strip2inputPath_IP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>strip2rxChecksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00269">269</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                                                                                                                                                                                               {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">    #pragma HLS INLINE off</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">    #pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">static</span> <span class="keyword">enum</span> sState{STRIP_IDLE = 0, STRIP_IP, STRIP_SKIPOPTIONS, STRIP_IP2, STRIP_FORWARD, STRIP_FORWARDALIGNED, STRIP_FORWARD_CS, STRIP_FORWARDCSALIGNED, STRIP_RESIDUE, STRIP_CS_RESIDUE, STRIP_CS_RESIDUEALIGNNED} stripState;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">static</span> <a class="code" href="structaxiWord.html">axiWord</a>      outputWord      = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 0);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">static</span> <a class="code" href="structipTuple.html">ipTuple</a>      stripIpTuple    = <a class="code" href="structipTuple.html">ipTuple</a>(0, 0);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">static</span> ap_uint&lt;16&gt;  udpLength       = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">static</span> ap_uint&lt;4&gt;   ipHeaderLength  = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">static</span> ap_uint&lt;4&gt;   bitCounter      = 0;        <span class="comment">// Used to count the number of bytes which are valid in the last data word</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keyword">static</span> ap_uint&lt;3&gt;   ipHdrWordCount  = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">switch</span>(stripState) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">case</span> STRIP_IDLE:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2inputPath_IpHeader.full()) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            bitCounter      = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            ipHdrWordCount  = 0;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            outputWord      = inputPathInData.read();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            udpLength       = (outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(23, 16), outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 24));   <span class="comment">// Store the IP packet length</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            ipHeaderLength  = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(3, 0);                                      <span class="comment">// Store the IP header length in 32-bit words</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            udpLength       = udpLength - (ipHeaderLength * 4);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            strip2inputPath_IpHeader.write(outputWord);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            stripState      = STRIP_IP;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">case</span> STRIP_IP:</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2inputPath_IpHeader.full()) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            outputWord = inputPathInData.read();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            stripIpTuple.<a class="code" href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">sourceIP</a> = <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            strip2inputPath_IpHeader.write(outputWord);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            ipHdrWordCount  = 1;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            ipHeaderLength -= 2;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">if</span> (ipHeaderLength == 3)                <span class="comment">// Check the remaining IP Hdr legth ad determine if there are options that need to be ignored or if the next word contains UDP Header</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                stripState = STRIP_IP2;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipHeaderLength &gt; 3)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                stripState = STRIP_SKIPOPTIONS;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">case</span> STRIP_SKIPOPTIONS:</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2inputPath_IpHeader.full()  &amp;&amp; !strip2inputPath_IP.full()) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            outputWord = inputPathInData.read();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (ipHdrWordCount == 1) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                stripIpTuple.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a> = <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                strip2inputPath_IP.write(stripIpTuple);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> checksumWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a> = (<a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(stripIpTuple.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a>), <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(stripIpTuple.<a class="code" href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">sourceIP</a>));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                strip2rxChecksum.write(checksumWord);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            strip2inputPath_IpHeader.write(outputWord);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            ipHeaderLength -= 2;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            ipHdrWordCount++;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">if</span> (ipHeaderLength == 2)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                stripState = STRIP_FORWARDALIGNED;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipHeaderLength == 3)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                stripState = STRIP_IP2;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipHeaderLength &gt; 3)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                stripState = STRIP_SKIPOPTIONS;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">case</span> STRIP_IP2:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2rxChecksum.full() &amp;&amp; !strip2inputPath_IP.full()) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            outputWord = inputPathInData.read();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span> (ipHdrWordCount == 1) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                stripIpTuple.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a> = <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                strip2inputPath_IP.write(stripIpTuple);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> checksumWord = <a class="code" href="structaxiWord.html">axiWord</a>((<a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(stripIpTuple.<a class="code" href="structipTuple.html#addc660f798accfa7184014e067360384">destinationIP</a>), <a class="code" href="udp_8cpp.html#ga2355e0cecd0576470bca0178c4c1aec2">byteSwap32</a>(stripIpTuple.<a class="code" href="structipTuple.html#a2badda3013481eb44345d52dc346d7ed">sourceIP</a>)), 0xFF, 0);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                strip2rxChecksum.write(checksumWord);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            strip2inputPath_IpHeader.write(<a class="code" href="structaxiWord.html">axiWord</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0), 0x0F, 1));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            stripState = STRIP_FORWARD;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">case</span> STRIP_FORWARDALIGNED:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2rxChecksum.full() &amp;&amp; !strip2inputPath_data.full()) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            outputWord                      = inputPathInData.read();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> checksumWord            = <a class="code" href="structaxiWord.html">axiWord</a>(0x1100, 0xFF, 0);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16) = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(udpLength.range(15, 0));   <span class="comment">// Same for the UDP length.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            strip2rxChecksum.write(checksumWord);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            strip2inputPath_data.write(outputWord);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            stripState = STRIP_FORWARDCSALIGNED;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">case</span> STRIP_FORWARD:</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2rxChecksum.full() &amp;&amp; !strip2inputPath_data.full()) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> checksumWord            = <a class="code" href="structaxiWord.html">axiWord</a>(0x1100, 0xFF, 0);   <span class="comment">// Inject Protocol length in the pseudo header</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 16) = <a class="code" href="udp_8cpp.html#ga3179abf5c515026aad3e82047a1dd9a3">byteSwap16</a>(udpLength.range(15, 0));   <span class="comment">// Same for the UDP length.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            strip2rxChecksum.write(checksumWord);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord                = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0x0F, 0);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0)      = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            outputWord                      = inputPathInData.read();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32)     = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4)       = outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            strip2inputPath_data.write(tempWord);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                bitCounter = <a class="code" href="udp_8cpp.html#ae97a3ce458f62004e3eef7684e184a89">countBits</a>(outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                stripState = STRIP_RESIDUE;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                stripState = STRIP_FORWARD_CS;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">case</span> STRIP_FORWARDCSALIGNED:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2rxChecksum.full() &amp;&amp; !strip2inputPath_data.full()) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> checksumWord            = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0xFF, 0);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0)  = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            outputWord                      = inputPathInData.read();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            checksumWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            strip2rxChecksum.write(checksumWord);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            strip2inputPath_data.write(outputWord);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) &gt; 0)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    stripState = STRIP_CS_RESIDUEALIGNNED;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    stripState = STRIP_IDLE;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">case</span> STRIP_FORWARD_CS:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (!inputPathInData.empty() &amp;&amp; !strip2rxChecksum.full() &amp;&amp; !strip2inputPath_data.full()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                strip2rxChecksum.write(outputWord);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="comment">//std::cerr &lt;&lt; std::hex &lt;&lt; outputWord.data &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="structaxiWord.html">axiWord</a> tempWord                = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0x0F, 0);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0)      = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                outputWord                      = inputPathInData.read();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32)     = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4)       = outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> == 1) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    bitCounter = <a class="code" href="udp_8cpp.html#ae97a3ce458f62004e3eef7684e184a89">countBits</a>(outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <span class="keywordflow">if</span> (outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4) != 0)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                        stripState = STRIP_RESIDUE;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7,4) = outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        tempWord.<a class="code" href="structaxiWord.html#ad2f0b5a1f80b7e39238490c7ab9e4b73">last</a> = 1;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        stripState = STRIP_CS_RESIDUE;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                strip2inputPath_data.write(tempWord);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">case</span> STRIP_RESIDUE:</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (!strip2rxChecksum.full() &amp;&amp; !strip2inputPath_data.full()) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> tempWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, 0, 1);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> csWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>, 1);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            csWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range((bitCounter.to_int() * 8) - 1, 0) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range((bitCounter.to_int() * 8) - 1, 0);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            strip2rxChecksum.write(csWord);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(31, 0) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            tempWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(3, 0)  = outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">//std::cerr &lt;&lt; std::hex &lt;&lt; tempWord.data &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            strip2inputPath_data.write(tempWord);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            stripState = STRIP_IDLE;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">case</span> STRIP_CS_RESIDUE:</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> (!strip2rxChecksum.full()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <a class="code" href="structaxiWord.html">axiWord</a> csWord = <a class="code" href="structaxiWord.html">axiWord</a>(0, outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>, 1);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            csWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range((bitCounter.to_int() * 8) - 1, 0) = outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range((bitCounter.to_int() * 8) - 1, 0);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            strip2rxChecksum.write(csWord);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            stripState = STRIP_IDLE;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">case</span> STRIP_CS_RESIDUEALIGNNED:</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (!strip2rxChecksum.full()) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="comment">//axiWord csWord = {outputWord.data.range(31, 0), outputWord.keep.range(7, 4), 1};</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="comment">//strip2rxChecksum.write(csWord);</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            strip2rxChecksum.write(<a class="code" href="structaxiWord.html">axiWord</a>(outputWord.<a class="code" href="structaxiWord.html#a128adbb23d71244349ec78253adf8732">data</a>.range(63, 32), outputWord.<a class="code" href="structaxiWord.html#a0bb32bd44428fcd9c40661461e555468">keep</a>.range(7, 4), 1));</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            stripState = STRIP_IDLE;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">break</span>;  </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="ttc" id="audp_8cpp_html_ae97a3ce458f62004e3eef7684e184a89"><div class="ttname"><a href="udp_8cpp.html#ae97a3ce458f62004e3eef7684e184a89">countBits</a></div><div class="ttdeci">ap_uint&lt; 4 &gt; countBits(ap_uint&lt; 8 &gt; bitVector)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00060">udp.cpp:60</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a9b4c08d9aba53de32255cb80e946b26a_cgraph.svg" width="272" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_a9b4c08d9aba53de32255cb80e946b26a_icgraph.svg" width="343" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab52d8919cd270177a9b1fa89607abae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52d8919cd270177a9b1fa89607abae7">&#9670;&nbsp;</a></span>txEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txEngine </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputpathInLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathOutData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00765">765</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                                    {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#pragma HLS INLINE</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// Declare intermediate streams for inter-function communication</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keyword">static</span> stream&lt;ap_uint&lt;64&gt; &gt; packetData(<span class="stringliteral">&quot;packetData&quot;</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">static</span> stream&lt;ap_uint&lt;16&gt; &gt; packetLength(<span class="stringliteral">&quot;packetLength&quot;</span>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">static</span> stream&lt;metadata&gt;     udpMetadata(<span class="stringliteral">&quot;udpMetadata&quot;</span>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keyword">static</span> stream&lt;ap_uint&lt;16&gt; &gt; checksumCalculation2outputPathReadFunction(<span class="stringliteral">&quot;checksumCalculation2outputPathReadFunction&quot;</span>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keyword">static</span> stream&lt;ioWord&gt;       outputPathWriteFunction2checksumCalculation(<span class="stringliteral">&quot;outputPathWriteFunction2checksumCalculation&quot;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keyword">static</span> stream&lt;axiWord&gt;      outputPathRead2addIpHeader_data(<span class="stringliteral">&quot;outputPathRead2addIpHeader_data&quot;</span>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keyword">static</span> stream&lt;ipTuple&gt;      outputPathRead2addIpHeader_ipAddress(<span class="stringliteral">&quot;outputPathRead2addIpHeader_ipAddress&quot;</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">static</span> stream&lt;ap_uint&lt;16&gt; &gt; outputPathReadFunction2addIpHeader_length(<span class="stringliteral">&quot;outputPathReadFunction2addIpHeader_length&quot;</span>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK   variable=udpMetadata</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK   variable=outputPathRead2addIpHeader_ipAddress</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=packetData                                  depth=4096</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=packetLength                                depth=8</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=udpMetadata                                 depth=8</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">    #pragma HLS STREAM variable=outputPathWriteFunction2checksumCalculation depth=32</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="udp_8cpp.html#a0161cf9540ca39a6468a0c32b019d8cc">outputPathWriteFunction</a>(outputPathInData, outputPathInMetadata, outputpathInLength, packetData, packetLength, udpMetadata, </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                            outputPathWriteFunction2checksumCalculation);   <span class="comment">// This function receives the data from the user logic, creates the pseudo-header for UDP checksum calculation and send it on to the read stage.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="udp_8cpp.html#ad71a22562058aed9321d24a59b5ebff8">udpChecksumCalculation</a>(outputPathWriteFunction2checksumCalculation, checksumCalculation2outputPathReadFunction); <span class="comment">// Calculates the UDP checksum value</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="udp_8cpp.html#ac9534443c048247ba677ee69e19efca9">outputPathReadFunction</a>(packetData, packetLength, udpMetadata, checksumCalculation2outputPathReadFunction, outputPathRead2addIpHeader_data, outputPathRead2addIpHeader_ipAddress, outputPathReadFunction2addIpHeader_length); <span class="comment">// Reads the checksum value and composes the UDP packet</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="udp_8cpp.html#a81785bdba700074bf8a87c69cd60cc82">addIpHeader</a>(outputPathRead2addIpHeader_data, outputPathRead2addIpHeader_ipAddress, outputPathOutData, outputPathReadFunction2addIpHeader_length); <span class="comment">// Adds the IP header on top of the UDP one.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="ttc" id="audp_8cpp_html_a0161cf9540ca39a6468a0c32b019d8cc"><div class="ttname"><a href="udp_8cpp.html#a0161cf9540ca39a6468a0c32b019d8cc">outputPathWriteFunction</a></div><div class="ttdeci">void outputPathWriteFunction(stream&lt; axiWord &gt; &amp;outputPathInData, stream&lt; metadata &gt; &amp;outputPathInMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputpathInLength, stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;packetData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;packetLength, stream&lt; metadata &gt; &amp;udpMetadata, stream&lt; ioWord &gt; &amp;outputPathWriteFunction2checksumCalculation)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00511">udp.cpp:511</a></div></div>
<div class="ttc" id="audp_8cpp_html_a81785bdba700074bf8a87c69cd60cc82"><div class="ttname"><a href="udp_8cpp.html#a81785bdba700074bf8a87c69cd60cc82">addIpHeader</a></div><div class="ttdeci">void addIpHeader(stream&lt; axiWord &gt; &amp;outputPathRead2addIpHeader_data, stream&lt; ipTuple &gt; &amp;outputPathRead2addIpHeader_ipAddress, stream&lt; axiWord &gt; &amp;outputPathOutData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputPathReadFunction2addIpHeader_length)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00681">udp.cpp:681</a></div></div>
<div class="ttc" id="audp_8cpp_html_ac9534443c048247ba677ee69e19efca9"><div class="ttname"><a href="udp_8cpp.html#ac9534443c048247ba677ee69e19efca9">outputPathReadFunction</a></div><div class="ttdeci">void outputPathReadFunction(stream&lt; ap_uint&lt; 64 &gt; &gt; &amp;packetData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;packetLength, stream&lt; metadata &gt; &amp;udpMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;udpChecksum, stream&lt; axiWord &gt; &amp;outputPathOutData, stream&lt; ipTuple &gt; &amp;outIPaddresses, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputPathReadFunction2addIpHeader_length)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00629">udp.cpp:629</a></div></div>
<div class="ttc" id="audp_8cpp_html_ad71a22562058aed9321d24a59b5ebff8"><div class="ttname"><a href="udp_8cpp.html#ad71a22562058aed9321d24a59b5ebff8">udpChecksumCalculation</a></div><div class="ttdeci">void udpChecksumCalculation(stream&lt; ioWord &gt; &amp;dataIn, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;udpChecksumOut)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00609">udp.cpp:609</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ab52d8919cd270177a9b1fa89607abae7_cgraph.svg" width="539" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ab52d8919cd270177a9b1fa89607abae7_icgraph.svg" width="184" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="acf22a8b8213aa04e7082893eeadbc166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf22a8b8213aa04e7082893eeadbc166">&#9670;&nbsp;</a></span>udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udp </td>
          <td>(</td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>openPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>confirmPortStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputpathOutData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathOutputMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>portRelease</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathOutData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structmetadata.html">metadata</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputPathInMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputpathInLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; <a class="el" href="structaxiWord.html">axiWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputPathPortUnreachable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00810">810</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                                           {    <span class="comment">// Output Path Streams</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="preprocessor">    #pragma HLS INTERFACE ap_ctrl_none port=return          </span><span class="comment">// The block-level interface protocol is removed.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="preprocessor">    #pragma HLS DATAFLOW interval=1</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK   variable=inputPathOutputMetadata</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="preprocessor">    #pragma HLS DATA_PACK   variable=outputPathInMetadata</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// Set all of the interfaces as AXI4Stream</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=inputPathInData           metadata=&quot;-bus_bundle inputPathInData&quot;</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=inputpathOutData          metadata=&quot;-bus_bundle inputpathOutData&quot;</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=openPort                  metadata=&quot;-bus_bundle openPort&quot;</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=confirmPortStatus         metadata=&quot;-bus_bundle confirmPortStatus&quot;</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=inputPathOutputMetadata   metadata=&quot;-bus_bundle inputPathOutputMetadata&quot;</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=portRelease               metadata=&quot;-bus_bundle portRelease&quot;</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=outputPathInData          metadata=&quot;-bus_bundle outputPathInData&quot;</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=outputPathOutData         metadata=&quot;-bus_bundle outputPathOutData&quot;</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=outputPathInMetadata      metadata=&quot;-bus_bundle outputPathInMetadata&quot;</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=inputPathPortUnreachable  metadata=&quot;-bus_bundle inputPathPortUnreachable&quot;</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">    #pragma HLS resource core=AXI4Stream variable=outputpathInLength        metadata=&quot;-bus_bundle outputpathInLength&quot;</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// Data pack all of the interfaces that consist of structs (except the axiWord ones, which are to be mapped to the AXI4S I/F fields)</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="udp_8cpp.html#a50055eb4ca1f517dcf735489825fdd37">rxEngine</a>(inputPathInData, openPort, portRelease, confirmPortStatus, inputpathOutData, inputPathOutputMetadata, inputPathPortUnreachable);   <span class="comment">// Rx path</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="udp_8cpp.html#ab52d8919cd270177a9b1fa89607abae7">txEngine</a>(outputPathInData, outputPathInMetadata, outputpathInLength, outputPathOutData);                                                    <span class="comment">// Tx path</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="ttc" id="audp_8cpp_html_a50055eb4ca1f517dcf735489825fdd37"><div class="ttname"><a href="udp_8cpp.html#a50055eb4ca1f517dcf735489825fdd37">rxEngine</a></div><div class="ttdeci">void rxEngine(stream&lt; axiWord &gt; &amp;inputPathInData, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_req, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;app2portTable_port_rel, stream&lt; bool &gt; &amp;portTable2app_port_assign, stream&lt; axiWord &gt; &amp;inputPathOutData, stream&lt; metadata &gt; &amp;inputPathOutputMetadata, stream&lt; axiWord &gt; &amp;inputPathPortUnreachable)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00481">udp.cpp:481</a></div></div>
<div class="ttc" id="audp_8cpp_html_ab52d8919cd270177a9b1fa89607abae7"><div class="ttname"><a href="udp_8cpp.html#ab52d8919cd270177a9b1fa89607abae7">txEngine</a></div><div class="ttdeci">void txEngine(stream&lt; axiWord &gt; &amp;outputPathInData, stream&lt; metadata &gt; &amp;outputPathInMetadata, stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;outputpathInLength, stream&lt; axiWord &gt; &amp;outputPathOutData)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8cpp_source.html#l00765">udp.cpp:765</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="udp_8cpp_acf22a8b8213aa04e7082893eeadbc166_cgraph.svg" width="100%" height="594"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad71a22562058aed9321d24a59b5ebff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71a22562058aed9321d24a59b5ebff8">&#9670;&nbsp;</a></span>udpChecksumCalculation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpChecksumCalculation </td>
          <td>(</td>
          <td class="paramtype">stream&lt; <a class="el" href="structioWord.html">ioWord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dataIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stream&lt; ap_uint&lt; 16 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>udpChecksumOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="udp_8cpp_source.html#l00609">609</a> of file <a class="el" href="udp_8cpp_source.html">udp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                                                                    {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="preprocessor">#pragma HLS INLINE off</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="preprocessor">#pragma HLS pipeline II=1 enable_flush</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keyword">static</span> ap_uint&lt;32&gt;  udpChecksum     = 0;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (!dataIn.empty()) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="structioWord.html">ioWord</a> inputWord = dataIn.read();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        udpChecksum = ((((udpChecksum + inputWord.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(63, 48)) + inputWord.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(47, 32)) + inputWord.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(31, 16)) + inputWord.<a class="code" href="structioWord.html#a663abf5f7374a943e553c3eb1bca4891">data</a>.range(15, 0));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span> (inputWord.<a class="code" href="structioWord.html#a61a934e78fc52922d45a936d7350db4c">eop</a>) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            udpChecksum = (udpChecksum &amp; 0xFFFF) + (udpChecksum &gt;&gt; 16);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            udpChecksum = (udpChecksum &amp; 0xFFFF) + (udpChecksum &gt;&gt; 16);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            udpChecksum = ~udpChecksum;         <span class="comment">// Reverse the bits of the result</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            udpChecksumOut.write(udpChecksum.range(15, 0)); <span class="comment">// and write it into the output</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            udpChecksum = 0;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="udp_8cpp_ad71a22562058aed9321d24a59b5ebff8_icgraph.svg" width="419" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b7e1ac749c44ea1caea8cb543e7af8e2.html">repos_for_Dox</a></li><li class="navelem"><a class="el" href="dir_c763309d04da4bd0478ffd28b96eadab.html">cFDK</a></li><li class="navelem"><a class="el" href="dir_9d865a21f5e2fdf7044a2785351debc3.html">SRA</a></li><li class="navelem"><a class="el" href="dir_15c79a36c562404a975a80299d4bf8df.html">LIB</a></li><li class="navelem"><a class="el" href="dir_9b353e111de5a1e9bbdbc539674ff6a8.html">SHELL</a></li><li class="navelem"><a class="el" href="dir_86a5ff59ec3f544b412b98448fe6f8f4.html">LIB</a></li><li class="navelem"><a class="el" href="dir_c9f44e6f37e5344419a1b0905b1abe12.html">hls</a></li><li class="navelem"><a class="el" href="dir_e1e3d4eb93665cb4c1f6dd435b964e48.html">NTS</a></li><li class="navelem"><a class="el" href="dir_65a61876913afcc52691b4dfc1b52e41.html">legacy</a></li><li class="navelem"><a class="el" href="dir_c93c5193285cd17ea6c8cc5917857065.html">udp</a></li><li class="navelem"><a class="el" href="dir_1684083e523ea2f663a756cb6e70f247.html">src</a></li><li class="navelem"><a class="el" href="udp_8cpp.html">udp.cpp</a></li>
    <li class="footer">Generated on Sat Jul 15 2023 05:03:01 for cloudFPGA (cF) API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
    <!-- add the button to toggle the theme -->
    <script>
    $(document).ready(function(){
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    </script>
</html>
